{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lenovo/trader/app/live/live-analyzer.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\r\n\r\ntype Timeframe = \"5m\" | \"15m\" | \"1h\" | \"4h\" | \"12h\" | \"1d\" | \"3d\";\r\ntype UiMode = \"scan\" | \"plan\";\r\n\r\ntype ApiMode = \"HTF\" | \"LTF\" | \"FULL\" | \"LTF_ONLY\";\n\ntype StressConfig = {\n  sessionObjectiveMultiplier: number;\n  sessionDurationHours: number;\n  maxDailyLossPct: number;\n  maxLossPerTradePct: number;\n  maxLeverage: number;\n  maxConcurrentPositions: number;\n  minRR: number;\n  rrTierRange: number;\n  rrTierMixed: number;\n  confidenceThreshold: number;\n  confidenceNearMiss: number;\n  allowLTFOverride: boolean;\n  allowCounterTrend: boolean;\n  cooldownMinutes: number;\n  slippageBps: number;\n  feesBps: number;\n  killSwitchMaxDrawdownPct: number;\n  killSwitchConsecutiveLosses: number;\n  killSwitchVolatilitySpikePct: number;\n};\n\ntype SweepField = {\n  enabled: boolean;\n  min: number;\n  max: number;\n  step?: number;\n};\n\ntype SweepConfigUI = {\n  minRR: SweepField;\n  confidenceThreshold: SweepField;\n  maxLossPerTradePct: SweepField;\n  maxLeverage: SweepField;\n  maxConcurrentPositions: SweepField;\n  allowCounterTrend: { enabled: boolean };\n  allowLTFOverride: { enabled: boolean };\n};\n\ntype AnalyzeResponse = {\r\n  ok: boolean;\r\n  error?: string;\r\n\r\n  snapshot?: {\n    symbol?: string; // resolved symbol from backend (e.g., BTCUSDT-PERP)\n    price?: number;\n    price_candle?: number | null;\n    price_live?: number | null;\n    price_live_ts?: number | null;\n    equity?: number;\n    constraints?: any;\n    timeframes?: Array<any>;\n    live?: any;\r\n  };\r\n\r\n  gate?: {\r\n    blocked: boolean;\r\n    reasons: string[];\r\n    strongHigherTrend: boolean;\r\n    higherTimeframesUsed: string[];\r\n    labels: string[];\r\n  };\r\n\r\n  plan?: {\r\n    action: \"NO_TRADE\" | \"LONG\" | \"SHORT\";\r\n    leverage: number;\r\n    entry: { type: \"market\" | \"limit\" | \"stop\"; price?: number; trigger?: number };\r\n    stop: { price: number; rationale: string };\r\n    targets: Array<{ price: number; sizePct: number }>;\r\n    riskPct: number;\r\n    notes?: string;\r\n    citations?: Array<{ rule_chunk_id: string }>;\r\n  };\r\n\r\n  execution?: {\r\n    qty?: number;\r\n    notionalUsd?: number;\r\n    effectiveLeverage?: number;\r\n    riskUsdPlanned?: number;\r\n    riskUsdActual?: number;\r\n    perTarget?: Array<{ idx: number; price: number; sizePct: number; pnlUsd?: number; rr?: number }>;\r\n  };\r\n\r\n  intraday?: any; // backend may return intraday execution plan in LTF modes\r\n\r\n  verdict?: { ok: boolean; reasons: string[]; rr: number | null };\r\n  intradayVerdict?: { ok: boolean; reasons: string[] };\r\n\r\n  rules?: Array<{\r\n    id: string;\r\n    doc_name: string;\r\n    page: number;\r\n    section: string;\r\n    chunk_type: string;\r\n    similarity: number;\r\n  }>;\r\n};\r\n\r\ntype PersistedUI = {\n  symbol: string;\n  equityUsd: number;\n  lookback: number;\n  timeframesText: string;\n  scanEveryMs: number;\n  planEveryMs: number;\n  autoRefresh: boolean;\n  ltfOnly: boolean;\n  aggressive: boolean;\n  maxRiskPct: number;\n  minRR: number;\n  stressConfig?: StressConfig;\n  sweepConfig?: SweepConfigUI;\n  replayDays?: number;\n  replayStepHours?: number;\n  replayEnabled?: boolean;\n  replaySweep?: boolean;\n  replayCandidates?: number;\n  monteCarloRuns?: number;\n  accountId?: string;\n  autoExecute?: boolean;\n};\n\nconst LS_KEY = \"liveAnalyzerUI:v5\";\nconst DEFAULT_ACCOUNT_ID = \"b324d650-5810-4eab-a182-54811b4a1836\";\nconst POS_KEY = \"liveAnalyzerPositions:v1\";\nconst AUTO_EXEC_COOLDOWN_MS = 5 * 60 * 1000;\n\nconst DEFAULT_STRESS_CONFIG: StressConfig = {\n  sessionObjectiveMultiplier: 2,\n  sessionDurationHours: 24,\n  maxDailyLossPct: 45,\n  maxLossPerTradePct: 10,\n  maxLeverage: 20,\n  maxConcurrentPositions: 1,\n  minRR: 2,\n  rrTierRange: 2.4,\n  rrTierMixed: 2.2,\n  confidenceThreshold: 55,\n  confidenceNearMiss: 12,\n  allowLTFOverride: false,\n  allowCounterTrend: false,\n  cooldownMinutes: 15,\n  slippageBps: 6,\n  feesBps: 6,\n  killSwitchMaxDrawdownPct: 45,\n  killSwitchConsecutiveLosses: 4,\n  killSwitchVolatilitySpikePct: 3,\n};\n\nconst DEFAULT_SWEEP_CONFIG: SweepConfigUI = {\n  minRR: { enabled: true, min: 1.5, max: 3.2, step: 0.1 },\n  confidenceThreshold: { enabled: true, min: 40, max: 75, step: 1 },\n  maxLossPerTradePct: { enabled: false, min: 1, max: 12, step: 0.5 },\n  maxLeverage: { enabled: false, min: 5, max: 30, step: 1 },\n  maxConcurrentPositions: { enabled: false, min: 1, max: 3, step: 1 },\n  allowCounterTrend: { enabled: false },\n  allowLTFOverride: { enabled: false },\n};\n\r\nfunction fmt(n: any, digits = 2) {\n  const x = Number(n);\n  return Number.isFinite(x) ? x.toFixed(digits) : \"窶能";\n}\n\nfunction num(v: any): number | null {\n  const n = Number(v);\n  return Number.isFinite(n) ? n : null;\n}\n\r\nfunction clamp(n: number, lo: number, hi: number) {\n  return Math.max(lo, Math.min(hi, n));\n}\n\nfunction hashString(input: string) {\n  let h = 5381;\n  for (let i = 0; i < input.length; i++) h = (h * 33) ^ input.charCodeAt(i);\n  return (h >>> 0).toString(16);\n}\n\nfunction toMs(value: any): number | null {\n  if (!value) return null;\n  const t = Date.parse(String(value));\n  return Number.isFinite(t) ? t : null;\n}\n\nfunction csvEscape(value: any): string {\n  const s = String(value ?? \"\");\n  if (s.includes(\",\") || s.includes(\"\\\"\") || s.includes(\"\\n\")) {\n    return `\"${s.replace(/\"/g, \"\\\"\\\"\")}\"`;\n  }\n  return s;\n}\n\nfunction downloadCsv(filename: string, header: string[], rows: Array<Array<string | number>>) {\n  const csv = [header, ...rows].map((r) => r.map(csvEscape).join(\",\")).join(\"\\n\");\n  const blob = new Blob([csv], { type: \"text/csv;charset=utf-8\" });\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement(\"a\");\n  a.href = url;\n  a.download = filename;\n  document.body.appendChild(a);\n  a.click();\n  a.remove();\n  URL.revokeObjectURL(url);\n}\n\nfunction badgeStyle(action: string): React.CSSProperties {\r\n  const base: React.CSSProperties = {\r\n    padding: \"6px 10px\",\r\n    borderRadius: 999,\r\n    fontWeight: 850,\r\n    display: \"inline-flex\",\r\n    alignItems: \"center\",\r\n    gap: 8,\r\n    border: \"1px solid rgba(255,255,255,0.14)\",\r\n    letterSpacing: 0.2,\r\n  };\r\n\r\n  if (action === \"LONG\") return { ...base, background: \"rgba(0,255,0,0.10)\" };\r\n  if (action === \"SHORT\") return { ...base, background: \"rgba(255,0,0,0.10)\" };\r\n  return { ...base, background: \"rgba(255,255,255,0.06)\" };\r\n}\r\n\r\nfunction pill(on: boolean): React.CSSProperties {\r\n  return {\r\n    padding: \"8px 10px\",\r\n    borderRadius: 12,\r\n    border: \"1px solid rgba(255,255,255,0.16)\",\r\n    background: on ? \"rgba(255,255,255,0.10)\" : \"transparent\",\r\n    cursor: \"pointer\",\r\n    userSelect: \"none\",\r\n    fontWeight: 800,\r\n  };\r\n}\r\n\r\nfunction panel(): React.CSSProperties {\r\n  return {\r\n    padding: 12,\r\n    borderRadius: 14,\r\n    border: \"1px solid rgba(255,255,255,0.12)\",\r\n    background: \"rgba(255,255,255,0.03)\",\r\n  };\r\n}\r\n\r\nfunction parseTimeframes(input: string): { tfs: Timeframe[]; error?: string } {\r\n  const allowed: Timeframe[] = [\"5m\", \"15m\", \"1h\", \"4h\", \"12h\", \"1d\", \"3d\"];\r\n  const raw = input\r\n    .split(\",\")\r\n    .map((x) => x.trim())\r\n    .filter(Boolean);\r\n\r\n  const out: Timeframe[] = [];\r\n  for (const tf of raw) {\r\n    if (!allowed.includes(tf as Timeframe)) return { tfs: [], error: `Invalid timeframe: ${tf}` };\r\n    out.push(tf as Timeframe);\r\n  }\r\n  if (!out.length) return { tfs: [\"15m\", \"1h\", \"4h\", \"1d\"] };\r\n  return { tfs: out };\r\n}\r\n\r\nfunction isGptDriven(data: AnalyzeResponse | null) {\r\n  const rules = data?.rules?.length ?? 0;\r\n  const cites = data?.plan?.citations?.length ?? 0;\r\n  return rules > 0 || cites > 0;\r\n}\r\n\r\nfunction safeTime(n?: number | null) {\r\n  if (!n) return \"窶能";\r\n  try {\r\n    return new Date(n).toLocaleTimeString();\r\n  } catch {\r\n    return \"窶能";\r\n  }\r\n}\r\n\r\nfunction msToCountdown(ms: number | null) {\r\n  if (ms == null) return \"窶能";\r\n  const s = Math.max(0, Math.ceil(ms / 1000));\r\n  const m = Math.floor(s / 60);\r\n  const r = s % 60;\r\n  if (m <= 0) return `${r}s`;\r\n  return `${m}m ${r}s`;\r\n}\r\n\r\nfunction modeLabel(apiMode: ApiMode) {\n  if (apiMode === \"LTF_ONLY\") return \"LTF-ONLY\";\n  return apiMode;\n}\n\nfunction toWsSymbol(sym: string) {\n  return (sym || \"\").trim().toLowerCase().replace(/-perp$/i, \"\");\n}\n\nexport default function LiveAnalyzer() {\n  const [symbol, setSymbol] = useState(\"BTCUSDT\");\r\n  const [equityUsd, setEquityUsd] = useState(100);\r\n  const [lookback, setLookback] = useState(300);\r\n\r\n  // scan frequently + plan hourly\r\n  const [scanEveryMs, setScanEveryMs] = useState(5 * 60 * 1000); // 5 min\r\n  const [planEveryMs, setPlanEveryMs] = useState(60 * 60 * 1000); // 60 min\r\n  const [autoRefresh, setAutoRefresh] = useState(true);\r\n\r\n  // NEW: ignore HTF gate + run LTF execution mode\r\n  const [ltfOnly, setLtfOnly] = useState(false);\r\n\r\n  // NEW: allow more aggressive planning (backend-controlled bypasses)\n  const [aggressive, setAggressive] = useState(false);\n  const [autoExecute, setAutoExecute] = useState(false);\n\r\n  // Constraints (sent to backend)\r\n  const [maxRiskPct, setMaxRiskPct] = useState(1);\r\n  const [minRR, setMinRR] = useState(1.8);\r\n\r\n  const [timeframesText, setTimeframesText] = useState(\"5m,15m,1h,4h,12h,1d\");\n  const [timeframes, setTimeframes] = useState<Timeframe[]>([\"5m\", \"15m\", \"1h\", \"4h\", \"12h\", \"1d\"]);\n  const [tfError, setTfError] = useState<string | null>(null);\n\n  const [scanData, setScanData] = useState<AnalyzeResponse | null>(null);\n  const [planData, setPlanData] = useState<AnalyzeResponse | null>(null);\n  const [lastError, setLastError] = useState<string | null>(null);\n  const [loading, setLoading] = useState(false);\n\n  const [accountId, setAccountId] = useState<string>(DEFAULT_ACCOUNT_ID);\n  const accountIdTrim = accountId.trim();\n  const [positions, setPositions] = useState<any[]>([]);\n  const [positionsUpdatedAt, setPositionsUpdatedAt] = useState<number | null>(null);\n  const [accountCash, setAccountCash] = useState<number | null>(null);\n  const [equityPoint, setEquityPoint] = useState<any | null>(null);\n  const [execLoading, setExecLoading] = useState(false);\n  const [lastAutoExecAt, setLastAutoExecAt] = useState<number | null>(null);\n  const [lastAutoExecHash, setLastAutoExecHash] = useState<string | null>(null);\n  const [lastExecution, setLastExecution] = useState<any | null>(null);\n  const [decisions, setDecisions] = useState<any[]>([]);\n  const [evalSummary, setEvalSummary] = useState<{ outcomes: Record<string, number> } | null>(null);\n  const [outlookText, setOutlookText] = useState<string | null>(null);\n  const [outlookLoading, setOutlookLoading] = useState<boolean>(false);\n  const [lastOutlookAt, setLastOutlookAt] = useState<number | null>(null);\n  const [outlookError, setOutlookError] = useState<string | null>(null);\n  const [lastOutlookErrorAt, setLastOutlookErrorAt] = useState<number | null>(null);\n  const [outlookDebug, setOutlookDebug] = useState<string | null>(null);\n  const [stressConfig, setStressConfig] = useState<StressConfig>(DEFAULT_STRESS_CONFIG);\n  const [sweepConfig, setSweepConfig] = useState<SweepConfigUI>(DEFAULT_SWEEP_CONFIG);\n  const [replayEnabled, setReplayEnabled] = useState(false);\n  const [replayDays, setReplayDays] = useState(7);\n  const [replayStepHours, setReplayStepHours] = useState(24);\n  const [replaySweep, setReplaySweep] = useState(false);\n  const [replayCandidates, setReplayCandidates] = useState(20);\n  const [monteCarloRuns, setMonteCarloRuns] = useState(200);\n  const [simSeed, setSimSeed] = useState<number>(42);\n  const [simLoading, setSimLoading] = useState<boolean>(false);\n  const [simError, setSimError] = useState<string | null>(null);\n  const [simResult, setSimResult] = useState<any | null>(null);\n  const outlookInFlightRef = useRef(false);\n  const lastStopTriggerRef = useRef<number | null>(null);\n  const [journalRows, setJournalRows] = useState<any[]>([]);\n  const outlookReqIdRef = useRef(0);\n  const outlookTimeoutRef = useRef<number | null>(null);\n  const livePriceRef = useRef<number | null>(null);\n  const priceRef = useRef<number | null>(null);\n  const accountIdRef = useRef<string>(\"\");\n  const symbolRef = useRef<string>(\"\");\n  const wsRef = useRef<WebSocket | null>(null);\n  const wsReconnectRef = useRef<number | null>(null);\n  const wsAliveRef = useRef<boolean>(false);\n\n  const [livePrice, setLivePrice] = useState<number | null>(null);\n  const [livePriceAt, setLivePriceAt] = useState<number | null>(null);\n  const [liveWsOk, setLiveWsOk] = useState<boolean>(false);\n\r\n  const [lastHttpStatus, setLastHttpStatus] = useState<number | null>(null);\r\n  const [lastLatencyMs, setLastLatencyMs] = useState<number | null>(null);\r\n  const [lastMode, setLastMode] = useState<UiMode | null>(null);\r\n\r\n  const lastRequestRef = useRef<any>(null);\r\n\r\n  const [lastScanAt, setLastScanAt] = useState<number | null>(null);\r\n  const [lastPlanAt, setLastPlanAt] = useState<number | null>(null);\r\n\r\n  const [nextScanInMs, setNextScanInMs] = useState<number | null>(null);\r\n  const [nextPlanInMs, setNextPlanInMs] = useState<number | null>(null);\r\n\r\n  const abortRef = useRef<AbortController | null>(null);\r\n  const inflightRef = useRef(false);\r\n  const reqIdRef = useRef(0);\r\n\r\n  const scanStartRef = useRef<number>(0);\r\n  const planStartRef = useRef<number>(0);\r\n\r\n  // Load persisted UI\r\n  useEffect(() => {\n    try {\n      const raw = localStorage.getItem(LS_KEY);\n      if (!raw) return;\n      const v = JSON.parse(raw) as Partial<PersistedUI>;\n      if (v.symbol) setSymbol(v.symbol);\r\n      if (typeof v.equityUsd === \"number\") setEquityUsd(v.equityUsd);\r\n      if (typeof v.lookback === \"number\") setLookback(v.lookback);\r\n      if (typeof v.timeframesText === \"string\") setTimeframesText(v.timeframesText);\r\n      if (typeof v.scanEveryMs === \"number\") setScanEveryMs(v.scanEveryMs);\r\n      if (typeof v.planEveryMs === \"number\") setPlanEveryMs(v.planEveryMs);\r\n      if (typeof v.autoRefresh === \"boolean\") setAutoRefresh(v.autoRefresh);\r\n      if (typeof v.ltfOnly === \"boolean\") setLtfOnly(v.ltfOnly);\r\n      if (typeof v.aggressive === \"boolean\") setAggressive(v.aggressive);\n      if (typeof v.autoExecute === \"boolean\") setAutoExecute(v.autoExecute);\n      if (typeof v.maxRiskPct === \"number\") setMaxRiskPct(v.maxRiskPct);\n      if (typeof v.minRR === \"number\") setMinRR(v.minRR);\n      if (v.stressConfig) setStressConfig({ ...DEFAULT_STRESS_CONFIG, ...v.stressConfig });\n      if (v.sweepConfig) setSweepConfig({ ...DEFAULT_SWEEP_CONFIG, ...v.sweepConfig });\n      if (typeof v.replayEnabled === \"boolean\") setReplayEnabled(v.replayEnabled);\n      if (typeof v.replayDays === \"number\") setReplayDays(v.replayDays);\n      if (typeof v.replayStepHours === \"number\") setReplayStepHours(v.replayStepHours);\n      if (typeof v.replaySweep === \"boolean\") setReplaySweep(v.replaySweep);\n      if (typeof v.replayCandidates === \"number\") setReplayCandidates(v.replayCandidates);\n      if (typeof v.monteCarloRuns === \"number\") setMonteCarloRuns(v.monteCarloRuns);\n      if (typeof v.accountId === \"string\" && v.accountId.trim()) {\n        setAccountId(v.accountId);\n      } else {\n        setAccountId(DEFAULT_ACCOUNT_ID);\n      }\n    } catch {\n      // ignore\n    }\n  }, []);\n\n  // Load last-known positions to avoid empty UI on refresh\n  useEffect(() => {\n    try {\n      const raw = localStorage.getItem(POS_KEY);\n      if (!raw) return;\n      const v = JSON.parse(raw) as { positions?: any[]; updatedAt?: number };\n      if (Array.isArray(v.positions) && v.positions.length) {\n        setPositions(v.positions);\n        if (typeof v.updatedAt === \"number\") setPositionsUpdatedAt(v.updatedAt);\n      }\n    } catch {\n      // ignore\n    }\n  }, []);\n\r\n  // Persist UI state\n  useEffect(() => {\n    const payload: PersistedUI = {\n      symbol,\n      equityUsd,\n      lookback,\n      timeframesText,\n      scanEveryMs,\n      planEveryMs,\n      autoRefresh,\n      ltfOnly,\n      aggressive,\n      maxRiskPct,\n      minRR,\n      stressConfig,\n      sweepConfig,\n      replayEnabled,\n      replayDays,\n      replayStepHours,\n      replaySweep,\n      replayCandidates,\n      monteCarloRuns,\n      accountId: accountId || undefined,\n      autoExecute,\n    };\n    try {\r\n      localStorage.setItem(LS_KEY, JSON.stringify(payload));\r\n    } catch {\r\n      // ignore\r\n    }\r\n  }, [\n    symbol,\n    equityUsd,\n    lookback,\n    timeframesText,\n    scanEveryMs,\n    planEveryMs,\n    autoRefresh,\n    ltfOnly,\n    aggressive,\n    maxRiskPct,\n    minRR,\n    stressConfig,\n    sweepConfig,\n    replayEnabled,\n    replayDays,\n    replayStepHours,\n    replaySweep,\n    replayCandidates,\n    monteCarloRuns,\n    accountId,\n    autoExecute,\n  ]);\n\n  useEffect(() => {\n    livePriceRef.current = num(livePrice);\n  }, [livePrice]);\n\n  useEffect(() => {\n    const snap = scanData?.snapshot ?? planData?.snapshot;\n    priceRef.current = num(snap?.price);\n  }, [planData, scanData]);\n\n  useEffect(() => {\n    accountIdRef.current = accountIdTrim;\n  }, [accountIdTrim]);\n\n  useEffect(() => {\n    symbolRef.current = symbol;\n  }, [symbol]);\n\n  // Parse timeframes\n  useEffect(() => {\n    const { tfs, error } = parseTimeframes(timeframesText);\r\n    setTfError(error ?? null);\r\n    if (!error) setTimeframes(tfs);\r\n  }, [timeframesText]);\r\n\r\n  const baseBody = useMemo(\r\n    () => ({\r\n      symbol,\r\n      timeframes,\r\n      lookback,\r\n      equityUsd,\r\n      aggressive,\r\n      constraints: { maxLeverage: 10, maxRiskPct, minRR },\r\n    }),\r\n    [symbol, timeframes, lookback, equityUsd, aggressive, maxRiskPct, minRR]\r\n  );\r\n\r\n  const getApiMode = useCallback(\r\n    (uiMode: UiMode): ApiMode => {\r\n    // For \"plan\", use LTF_ONLY if toggled; otherwise HTF.\r\n    // For \"scan\", keep it HTF so you can see gate state without burning model costs.\r\n      if (uiMode === \"plan\") return ltfOnly ? \"LTF_ONLY\" : \"HTF\";\r\n      return \"HTF\";\r\n    },\r\n    [ltfOnly]\r\n  );\r\n\r\n  const callAnalyze = useCallback(\n    async (uiMode: UiMode) => {\n    if (inflightRef.current) return;\r\n    inflightRef.current = true;\r\n\r\n    abortRef.current?.abort();\r\n    const ac = new AbortController();\r\n    abortRef.current = ac;\r\n\r\n    const myReqId = ++reqIdRef.current;\r\n\r\n    setLoading(true);\r\n    const t0 = Date.now();\r\n    try {\r\n      const apiMode = getApiMode(uiMode);\r\n\r\n      const body =\r\n        uiMode === \"plan\"\r\n          ? {\n              ...baseBody,\n              intent: \"trade\",\n              persist: true,\n              mode: apiMode, // \"HTF\" | \"LTF_ONLY\"\n              ltfPlan: apiMode === \"LTF_ONLY\" ? { enabled: true, timeframes: [\"4h\", \"1h\", \"15m\", \"5m\"], minBars: 120 } : undefined,\n              wsProbe: { durationMs: 2000, maxMessages: 800 },\n            }\n          : {\r\n              ...baseBody,\r\n              // keep scans cheap: make it explicit for the backend\r\n              intent: \"explain\",\r\n              aggressive: false,\r\n              mode: apiMode, // \"HTF\"\r\n              // cheap scan: skip WS by setting duration=0\r\n              wsProbe: { durationMs: 0, maxMessages: 0 },\r\n            };\r\n\r\n      lastRequestRef.current = body;\r\n\r\n      const res = await fetch(\"/api/analyze\", {\r\n        method: \"POST\",\r\n        headers: { \"content-type\": \"application/json\" },\r\n        body: JSON.stringify(body),\r\n        signal: ac.signal,\r\n      });\r\n\r\n      setLastHttpStatus(res.status);\r\n      setLastMode(uiMode);\r\n\r\n      let json: AnalyzeResponse | null = null;\r\n      let rawText: string | null = null;\r\n\r\n      try {\r\n        json = (await res.json()) as AnalyzeResponse;\r\n      } catch {\r\n        try {\r\n          rawText = await res.text();\r\n        } catch {\r\n          rawText = null;\r\n        }\r\n      }\r\n\r\n      if (myReqId !== reqIdRef.current) return;\r\n\r\n      if (!res.ok) {\n        const errMsg =\n          json?.error ??\n          (rawText && rawText.trim() ? rawText.slice(0, 200) : null) ??\n          `HTTP ${res.status}`;\n        setLastError(errMsg);\n      } else {\n        // If backend returned non-JSON but res.ok, treat as error.\n        if (!json) {\n          const errMsg =\n            (rawText && rawText.trim() ? rawText.slice(0, 200) : null) ?? \"Non-JSON response from /api/analyze\";\n          setLastError(errMsg);\n        } else {\n          setLastError(null);\n          if (uiMode === \"scan\") setScanData(json);\n          if (uiMode === \"plan\") setPlanData(json);\n        }\n      }\n\r\n      const now = Date.now();\r\n      if (uiMode === \"scan\") setLastScanAt(now);\r\n      if (uiMode === \"plan\") setLastPlanAt(now);\r\n    } catch (e: any) {\r\n      if (e?.name !== \"AbortError\") {\r\n        setLastError(e?.message ?? \"Request failed\");\n        const now = Date.now();\r\n        if (uiMode === \"scan\") setLastScanAt(now);\r\n        if (uiMode === \"plan\") setLastPlanAt(now);\r\n      }\r\n    } finally {\r\n      setLastLatencyMs(Date.now() - t0);\r\n      setLoading(false);\r\n      inflightRef.current = false;\r\n    }\r\n    },\n    [baseBody, getApiMode]\n  );\n\n  const fetchAccountState = useCallback(async () => {\n    if (!accountIdTrim) return;\n    try {\n      const posRes = await fetch(`/api/positions?accountId=${encodeURIComponent(accountIdTrim)}`);\n      const posJson = await posRes.json();\n      if (posRes.ok && posJson?.ok) {\n        setPositions(Array.isArray(posJson.positions) ? posJson.positions : []);\n        const now = Date.now();\n        setPositionsUpdatedAt(now);\n        try {\n          localStorage.setItem(\n            POS_KEY,\n            JSON.stringify({ positions: Array.isArray(posJson.positions) ? posJson.positions : [], updatedAt: now })\n          );\n        } catch {\n          // ignore\n        }\n        const cash = Number(posJson.account?.cash_balance ?? NaN);\n        setAccountCash(Number.isFinite(cash) ? cash : null);\n      }\n\n      const eqRes = await fetch(`/api/equity?accountId=${encodeURIComponent(accountIdTrim)}&limit=1`);\n      const eqJson = await eqRes.json();\n      if (eqRes.ok && eqJson?.ok && Array.isArray(eqJson.points) && eqJson.points.length) {\n        setEquityPoint(eqJson.points[eqJson.points.length - 1]);\n      }\n    } catch {\n      // ignore\n    }\n  }, [accountIdTrim]);\n\n  const fetchLastExecution = useCallback(async () => {\n    if (!accountIdTrim) return;\n    try {\n      const res = await fetch(`/api/last-execution?accountId=${encodeURIComponent(accountIdTrim)}`);\n      const j = await res.json();\n      if (res.ok && j?.ok) setLastExecution(j);\n    } catch {\n      // ignore\n    }\n  }, [accountIdTrim]);\n\n  const fetchDecisions = useCallback(async () => {\n    try {\n      const res = await fetch(`/api/decisions?symbol=${encodeURIComponent(symbol)}&limit=10`);\n      const j = await res.json();\n      if (res.ok && j?.ok) setDecisions(Array.isArray(j.decisions) ? j.decisions : []);\n    } catch {\n      // ignore\n    }\n  }, [symbol]);\n\n  const fetchEvalSummary = useCallback(async () => {\n    try {\n      const res = await fetch(`/api/decision-evals?symbol=${encodeURIComponent(symbol)}&limit=200`);\n      const j = await res.json();\n      if (res.ok && j?.ok) setEvalSummary({ outcomes: j.outcomes ?? {} });\n    } catch {\n      // ignore\n    }\n  }, [symbol]);\n\n  const fetchJournal = useCallback(async () => {\n    if (!accountIdTrim) return;\n    try {\n      const res = await fetch(`/api/journal?accountId=${encodeURIComponent(accountIdTrim)}&limit=5`);\n      const j = await res.json();\n      if (res.ok && j?.ok) setJournalRows(Array.isArray(j.rows) ? j.rows : []);\n    } catch {\n      // ignore\n    }\n  }, [accountIdTrim]);\n\n  const fetchOutlook = useCallback(async (force = false) => {\n    if (outlookInFlightRef.current) return;\n    if (!force && lastOutlookAt && Date.now() - lastOutlookAt < 60_000) return;\n    const reqId = ++outlookReqIdRef.current;\n    outlookInFlightRef.current = true;\n    setOutlookLoading(true);\n    // Keep previous error visible until a successful update replaces it.\n    if (outlookTimeoutRef.current) window.clearTimeout(outlookTimeoutRef.current);\n    outlookTimeoutRef.current = window.setTimeout(() => {\n      if (outlookReqIdRef.current === reqId) {\n        setOutlookLoading(false);\n        setOutlookError(\"Outlook timed out.\");\n        setLastOutlookErrorAt(Date.now());\n        setOutlookDebug(\"timeout\");\n      }\n    }, 25_000);\n    try {\n      const ac = new AbortController();\n      const t = window.setTimeout(() => ac.abort(), 20_000);\n      const res = await fetch(\"/api/outlook\", {\n        method: \"POST\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify({\n          accountId: accountIdTrim || undefined,\n          livePrice: Number.isFinite(Number(priceLive)) ? Number(priceLive) : undefined,\n          symbol,\n          mode: getApiMode(\"plan\"),\n          timeframes,\n          lookback,\n          equityUsd,\n          aggressive,\n          constraints: { maxLeverage: 10, maxRiskPct, minRR },\n          ltfPlan: ltfOnly ? { enabled: true, timeframes: [\"4h\", \"1h\", \"15m\", \"5m\"], minBars: 120 } : undefined,\n          openai: { temperature: 0.2, maxTokens: 400 },\n        }),\n        signal: ac.signal,\n      });\n      let j: any = null;\n      try {\n        j = await res.json();\n      } catch {\n        j = null;\n      }\n      window.clearTimeout(t);\n      if (outlookReqIdRef.current !== reqId) return;\n      if (res.ok && j?.ok) {\n        setOutlookText(String(j.outlook ?? \"\"));\n        setLastOutlookAt(Date.now());\n        setOutlookError(null);\n        setLastOutlookErrorAt(null);\n        setOutlookDebug(\"ok\");\n      } else {\n        const msg = String(j?.error ?? j?.message ?? `HTTP ${res.status}`);\n        setOutlookError(msg);\n        setLastOutlookErrorAt(Date.now());\n        setOutlookDebug(`error:${res.status}:${msg}`);\n      }\n    } catch (e: any) {\n      if (outlookReqIdRef.current !== reqId) return;\n      const msg = e?.name === \"AbortError\" ? \"Outlook timed out.\" : \"Outlook request failed.\";\n      setOutlookError(msg);\n      setLastOutlookErrorAt(Date.now());\n      setOutlookDebug(`exception:${e?.name ?? \"error\"}`);\n    } finally {\n      if (outlookTimeoutRef.current) {\n        window.clearTimeout(outlookTimeoutRef.current);\n        outlookTimeoutRef.current = null;\n      }\n      if (outlookReqIdRef.current === reqId) setOutlookLoading(false);\n      outlookInFlightRef.current = false;\n    }\n  }, [\n    accountIdTrim,\n    symbol,\n    timeframes,\n    lookback,\n    equityUsd,\n    aggressive,\n    maxRiskPct,\n    minRR,\n    ltfOnly,\n    getApiMode,\n    lastOutlookAt,\n  ]);\n\n  const runSimulation = useCallback(async () => {\n    setSimLoading(true);\n    setSimError(null);\n    try {\n      const stressPayload = {\n        sessionObjectiveMultiplier: Number(stressConfig.sessionObjectiveMultiplier),\n        sessionDurationHours: clamp(Number(stressConfig.sessionDurationHours), 1, 48),\n        maxDailyLossPct: Number(stressConfig.maxDailyLossPct),\n        maxLossPerTradePct: Number(stressConfig.maxLossPerTradePct),\n        maxLeverage: Number(stressConfig.maxLeverage),\n        maxConcurrentPositions: Math.max(1, Math.round(Number(stressConfig.maxConcurrentPositions))),\n        minRR: Number(stressConfig.minRR),\n        rrTiers: {\n          RANGE: Number(stressConfig.rrTierRange),\n          MIXED: Number(stressConfig.rrTierMixed),\n        },\n        confidenceThreshold: Number(stressConfig.confidenceThreshold),\n        confidenceNearMiss: Number(stressConfig.confidenceNearMiss),\n        allowLTFOverride: Boolean(stressConfig.allowLTFOverride),\n        allowCounterTrend: Boolean(stressConfig.allowCounterTrend),\n        cooldownMinutes: Number(stressConfig.cooldownMinutes),\n        slippageBps: Number(stressConfig.slippageBps),\n        feesBps: Number(stressConfig.feesBps),\n        killSwitch: {\n          maxDrawdownPct: Number(stressConfig.killSwitchMaxDrawdownPct),\n          maxConsecutiveLosses: Number(stressConfig.killSwitchConsecutiveLosses),\n          volatilitySpikePct: Number(stressConfig.killSwitchVolatilitySpikePct),\n        },\n      };\n      const res = await fetch(\"/api/simulate\", {\n        method: \"POST\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify({\n          symbol,\n          session: {\n            hours: clamp(Number(stressConfig.sessionDurationHours), 1, 48),\n            equityStart: Number.isFinite(Number(equityUsd)) ? Number(equityUsd) : 100,\n            targetEquityMultiplier: Number(stressConfig.sessionObjectiveMultiplier),\n            stopOnTarget: true,\n            seed: Number.isFinite(Number(simSeed)) ? Number(simSeed) : 42,\n          },\n          stress: stressPayload,\n          replay: replayEnabled\n            ? {\n                days: clamp(Number(replayDays), 1, 120),\n                stepHours: clamp(Number(replayStepHours), 1, 48),\n                parameterSweep: replaySweep,\n                sweepCandidates: clamp(Number(replayCandidates), 5, 40),\n                sweepConfig: {\n                  fields: {\n                    ...(sweepConfig.minRR.enabled\n                      ? {\n                          minRR: {\n                            min: sweepConfig.minRR.min,\n                            max: sweepConfig.minRR.max,\n                            step: sweepConfig.minRR.step,\n                          },\n                        }\n                      : {}),\n                    ...(sweepConfig.confidenceThreshold.enabled\n                      ? {\n                          confidenceThreshold: {\n                            min: sweepConfig.confidenceThreshold.min,\n                            max: sweepConfig.confidenceThreshold.max,\n                            step: sweepConfig.confidenceThreshold.step,\n                          },\n                        }\n                      : {}),\n                    ...(sweepConfig.maxLossPerTradePct.enabled\n                      ? {\n                          maxLossPerTradePct: {\n                            min: sweepConfig.maxLossPerTradePct.min,\n                            max: sweepConfig.maxLossPerTradePct.max,\n                            step: sweepConfig.maxLossPerTradePct.step,\n                          },\n                        }\n                      : {}),\n                    ...(sweepConfig.maxLeverage.enabled\n                      ? {\n                          maxLeverage: {\n                            min: sweepConfig.maxLeverage.min,\n                            max: sweepConfig.maxLeverage.max,\n                            step: sweepConfig.maxLeverage.step,\n                          },\n                        }\n                      : {}),\n                    ...(sweepConfig.maxConcurrentPositions.enabled\n                      ? {\n                          maxConcurrentPositions: {\n                            min: sweepConfig.maxConcurrentPositions.min,\n                            max: sweepConfig.maxConcurrentPositions.max,\n                            step: sweepConfig.maxConcurrentPositions.step,\n                          },\n                        }\n                      : {}),\n                    ...(sweepConfig.allowCounterTrend.enabled ? { allowCounterTrend: [true, false] } : {}),\n                    ...(sweepConfig.allowLTFOverride.enabled ? { allowLTFOverride: [true, false] } : {}),\n                  },\n                },\n                monteCarloRuns: clamp(Number(monteCarloRuns), 50, 2000),\n              }\n            : undefined,\n        }),\n      });\n      const j = await res.json();\n      if (!res.ok || !j?.ok) throw new Error(j?.error || `HTTP ${res.status}`);\n      setSimResult(j);\n    } catch (e: any) {\n      setSimError(e?.message ?? \"Simulation failed\");\n    } finally {\n      setSimLoading(false);\n    }\n  }, [\n    symbol,\n    stressConfig,\n    sweepConfig,\n    simSeed,\n    equityUsd,\n    replayEnabled,\n    replayDays,\n    replayStepHours,\n    replaySweep,\n    replayCandidates,\n    monteCarloRuns,\n  ]);\n\n  // Dual loop: scan fast, plan slow\n  useEffect(() => {\n    if (!autoRefresh) {\r\n      setNextScanInMs(null);\r\n      setNextPlanInMs(null);\r\n      return;\r\n    }\r\n\r\n    const scanMs = clamp(Number.isFinite(scanEveryMs) ? scanEveryMs : 60_000, 3_000, 60 * 60 * 1000);\r\n    const planMs = clamp(Number.isFinite(planEveryMs) ? planEveryMs : 60 * 60 * 1000, 30_000, 24 * 60 * 60 * 1000);\r\n\r\n    scanStartRef.current = Date.now();\r\n    planStartRef.current = Date.now();\r\n\r\n    // Run immediately: do a scan right away, then schedule plan\r\n    callAnalyze(\"scan\");\r\n\r\n    const tickEvery = 250;\r\n    const interval = setInterval(() => {\r\n      const now = Date.now();\r\n\r\n      const scanElapsed = now - scanStartRef.current;\r\n      const planElapsed = now - planStartRef.current;\r\n\r\n      const scanRemaining = Math.max(0, scanMs - scanElapsed);\r\n      const planRemaining = Math.max(0, planMs - planElapsed);\r\n\r\n      setNextScanInMs(scanRemaining);\r\n      setNextPlanInMs(planRemaining);\r\n\r\n      // If plan is due, it has priority over scan\r\n      if (planRemaining <= 0) {\r\n        planStartRef.current = Date.now();\r\n        callAnalyze(\"plan\");\r\n        return;\r\n      }\r\n\r\n      if (scanRemaining <= 0) {\r\n        scanStartRef.current = Date.now();\r\n        callAnalyze(\"scan\");\r\n      }\r\n    }, tickEvery);\r\n\r\n    return () => {\r\n      clearInterval(interval);\r\n      abortRef.current?.abort();\r\n    };\r\n  }, [autoRefresh, scanEveryMs, planEveryMs, callAnalyze]);\n\n  // Account polling (positions + equity)\n  useEffect(() => {\n    if (!accountIdTrim) return;\n    fetchAccountState();\n    fetchLastExecution();\n    const id = setInterval(fetchAccountState, 15_000);\n    return () => clearInterval(id);\n  }, [accountIdTrim, fetchAccountState, fetchLastExecution]);\n\n  useEffect(() => {\n    fetchDecisions();\n    const id = setInterval(fetchDecisions, 60_000);\n    return () => clearInterval(id);\n  }, [fetchDecisions]);\n\n  useEffect(() => {\n    fetchEvalSummary();\n    const id = setInterval(fetchEvalSummary, 60_000);\n    return () => clearInterval(id);\n  }, [fetchEvalSummary]);\n\n  useEffect(() => {\n    if (!accountIdTrim) return;\n    fetchJournal();\n    const id = setInterval(fetchJournal, 30_000);\n    return () => clearInterval(id);\n  }, [accountIdTrim, fetchJournal]);\n\n  useEffect(() => {\n    if (!autoRefresh) return;\n    fetchOutlook(false);\n    const id = setInterval(() => fetchOutlook(false), 5 * 60 * 1000);\n    return () => clearInterval(id);\n  }, [autoRefresh, fetchOutlook]);\n\n  // Live price WS (independent from candle data)\n  useEffect(() => {\n    const wsSymbol = toWsSymbol(symbol);\n    if (!wsSymbol) return;\n\n    wsAliveRef.current = true;\n\n    const clearReconnect = () => {\n      if (wsReconnectRef.current != null) {\n        window.clearTimeout(wsReconnectRef.current);\n        wsReconnectRef.current = null;\n      }\n    };\n\n    const connect = () => {\n      if (!wsAliveRef.current) return;\n      clearReconnect();\n      try {\n        wsRef.current?.close();\n      } catch {}\n      const ws = new WebSocket(`wss://fstream.binance.com/ws/${wsSymbol}@trade`);\n      wsRef.current = ws;\n      ws.onopen = () => {\n        if (!wsAliveRef.current) return;\n        setLiveWsOk(true);\n      };\n      ws.onmessage = (evt) => {\n        if (!wsAliveRef.current) return;\n        try {\n          const j = JSON.parse(String(evt.data));\n          const p = Number(j.p);\n          const ts = Number(j.T);\n          if (Number.isFinite(p)) setLivePrice(p);\n          if (Number.isFinite(ts)) setLivePriceAt(ts);\n        } catch {\n          // ignore\n        }\n      };\n      ws.onclose = () => {\n        if (!wsAliveRef.current) return;\n        setLiveWsOk(false);\n        wsReconnectRef.current = window.setTimeout(connect, 1000);\n      };\n      ws.onerror = () => {\n        if (!wsAliveRef.current) return;\n        setLiveWsOk(false);\n        try {\n          ws.close();\n        } catch {}\n      };\n    };\n\n    connect();\n\n    return () => {\n      wsAliveRef.current = false;\n      setLiveWsOk(false);\n      clearReconnect();\n      try {\n        wsRef.current?.close();\n      } catch {}\n      wsRef.current = null;\n    };\n  }, [symbol]);\n\r\n  const plan = planData?.plan ?? null;\n  const snap = scanData?.snapshot ?? planData?.snapshot;\n  const gate = planData?.gate ?? scanData?.gate;\n  const verdict = planData?.verdict ?? null;\n  const exec = planData?.execution ?? null;\n\r\n  const price = snap?.price;\n  const priceLive = (snap as any)?.price_live ?? livePrice;\n  const gptFlag = isGptDriven(planData);\n  const decisionId = (planData as any)?.decision_id ?? null;\n\n  const liveDelta = num(priceLive) != null && num(price) != null ? Number(priceLive) - Number(price) : null;\n  const liveDeltaPct =\n    liveDelta != null && num(price) != null && Number(price) !== 0 ? (liveDelta / Number(price)) * 100 : null;\n\n  const equityValue = num(equityPoint?.equity_usd);\n  const pnlUsd = equityValue != null ? equityValue - 100 : null;\n  const pnlPct = pnlUsd != null ? (pnlUsd / 100) * 100 : null;\n  const goalEquity = Math.max(\n    0,\n    Number.isFinite(Number(equityUsd))\n      ? Number(equityUsd) * Number(stressConfig.sessionObjectiveMultiplier)\n      : 200\n  );\n  const currentEquity = equityValue ?? (Number.isFinite(Number(equityUsd)) ? Number(equityUsd) : 100);\n  const goalProgressPct = goalEquity > 0 ? (currentEquity / goalEquity) * 100 : 0;\n  const goalRemaining = goalEquity - currentEquity;\n\r\n  const ws = snap?.live?.ws;\n  const tfSummaries: Array<any> = Array.isArray(snap?.timeframes) ? (snap!.timeframes as any[]) : [];\n  const dataHealth = (planData?.snapshot as any)?.data_health ?? (scanData?.snapshot as any)?.data_health;\n  const simMetrics = simResult?.metrics ?? null;\n  const simEquity = Array.isArray(simResult?.equityCurve) ? simResult.equityCurve : [];\n  const simTrades = Array.isArray(simResult?.trades) ? simResult.trades : [];\n  const simOpportunities = Array.isArray(simResult?.opportunities) ? simResult.opportunities : [];\n  const simMonteCarlo = simResult?.monteCarlo ?? null;\n  const simRegime = simResult?.regime ?? null;\n  const simReplay = simResult?.replay ?? null;\n  const simSweep = simResult?.parameterSweep ?? null;\n  const simLastEquity = simEquity.length ? simEquity[simEquity.length - 1] : null;\n\n  const journalEntries = useMemo(() => {\n    const entries: Array<{ ts: number; kind: string; message: string; detail?: string }> = [];\n\n    if (equityPoint?.created_at && equityValue != null) {\n      const ts = toMs(equityPoint.created_at);\n      if (ts != null) {\n        entries.push({\n          ts,\n          kind: \"equity\",\n          message: `Equity $${fmt(equityValue, 2)} cash $${fmt(equityPoint.cash_usd, 2)}`,\n          detail: equityPoint.note ? `note=${equityPoint.note}` : undefined,\n        });\n      }\n    }\n\n    if (positionsUpdatedAt) {\n      if (positions.length) {\n        positions.forEach((p) => {\n          entries.push({\n            ts: positionsUpdatedAt,\n            kind: \"position\",\n            message: `${p.symbol ?? \"UNKNOWN\"} qty=${p.qty ?? \"NA\"}`,\n            detail: `entry=${p.entry_price ?? \"NA\"} stop=${p.stop_price ?? \"NA\"}`,\n          });\n        });\n      } else {\n        entries.push({\n          ts: positionsUpdatedAt,\n          kind: \"position\",\n          message: \"No open positions\",\n        });\n      }\n    }\n\n    if (plan && lastPlanAt) {\n      entries.push({\n        ts: lastPlanAt,\n        kind: \"plan\",\n        message: `Plan ${plan.action}`,\n        detail: `entry=${plan.entry?.type ?? \"NA\"} stop=${plan.stop?.price ?? \"NA\"} rr=${verdict?.rr ?? \"NA\"}`,\n      });\n    }\n\n    if (lastExecution?.order) {\n      const ts = toMs(lastExecution.order.created_at) ?? Date.now();\n      entries.push({\n        ts,\n        kind: \"execution\",\n        message: `${lastExecution.order.side ?? \"NA\"} ${lastExecution.order.symbol ?? \"NA\"} qty=${lastExecution.order.qty ?? \"NA\"}`,\n        detail: `status=${lastExecution.order.status ?? \"NA\"} fill=${lastExecution.fill?.price ?? \"NA\"}`,\n      });\n    }\n\n    journalRows.forEach((j) => {\n      const ts = toMs(j.entry_time) ?? toMs(j.exit_time);\n      if (ts == null) return;\n      entries.push({\n        ts,\n        kind: \"journal\",\n        message: `${j.side ?? \"NA\"} ${j.symbol ?? \"NA\"} qty=${j.qty ?? \"NA\"}`,\n        detail: `pnl=${j.pnl_usd ?? \"NA\"} status=${j.status ?? \"NA\"} reason=${j.exit_reason ?? \"NA\"}`,\n      });\n    });\n\n    decisions.forEach((d) => {\n      const ts = toMs(d.created_at);\n      if (ts == null) return;\n      const action = d.plan?.action ?? \"NA\";\n      entries.push({\n        ts,\n        kind: \"decision\",\n        message: `${action} @ ${d.price ?? \"NA\"}`,\n        detail: `verdict=${d.verdict?.ok ? \"ok\" : \"blocked\"}`,\n      });\n    });\n\n    entries.sort((a, b) => b.ts - a.ts);\n    return entries.slice(0, 60);\n  }, [decisions, equityPoint, equityValue, journalRows, lastExecution, lastPlanAt, plan, positions, positionsUpdatedAt, verdict]);\n\n  const exportLogCsv = useCallback(() => {\n    if (!journalEntries.length) return;\n    const header = [\"timestamp\", \"kind\", \"message\", \"detail\"];\n    const rows = journalEntries.map((e) => [\n      new Date(e.ts).toISOString(),\n      e.kind,\n      e.message,\n      e.detail ?? \"\",\n    ]);\n    downloadCsv(`journal_${symbol}_${Date.now()}.csv`, header, rows);\n  }, [journalEntries, symbol]);\n\n  const exportSimTradesCsv = useCallback(() => {\n    if (!simTrades.length) return;\n    const header = [\n      \"id\",\n      \"side\",\n      \"entryTime\",\n      \"exitTime\",\n      \"entryPrice\",\n      \"exitPrice\",\n      \"qty\",\n      \"pnlUsd\",\n      \"rr\",\n      \"setupType\",\n      \"confidence\",\n      \"regime\",\n      \"exitReason\",\n    ];\n    const rows = simTrades.map((t: any) => [\n      t.id ?? \"\",\n      t.side ?? \"\",\n      new Date(t.entryTime).toISOString(),\n      new Date(t.exitTime).toISOString(),\n      fmt(t.entryPrice, 2),\n      fmt(t.exitPrice, 2),\n      fmt(t.qty, 4),\n      fmt(t.pnlUsd, 2),\n      fmt(t.rr, 2),\n      t.setupType ?? t.trigger ?? \"\",\n      fmt(t.confidence, 1),\n      t.regimeLabel ?? t.htfBias ?? \"\",\n      t.exitReason ?? \"\",\n    ]);\n    downloadCsv(`sim_trades_${symbol}_${Date.now()}.csv`, header, rows);\n  }, [simTrades, symbol]);\n\n  const exportOpportunitiesCsv = useCallback(() => {\n    if (!simOpportunities.length) return;\n    const header = [\n      \"id\",\n      \"timestamp\",\n      \"setupType\",\n      \"side\",\n      \"entry\",\n      \"stop\",\n      \"rr\",\n      \"confidence\",\n      \"regime\",\n      \"momentum\",\n      \"regimeScore\",\n      \"regimeConfidence\",\n      \"htfAligned\",\n      \"gates\",\n      \"blockedBy\",\n      \"relaxedVariant\",\n    ];\n    const rows = simOpportunities.map((o: any) => [\n      o.id ?? \"\",\n      new Date(o.ts).toISOString(),\n      o.setupType ?? \"\",\n      o.side ?? \"\",\n      fmt(o.entry, 2),\n      fmt(o.stop, 2),\n      fmt(o.rr, 2),\n      fmt(o.confidence, 1),\n      o.regime ?? \"\",\n      o.momentum ?? \"\",\n      fmt(o.regimeScore, 2),\n      fmt(o.regimeConfidence, 2),\n      o.htfAligned ? \"yes\" : \"no\",\n      Array.isArray(o.gates)\n        ? o.gates\n            .map((g: any) => `${g.gate}:${g.passed ? \"ok\" : \"block\"}:${g.value ?? \"\"}/${g.threshold ?? \"\"}`)\n            .join(\"|\")\n        : \"\",\n      Array.isArray(o.blockedBy) ? o.blockedBy.join(\"|\") : \"\",\n      Array.isArray(o.relaxedVariant) ? o.relaxedVariant.join(\"|\") : \"\",\n    ]);\n    downloadCsv(`sim_opportunities_${symbol}_${Date.now()}.csv`, header, rows);\n  }, [simOpportunities, symbol]);\n\r\n  const resolvedSymbol = snap?.symbol || \"\";\n  const effectivePlanMode = getApiMode(\"plan\");\n\n  const executePlanWith = useCallback(\n    async (planArg: any, planSymbol: string, clientOrderId: string, decisionId?: string) => {\n      if (!accountIdTrim || !planArg || planArg.action === \"NO_TRADE\") return;\n      if (execLoading) return;\n      setExecLoading(true);\n      try {\n        const res = await fetch(\"/api/execute\", {\n          method: \"POST\",\n          headers: { \"content-type\": \"application/json\" },\n          body: JSON.stringify({\n            accountId: accountIdTrim,\n            clientOrderId,\n            decisionId,\n            symbol: planSymbol,\n            priceTimeframe: \"15m\",\n            feeUsd: 0,\n            plan: planArg,\n          }),\n        });\n        const j = await res.json();\n        if (!res.ok) throw new Error(j?.error || `HTTP ${res.status}`);\n        await fetchAccountState();\n        await fetchLastExecution();\n      } catch (e: any) {\n        setLastError(e?.message ?? \"Auto-execute failed\");\n      } finally {\n        setExecLoading(false);\n      }\n    },\n    [accountIdTrim, execLoading, fetchAccountState, fetchLastExecution]\n  );\n\n  useEffect(() => {\n    if (!autoExecute) return;\n    if (!accountIdTrim) return;\n    if (!planData?.plan || planData.plan.action === \"NO_TRADE\") return;\n    if (execLoading) return;\n    const dh = (planData.snapshot as any)?.data_health;\n    if (dh?.blocked) return;\n\n    const hash = hashString(\n      JSON.stringify({\n        plan: planData.plan,\n        price: planData.snapshot?.price,\n        priceLiveTs: planData.snapshot?.price_live_ts,\n        gate: planData.gate,\n      })\n    );\n\n    if (lastAutoExecHash === hash) return;\n    if (lastAutoExecAt && Date.now() - lastAutoExecAt < AUTO_EXEC_COOLDOWN_MS) return;\n\n    const planSymbol = planData.snapshot?.symbol || symbol;\n    const clientOrderId = `auto_${hash}`;\n    const decisionId = (planData as any)?.decision_id;\n    executePlanWith(planData.plan, planSymbol, clientOrderId, decisionId).then(() => {\n      setLastAutoExecAt(Date.now());\n      setLastAutoExecHash(hash);\n    });\n  }, [\n    autoExecute,\n    accountIdTrim,\n    planData,\n    execLoading,\n    lastAutoExecAt,\n    lastAutoExecHash,\n    symbol,\n    executePlanWith,\n  ]);\n\n  useEffect(() => {\n    if (!accountIdTrim) return;\n    const live = num(priceLive);\n    if (live == null) return;\n    if (!planData?.plan?.stop?.price) return;\n\n    const stop = Number(planData.plan.stop.price);\n    if (!Number.isFinite(stop) || stop <= 0) return;\n\n    const pos = positions.find((p) => (p.symbol || \"\").toUpperCase() === (planData.snapshot?.symbol || \"\").toUpperCase());\n    if (!pos) return;\n    const qty = Number(pos.qty ?? 0);\n    if (!Number.isFinite(qty) || qty === 0) return;\n\n    const now = Date.now();\n    if (lastStopTriggerRef.current && now - lastStopTriggerRef.current < 30_000) return;\n\n    const hitLong = qty > 0 && live <= stop;\n    const hitShort = qty < 0 && live >= stop;\n    if (!hitLong && !hitShort) return;\n\n    lastStopTriggerRef.current = now;\n    fetch(\"/api/close-position\", {\n      method: \"POST\",\n      headers: { \"content-type\": \"application/json\" },\n      body: JSON.stringify({\n        accountId: accountIdTrim,\n        symbol: planData.snapshot?.symbol || symbol,\n        priceTimeframe: \"15m\",\n        reason: \"stop_loss_hit\",\n        livePrice: live,\n      }),\n    })\n      .then(() => fetchAccountState())\n      .catch(() => {});\n  }, [accountIdTrim, priceLive, planData, positions, symbol, fetchAccountState]);\n\n  useEffect(() => {\n    if (!accountIdTrim) return;\n    const id = window.setInterval(() => {\n      const acct = accountIdRef.current;\n      if (!acct) return;\n      const live = livePriceRef.current ?? priceRef.current;\n      fetch(\"/api/risk-check\", {\n        method: \"POST\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify({\n          accountId: acct,\n          symbol: symbolRef.current || symbol,\n          livePrice: live ?? undefined,\n        }),\n      })\n        .then(() => fetchAccountState())\n        .catch(() => {});\n    }, 10_000);\n    return () => clearInterval(id);\n  }, [accountIdTrim, fetchAccountState, symbol]);\n\n  const executePlan = useCallback(async () => {\n    if (!accountIdTrim || !plan || plan.action === \"NO_TRADE\") return;\n    setExecLoading(true);\n    try {\n      const clientOrderId =\n        typeof crypto !== \"undefined\" && \"randomUUID\" in crypto ? crypto.randomUUID() : String(Date.now());\n      const execSymbol = planData?.snapshot?.symbol || symbol;\n      const decisionId = (planData as any)?.decision_id;\n      const res = await fetch(\"/api/execute\", {\n        method: \"POST\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify({\n          accountId: accountIdTrim,\n          clientOrderId,\n          decisionId,\n          symbol: execSymbol,\n          priceTimeframe: \"15m\",\n          feeUsd: 0,\n          plan,\n        }),\n      });\n      const j = await res.json();\n      if (!res.ok) throw new Error(j?.error || `HTTP ${res.status}`);\n      await fetchAccountState();\n      await fetchLastExecution();\n    } catch (e: any) {\n      setLastError(e?.message ?? \"Execute failed\");\n    } finally {\n      setExecLoading(false);\n    }\n  }, [accountIdTrim, fetchAccountState, plan, planData, symbol]);\n\r\n  return (\r\n    <div style={{ display: \"grid\", gap: 12 }}>\r\n      {/* Controls */}\n      <div style={{ ...panel(), display: \"grid\", gap: 10, gridTemplateColumns: \"1fr 1fr 1fr 1fr\" }}>\n        <label style={{ display: \"grid\", gap: 6 }}>\r\n          <span style={{ opacity: 0.8 }}>Symbol</span>\r\n          <input\r\n            value={symbol}\r\n            onChange={(e) => setSymbol(e.target.value)}\r\n            style={{ padding: 10, borderRadius: 12 }}\r\n            spellCheck={false}\r\n          />\r\n          {resolvedSymbol && resolvedSymbol !== symbol ? (\r\n            <span style={{ opacity: 0.65, fontSize: 12 }}>Resolved: {resolvedSymbol}</span>\r\n          ) : (\r\n            <span style={{ opacity: 0.65, fontSize: 12 }}>Resolved: 窶</span>\r\n          )}\r\n        </label>\r\n\r\n        <label style={{ display: \"grid\", gap: 6 }}>\r\n          <span style={{ opacity: 0.8 }}>Equity (paper)</span>\r\n          <input\r\n            value={equityUsd}\r\n            onChange={(e) => setEquityUsd(Number(e.target.value))}\r\n            type=\"number\"\r\n            min={0}\r\n            style={{ padding: 10, borderRadius: 12 }}\r\n          />\r\n        </label>\r\n\r\n        <label style={{ display: \"grid\", gap: 6 }}>\r\n          <span style={{ opacity: 0.8 }}>Max risk %</span>\r\n          <input\r\n            value={maxRiskPct}\r\n            onChange={(e) => setMaxRiskPct(Number(e.target.value))}\r\n            type=\"number\"\r\n            min={0.1}\r\n            max={10}\r\n            step={0.1}\r\n            style={{ padding: 10, borderRadius: 12 }}\r\n          />\r\n          <span style={{ opacity: 0.65, fontSize: 12 }}>Backend clamps; scan uses cheap mode</span>\r\n        </label>\r\n\r\n        <label style={{ display: \"grid\", gap: 6 }}>\r\n          <span style={{ opacity: 0.8 }}>Min RR</span>\r\n          <input\r\n            value={minRR}\r\n            onChange={(e) => setMinRR(Number(e.target.value))}\r\n            type=\"number\"\r\n            min={0.5}\r\n            max={10}\r\n            step={0.1}\r\n            style={{ padding: 10, borderRadius: 12 }}\r\n          />\r\n          <span style={{ opacity: 0.65, fontSize: 12 }}>Applied to verdict + target sanity</span>\r\n        </label>\r\n\r\n        <label style={{ display: \"grid\", gap: 6 }}>\r\n          <span style={{ opacity: 0.8 }}>Scan every (ms)</span>\r\n          <input\r\n            value={scanEveryMs}\r\n            onChange={(e) => setScanEveryMs(Number(e.target.value))}\r\n            type=\"number\"\r\n            min={3000}\r\n            step={1000}\r\n            style={{ padding: 10, borderRadius: 12 }}\r\n          />\r\n          <span style={{ opacity: 0.65, fontSize: 12 }}>Next scan: {msToCountdown(nextScanInMs)}</span>\r\n        </label>\r\n\r\n        <label style={{ display: \"grid\", gap: 6 }}>\r\n          <span style={{ opacity: 0.8 }}>Plan every (ms)</span>\r\n          <input\r\n            value={planEveryMs}\r\n            onChange={(e) => setPlanEveryMs(Number(e.target.value))}\r\n            type=\"number\"\r\n            min={30_000}\r\n            step={1000}\r\n            style={{ padding: 10, borderRadius: 12 }}\r\n          />\r\n          <span style={{ opacity: 0.65, fontSize: 12 }}>Next plan: {msToCountdown(nextPlanInMs)}</span>\r\n        </label>\r\n\r\n        <label style={{ display: \"grid\", gap: 6 }}>\r\n          <span style={{ opacity: 0.8 }}>Lookback</span>\r\n          <input\r\n            value={lookback}\r\n            onChange={(e) => setLookback(Number(e.target.value))}\r\n            type=\"number\"\r\n            min={80}\r\n            max={1500}\r\n            step={10}\r\n            style={{ padding: 10, borderRadius: 12 }}\r\n          />\r\n        </label>\r\n\r\n        <div style={{ display: \"grid\", gap: 6, gridColumn: \"span 3\" }}>\r\n          <span style={{ opacity: 0.8 }}>Timeframes (comma-separated)</span>\r\n          <input\r\n            value={timeframesText}\r\n            onChange={(e) => setTimeframesText(e.target.value)}\r\n            style={{\r\n              padding: 10,\r\n              borderRadius: 12,\r\n              border: tfError ? \"1px solid rgba(255,0,0,0.55)\" : \"1px solid rgba(255,255,255,0.12)\",\r\n            }}\r\n            spellCheck={false}\r\n          />\r\n          {tfError ? <div style={{ color: \"rgba(255,120,120,0.95)\" }}>{tfError}</div> : null}\r\n        </div>\r\n\r\n        <div style={{ gridColumn: \"span 4\", display: \"flex\", gap: 10, flexWrap: \"wrap\", alignItems: \"center\" }}>\r\n          <button type=\"button\" onClick={() => setAutoRefresh((v) => !v)} style={pill(autoRefresh)}>\r\n            {autoRefresh ? \"Auto-refresh: ON\" : \"Auto-refresh: OFF\"}\r\n          </button>\r\n\r\n          <label style={{ display: \"inline-flex\", gap: 10, alignItems: \"center\", padding: \"8px 10px\", borderRadius: 12, border: \"1px solid rgba(255,255,255,0.16)\" }}>\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={ltfOnly}\r\n              onChange={(e) => setLtfOnly(e.target.checked)}\r\n              style={{ width: 16, height: 16 }}\r\n            />\r\n            <span style={{ fontWeight: 900 }}>LTF-only</span>\r\n            <span style={{ opacity: 0.7, fontSize: 12 }}>(ignore HTF gate for plan)</span>\r\n          </label>\r\n\r\n          <label style={{ display: \"inline-flex\", gap: 10, alignItems: \"center\", padding: \"8px 10px\", borderRadius: 12, border: \"1px solid rgba(255,255,255,0.16)\" }}>\n            <input\n              type=\"checkbox\"\n              checked={aggressive}\n              onChange={(e) => setAggressive(e.target.checked)}\n              style={{ width: 16, height: 16 }}\n            />\n            <span style={{ fontWeight: 900 }}>Aggressive</span>\n            <span style={{ opacity: 0.7, fontSize: 12 }}>(relaxes gates; higher churn)</span>\n          </label>\n\n          <label style={{ display: \"inline-flex\", gap: 10, alignItems: \"center\", padding: \"8px 10px\", borderRadius: 12, border: \"1px solid rgba(255,255,255,0.16)\" }}>\n            <input\n              type=\"checkbox\"\n              checked={autoExecute}\n              onChange={(e) => setAutoExecute(e.target.checked)}\n              style={{ width: 16, height: 16 }}\n            />\n            <span style={{ fontWeight: 900 }}>Auto-execute (paper)</span>\n            <span style={{ opacity: 0.7, fontSize: 12 }}>(runs plan without approval)</span>\n          </label>\n\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => callAnalyze(\"scan\")}\r\n            disabled={!!tfError || loading}\r\n            style={{\r\n              padding: \"10px 12px\",\r\n              borderRadius: 12,\r\n              border: \"1px solid rgba(255,255,255,0.16)\",\r\n              cursor: \"pointer\",\r\n              fontWeight: 900,\r\n              opacity: !!tfError || loading ? 0.6 : 1,\r\n            }}\r\n            title=\"Runs cheap scan now\"\r\n          >\r\n            {loading ? \"Working窶ｦ\" : \"Run scan now\"}\r\n          </button>\r\n\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => callAnalyze(\"plan\")}\r\n            disabled={!!tfError || loading}\r\n            style={{\r\n              padding: \"10px 12px\",\r\n              borderRadius: 12,\r\n              border: \"1px solid rgba(255,255,255,0.16)\",\r\n              cursor: \"pointer\",\r\n              fontWeight: 900,\r\n              opacity: !!tfError || loading ? 0.6 : 1,\r\n            }}\r\n            title=\"Runs full engine now (ws + rag + model). If LTF-only is enabled, bypasses HTF gate.\"\r\n          >\r\n            {loading ? \"Working窶ｦ\" : `Run full plan now (${modeLabel(effectivePlanMode)})`}\r\n          </button>\r\n\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => {\r\n              try {\r\n                if (!lastRequestRef.current) return;\r\n                navigator.clipboard.writeText(JSON.stringify(lastRequestRef.current, null, 2));\r\n              } catch {\r\n                // ignore\r\n              }\r\n            }}\r\n            style={{\r\n              padding: \"10px 12px\",\r\n              borderRadius: 12,\r\n              border: \"1px solid rgba(255,255,255,0.16)\",\r\n              cursor: \"pointer\",\r\n              fontWeight: 900,\r\n              opacity: lastRequestRef.current ? 1 : 0.5,\r\n            }}\r\n            disabled={!lastRequestRef.current}\r\n            title=\"Copies the last /api/analyze JSON request to clipboard\"\r\n          >\r\n            Copy last request\r\n          </button>\r\n\r\n          <div style={{ marginLeft: \"auto\", opacity: 0.75, fontSize: 12, lineHeight: 1.4 }}>\r\n            <div>Last scan: {safeTime(lastScanAt)}</div>\r\n            <div>Last plan: {safeTime(lastPlanAt)}</div>\r\n          </div>\r\n        </div>\r\n      </div>\n\n      <div style={{ display: \"flex\", gap: 12, alignItems: \"flex-start\", flexWrap: \"wrap\" }}>\n        <div style={{ flex: \"1 1 720px\", minWidth: 0, display: \"grid\", gap: 12 }}>\n          {/* Paper account */}\n          <div style={{ ...panel(), display: \"grid\", gap: 10, gridTemplateColumns: \"1fr 1fr 1fr 1fr\" }}>\n        <label style={{ display: \"grid\", gap: 6 }}>\n          <span style={{ opacity: 0.8 }}>Paper accountId</span>\n          <input\n            value={accountId}\n            onChange={(e) => setAccountId(e.target.value)}\n            placeholder=\"trade_accounts.id\"\n            style={{ padding: 10, borderRadius: 12 }}\n            spellCheck={false}\n          />\n          <span style={{ opacity: 0.65, fontSize: 12 }}>Used by /api/execute and /api/positions</span>\n        </label>\n\n        <div style={{ display: \"grid\", gap: 6 }}>\n          <span style={{ opacity: 0.8 }}>Cash balance</span>\n          <div style={{ fontWeight: 900 }}>${accountCash == null ? \"窶能" : fmt(accountCash, 2)}</div>\n        </div>\n\n        <div style={{ display: \"grid\", gap: 6 }}>\n          <span style={{ opacity: 0.8 }}>Last equity</span>\n          <div style={{ fontWeight: 900 }}>\n            ${equityPoint?.equity_usd != null ? fmt(equityPoint.equity_usd, 2) : \"窶能"}\n          </div>\n          <div style={{ opacity: 0.65, fontSize: 12 }}>\n            {equityPoint?.created_at ? new Date(equityPoint.created_at).toLocaleTimeString() : \"窶能"}\n          </div>\n          <div style={{ opacity: 0.75, fontSize: 12 }}>\n            PnL: {pnlUsd == null ? \"窶能" : `${pnlUsd >= 0 ? \"+\" : \"\"}$${fmt(pnlUsd, 2)}`} {pnlPct == null ? \"\" : `(${fmt(pnlPct, 2)}%)`}\n          </div>\n        </div>\n\n        <div style={{ display: \"grid\", gap: 6 }}>\n          <button\n            type=\"button\"\n            onClick={executePlan}\n            disabled={!accountIdTrim || !plan || plan.action === \"NO_TRADE\" || execLoading}\n            style={{\n              padding: \"10px 12px\",\n              borderRadius: 12,\n              border: \"1px solid rgba(255,255,255,0.16)\",\n              cursor: \"pointer\",\n              fontWeight: 900,\n              opacity: !accountIdTrim || !plan || plan.action === \"NO_TRADE\" || execLoading ? 0.6 : 1,\n            }}\n          >\n            {execLoading ? \"Executing...\" : \"Execute current plan\"}\n          </button>\n          <button\n            type=\"button\"\n            onClick={fetchAccountState}\n            disabled={!accountIdTrim}\n            style={{\n              padding: \"10px 12px\",\n              borderRadius: 12,\n              border: \"1px solid rgba(255,255,255,0.16)\",\n              cursor: \"pointer\",\n              fontWeight: 900,\n              opacity: accountIdTrim ? 1 : 0.6,\n            }}\n          >\n            Refresh account\n          </button>\n        </div>\n\n        <div style={{ gridColumn: \"span 2\", display: \"grid\", gap: 6 }}>\n          <span style={{ opacity: 0.8 }}>\n            Open positions{\" \"}\n            <span style={{ opacity: 0.6, fontSize: 12 }}>\n              {positionsUpdatedAt ? `(last update ${new Date(positionsUpdatedAt).toLocaleTimeString()})` : \"\"}\n            </span>\n          </span>\n          {positions.length ? (\n            <div style={{ display: \"grid\", gap: 6 }}>\n              {positions.map((p, i) => {\n                const qty = num(p.qty);\n                const avg = num(p.avg_entry_price);\n                const live = num(priceLive);\n                const unreal =\n                  qty != null && avg != null && live != null ? (live - avg) * qty : null;\n                return (\n                  <div key={i} style={{ padding: \"8px 10px\", borderRadius: 10, border: \"1px solid rgba(255,255,255,0.10)\" }}>\n                    <div style={{ fontWeight: 900 }}>{p.symbol}</div>\n                    <div style={{ opacity: 0.85, fontSize: 12 }}>\n                      qty={p.qty} ﾂｷ avg={p.avg_entry_price} ﾂｷ realized=${p.realized_pnl_usd ?? 0}\n                    </div>\n                    <div style={{ opacity: 0.75, fontSize: 12 }}>\n                      unrealized={unreal == null ? \"窶能" : `$${fmt(unreal, 2)}`} ﾂｷ live={live == null ? \"窶能" : fmt(live, 2)}\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          ) : (\n            <div style={{ opacity: 0.65, fontSize: 12 }}>No positions</div>\n          )}\n        </div>\n\n        <div style={{ gridColumn: \"span 2\", display: \"grid\", gap: 6 }}>\n          <span style={{ opacity: 0.8 }}>\n            AI Outlook (5m){\" \"}\n            <span style={{ opacity: 0.6, fontSize: 12 }}>\n              {lastOutlookAt ? `(last update ${new Date(lastOutlookAt).toLocaleTimeString()})` : \"\"}\n            </span>\n          </span>\n          <div\n            style={{\n              padding: \"8px 10px\",\n              borderRadius: 10,\n              border: \"1px solid rgba(255,255,255,0.10)\",\n              minHeight: 120,\n              whiteSpace: \"pre-wrap\",\n              fontSize: 12,\n              opacity: 0.9,\n            }}\n          >\n            {outlookLoading ? \"Updating outlook...\" : outlookText || \"No outlook yet.\"}\n          </div>\n          {outlookError ? (\n            <div style={{ opacity: 0.75, fontSize: 12, color: \"rgba(255,120,120,0.95)\" }}>\n              {outlookError}\n              {lastOutlookErrorAt ? ` (${new Date(lastOutlookErrorAt).toLocaleTimeString()})` : \"\"}\n            </div>\n          ) : null}\n          {outlookDebug ? (\n            <div style={{ opacity: 0.6, fontSize: 11, fontFamily: \"monospace\" }}>\n              {outlookDebug}\n            </div>\n          ) : null}\n          <button\n            type=\"button\"\n            onClick={() => fetchOutlook(true)}\n            disabled={outlookLoading}\n            style={{\n              padding: \"8px 10px\",\n              borderRadius: 10,\n              border: \"1px solid rgba(255,255,255,0.16)\",\n              cursor: \"pointer\",\n              fontWeight: 800,\n              opacity: outlookLoading ? 0.6 : 1,\n              width: \"fit-content\",\n            }}\n          >\n            {outlookLoading ? \"Updating...\" : \"Refresh outlook\"}\n          </button>\n        </div>\n\n        <div style={{ gridColumn: \"span 4\", display: \"grid\", gap: 6 }}>\n          <span style={{ opacity: 0.8 }}>Position risk (enforced)</span>\n          {positions.length ? (\n            <div style={{ display: \"grid\", gap: 6 }}>\n              {positions.map((p, i) => (\n                <div key={i} style={{ padding: \"8px 10px\", borderRadius: 10, border: \"1px solid rgba(255,255,255,0.10)\" }}>\n                  <div style={{ fontWeight: 900 }}>{p.symbol}</div>\n                  <div style={{ opacity: 0.75, fontSize: 12 }}>\n                    stop={p.stop_price ?? \"窶能"} ﾂｷ max_loss_pct={p.max_loss_pct ?? \"窶能"}\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div style={{ opacity: 0.65, fontSize: 12 }}>No positions</div>\n          )}\n        </div>\n\n        <div style={{ gridColumn: \"span 4\", display: \"grid\", gap: 6 }}>\n          <span style={{ opacity: 0.8 }}>Trade journal (latest)</span>\n          {journalRows.length ? (\n            <div style={{ display: \"grid\", gap: 6 }}>\n              {journalRows.map((j, i) => (\n                <div key={i} style={{ padding: \"8px 10px\", borderRadius: 10, border: \"1px solid rgba(255,255,255,0.10)\" }}>\n                  <div style={{ fontWeight: 900 }}>\n                    {j.symbol} ﾂｷ {j.side} ﾂｷ qty={j.qty}\n                  </div>\n                  <div style={{ opacity: 0.75, fontSize: 12 }}>\n                    entry={j.entry_price ?? \"窶能"} ﾂｷ exit={j.exit_price ?? \"窶能"} ﾂｷ pnl={j.pnl_usd ?? \"窶能"} ﾂｷ {j.status}\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div style={{ opacity: 0.65, fontSize: 12 }}>No journal entries yet</div>\n          )}\n        </div>\n\n        <div style={{ gridColumn: \"span 4\", display: \"grid\", gap: 6 }}>\n          <span style={{ opacity: 0.8 }}>Last execution</span>\n          {lastExecution?.order ? (\n            <div style={{ display: \"grid\", gap: 6 }}>\n              <div style={{ opacity: 0.85, fontSize: 12 }}>\n                {lastExecution.order.symbol ?? \"ﾃ｢竄ｬ窶拿"} ﾃつｷ {lastExecution.order.side ?? \"ﾃ｢竄ｬ窶拿"} ﾃつｷ qty={lastExecution.order.qty ?? \"ﾃ｢竄ｬ窶拿"}\n              </div>\n              <div style={{ opacity: 0.75, fontSize: 12 }}>\n                status={lastExecution.order.status ?? \"ﾃ｢竄ｬ窶拿"} ﾃつｷ created={lastExecution.order.created_at ? new Date(lastExecution.order.created_at).toLocaleTimeString() : \"ﾃ｢竄ｬ窶拿"}\n              </div>\n              <div style={{ opacity: 0.75, fontSize: 12 }}>\n                fill={lastExecution.fill?.price ?? \"ﾃ｢竄ｬ窶拿"} ﾃつｷ fee={lastExecution.fill?.fee_usd ?? \"ﾃ｢竄ｬ窶拿"}\n              </div>\n            </div>\n          ) : (\n            <div style={{ opacity: 0.65, fontSize: 12 }}>No executions yet</div>\n          )}\n        </div>\n\n        <div style={{ gridColumn: \"span 4\", display: \"grid\", gap: 6 }}>\n          <span style={{ opacity: 0.8 }}>Decision history (latest)</span>\n          {decisions.length ? (\n            <div style={{ display: \"flex\", gap: 6, flexWrap: \"wrap\" }}>\n              {decisions.map((d, i) => {\n                const action = d.plan?.action ?? \"ﾃ｢竄ｬ窶拿";\n                const color =\n                  action === \"LONG\" ? \"rgba(0,200,120,0.25)\" : action === \"SHORT\" ? \"rgba(255,80,80,0.25)\" : \"rgba(255,255,255,0.08)\";\n                return (\n                  <div key={d.id ?? i} style={{ padding: \"6px 8px\", borderRadius: 8, border: \"1px solid rgba(255,255,255,0.10)\", background: color }}>\n                    <div style={{ fontWeight: 900, fontSize: 12 }}>{action}</div>\n                    <div style={{ opacity: 0.7, fontSize: 11 }}>\n                      {d.created_at ? new Date(d.created_at).toLocaleTimeString() : \"ﾃ｢竄ｬ窶拿"}\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          ) : (\n            <div style={{ opacity: 0.65, fontSize: 12 }}>No decisions yet</div>\n          )}\n        </div>\n\n        <div style={{ gridColumn: \"span 4\", display: \"grid\", gap: 6 }}>\n          <span style={{ opacity: 0.8 }}>Win/Loss summary (decision_evals)</span>\n          {evalSummary?.outcomes ? (\n            (() => {\n              const wins = Number(evalSummary.outcomes.T1 ?? 0);\n              const losses = Number(evalSummary.outcomes.STOP ?? 0);\n              const open = Number(evalSummary.outcomes.OPEN ?? 0);\n              const invalid = Number(evalSummary.outcomes.INVALID ?? 0);\n              const total = wins + losses + open + invalid;\n              const winPct = total > 0 ? (wins / total) * 100 : 0;\n              const lossPct = total > 0 ? (losses / total) * 100 : 0;\n              return (\n                <div style={{ display: \"grid\", gap: 6 }}>\n                  <div style={{ display: \"flex\", gap: 6, height: 10 }}>\n                    <div style={{ width: `${winPct}%`, background: \"rgba(0,200,120,0.6)\", borderRadius: 6 }} />\n                    <div style={{ width: `${lossPct}%`, background: \"rgba(255,80,80,0.6)\", borderRadius: 6 }} />\n                    <div style={{ width: `${Math.max(0, 100 - winPct - lossPct)}%`, background: \"rgba(255,255,255,0.12)\", borderRadius: 6 }} />\n                  </div>\n                  <div style={{ opacity: 0.75, fontSize: 12 }}>\n                    wins={wins} ﾃつｷ losses={losses} ﾃつｷ open={open} ﾃつｷ invalid={invalid} ﾃつｷ win%={winPct.toFixed(1)}\n                  </div>\n                </div>\n              );\n            })()\n          ) : (\n            <div style={{ opacity: 0.65, fontSize: 12 }}>No evaluations yet</div>\n          )}\n        </div>\n      </div>\n\n      {/* System status */}\n      <div style={{ ...panel(), display: \"flex\", gap: 12, alignItems: \"center\", flexWrap: \"wrap\" }}>\n        <span style={{ fontWeight: 900 }}>System</span>\n        <span style={{ opacity: 0.8 }}>\n          WS: {liveWsOk ? \"connected\" : \"offline\"}\n        </span>\n        <span style={{ opacity: 0.8 }}>\n          Data: {dataHealth?.blocked ? \"GAPS\" : \"OK\"}\n        </span>\n        {decisionId ? (\n          <span style={{ opacity: 0.8 }}>Decision ID: {decisionId}</span>\n        ) : null}\n      </div>\n\n      {/* Headline */}\n      <div style={{ ...panel(), display: \"grid\", gap: 10 }}>\n        <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"baseline\", gap: 12 }}>\r\n          <div style={{ display: \"flex\", gap: 12, alignItems: \"center\", flexWrap: \"wrap\" }}>\n            <span style={{ opacity: 0.8 }}>Price</span>\n            <span style={{ fontSize: 22, fontWeight: 950 }}>{Number.isFinite(Number(price)) ? price : \"窶能"}</span>\n            <span style={{ opacity: 0.7, fontSize: 12 }}>\n              Live: {Number.isFinite(Number(priceLive)) ? priceLive : \"窶能"} {liveWsOk ? \"ﾂｷ WS\" : \"ﾂｷ offline\"}\n            </span>\n            <span style={{ opacity: 0.7, fontSize: 12 }}>\n              ﾎ {liveDelta == null ? \"窶能" : `${liveDelta >= 0 ? \"+\" : \"\"}${fmt(liveDelta, 2)}`} {liveDeltaPct == null ? \"\" : `(${fmt(liveDeltaPct, 2)}%)`}\n            </span>\n\r\n            <span style={badgeStyle(plan?.action ?? \"窶能")}>\r\n              <span>{plan?.action ?? \"窶能"}</span>\r\n              <span style={{ opacity: 0.7, fontWeight: 850, fontSize: 12 }}>{gptFlag ? \"GPT/RAG\" : \"scan-only\"}</span>\r\n            </span>\r\n\r\n            {gate ? (\r\n              <span style={badgeStyle(gate.blocked ? \"NO_TRADE\" : \"LONG\")}>\r\n                <span>{gate.blocked ? \"GATE: BLOCKED\" : \"GATE: PASS\"}</span>\r\n                <span style={{ opacity: 0.7, fontWeight: 850, fontSize: 12 }}>\r\n                  {gate.higherTimeframesUsed?.join(\" + \") ?? \"窶能"}\r\n                </span>\r\n              </span>\r\n            ) : null}\r\n\r\n            {ltfOnly ? (\r\n              <span style={badgeStyle(\"NO_TRADE\")}>\r\n                <span>LTF-ONLY</span>\r\n                <span style={{ opacity: 0.7, fontWeight: 850, fontSize: 12 }}>HTF gate bypass for plan</span>\r\n              </span>\r\n            ) : null}\r\n          </div>\r\n\r\n          <div style={{ opacity: 0.75, textAlign: \"right\" }}>\r\n            <div>Last response: {safeTime(Math.max(lastScanAt ?? 0, lastPlanAt ?? 0) || null)}</div>\r\n            <div style={{ opacity: 0.65, fontSize: 12 }}>\r\n              {lastHttpStatus != null ? `HTTP ${lastHttpStatus}` : \"\"}{lastLatencyMs != null ? ` ﾂｷ ${lastLatencyMs}ms` : \"\"}{lastMode ? ` ﾂｷ ${lastMode}` : \"\"}\r\n            </div>\r\n            <div style={{ opacity: 0.65, fontSize: 12 }}>\r\n              scan={Math.round(clamp(scanEveryMs, 3000, 3_600_000) / 60000)}m ﾂｷ plan=\r\n              {Math.round(clamp(planEveryMs, 30_000, 86_400_000) / 60000)}m\n            </div>\n            <div style={{ opacity: 0.65, fontSize: 12 }}>\n              live tick: {livePriceAt ? new Date(livePriceAt).toLocaleTimeString() : \"ﾃ｢竄ｬ窶拿"}\n            </div>\n          </div>\n        </div>\r\n\r\n        {lastError ? (\n          <div style={{ padding: 10, borderRadius: 12, background: \"rgba(255,0,0,0.10)\" }}>\n            <strong>Error:</strong> {lastError}\n          </div>\n        ) : null}\n\r\n        {plan && (String(plan.stop?.rationale ?? \"\").toLowerCase().includes(\"invalid json\") || String(plan.notes ?? \"\").toLowerCase().includes(\"invalid json\")) ? (\n          <div style={{ padding: 10, borderRadius: 12, background: \"rgba(255,200,0,0.08)\" }}>\n            <strong>Model output parsing failed.</strong> This usually means the backend tried to parse a non-JSON model response.\n            Deploy the JSON-repair route patch (route.jsonfix.ts), then re-run the plan.\n          </div>\n        ) : null}\n\n        {plan ? (\n          <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr 1fr\", gap: 10 }}>\n            <div style={panel()}>\n              <div style={{ opacity: 0.8 }}>Decision</div>\n              <div style={{ fontWeight: 950, fontSize: 16 }}>{plan.action}</div>\n              <div style={{ opacity: 0.75, fontSize: 12 }}>{decisionId ? `id ${decisionId}` : \"no decision id\"}</div>\n            </div>\n            <div style={panel()}>\n              <div style={{ opacity: 0.8 }}>Entry / Stop</div>\n              <div style={{ fontWeight: 900, fontSize: 14 }}>\n                {plan.entry?.type ? plan.entry.type.toUpperCase() : \"窶能"} {plan.entry?.price ? `@ ${fmt(plan.entry.price, 2)}` : \"\"}\n              </div>\n              <div style={{ opacity: 0.75, fontSize: 12 }}>\n                stop {plan.stop?.price != null ? fmt(plan.stop.price, 2) : \"窶能"}\n              </div>\n            </div>\n            <div style={panel()}>\n              <div style={{ opacity: 0.8 }}>Targets</div>\n              <div style={{ fontWeight: 900, fontSize: 14 }}>\n                {Array.isArray(plan.targets) ? plan.targets.map((t) => fmt(t.price, 2)).join(\", \") : \"窶能"}\n              </div>\n              <div style={{ opacity: 0.75, fontSize: 12 }}>\n                {gate?.blocked ? \"gate blocked\" : \"gate pass\"}\n                {dataHealth?.missingOrStale?.length ? ` ﾂｷ data gaps: ${dataHealth.missingOrStale.join(\", \")}` : \"\"}\n              </div>\n            </div>\n          </div>\n        ) : null}\n\r\n        {/* Gate reasons */}\r\n        {gate?.blocked && gate.reasons?.length ? (\r\n          <div style={{ padding: 10, borderRadius: 12, background: \"rgba(255,200,0,0.08)\" }}>\r\n            <div style={{ fontWeight: 900, marginBottom: 6 }}>\r\n              HTF Regime Gate {ltfOnly ? \"(BLOCKED 窶 bypassed for LTF-only plan)\" : \"(BLOCKED)\"}\r\n            </div>\r\n            <ul style={{ margin: 0, paddingLeft: 18, opacity: 0.95 }}>\r\n              {gate.reasons.map((r, i) => (\r\n                <li key={i}>{r}</li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        ) : null}\r\n\r\n        {/* Plan grid */}\r\n        {plan ? (\r\n          <div style={{ display: \"grid\", gap: 10 }}>\r\n            <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr 1fr\", gap: 10 }}>\r\n              <div style={panel()}>\r\n                <div style={{ opacity: 0.8 }}>Leverage</div>\r\n                <div style={{ fontWeight: 950, fontSize: 18 }}>{plan.leverage}x</div>\r\n              </div>\r\n\r\n              <div style={panel()}>\r\n                <div style={{ opacity: 0.8 }}>Risk</div>\r\n                <div style={{ fontWeight: 950, fontSize: 18 }}>{fmt(plan.riskPct, 2)}%</div>\r\n              </div>\r\n\r\n              <div style={panel()}>\r\n                <div style={{ opacity: 0.8 }}>RR (T1)</div>\r\n                <div style={{ fontWeight: 950, fontSize: 18 }}>{verdict?.rr == null ? \"窶能" : fmt(verdict.rr, 2)}</div>\r\n                {verdict?.reasons?.length ? (\r\n                  <div style={{ marginTop: 6, opacity: 0.75, fontSize: 12 }}>{verdict.reasons.join(\" ﾂｷ \")}</div>\r\n                ) : null}\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 10 }}>\r\n              <div style={panel()}>\r\n                <div style={{ fontWeight: 950 }}>Entry</div>\r\n                <div style={{ marginTop: 6, opacity: 0.95 }}>\r\n                  {plan?.entry?.type\r\n                    ? `${plan.entry.type.toUpperCase()}${plan.entry.price != null ? ` @ ${fmt(plan.entry.price, 2)}` : \"\"}${\r\n                        plan.entry.trigger != null ? ` (trigger ${fmt(plan.entry.trigger, 2)})` : \"\"\r\n                      }`\r\n                    : \"窶能"}\r\n                </div>\r\n              </div>\r\n\r\n              <div style={panel()}>\r\n                <div style={{ fontWeight: 950 }}>Stop</div>\r\n                <div style={{ marginTop: 6, opacity: 0.95 }}>\r\n                  {plan?.stop?.price != null ? `${fmt(plan.stop.price, 2)}${plan.stop?.rationale ? ` 窶 ${plan.stop.rationale}` : \"\"}` : \"窶能"}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={panel()}>\r\n              <div style={{ fontWeight: 950 }}>Targets</div>\r\n              <div style={{ marginTop: 8, display: \"grid\", gap: 6 }}>\r\n                {plan.targets?.map((t, i) => (\r\n                  <div key={i} style={{ display: \"flex\", justifyContent: \"space-between\", opacity: 0.95 }}>\r\n                    <span>\r\n                      T{i + 1}: {fmt(t.price, 2)}\r\n                    </span>\r\n                    <span style={{ fontWeight: 900 }}>{fmt(t.sizePct, 0)}%</span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {exec && (exec.qty != null || exec.notionalUsd != null) ? (\r\n              <div style={panel()}>\r\n                <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"baseline\", gap: 12 }}>\r\n                  <div style={{ fontWeight: 950 }}>Execution sizing</div>\r\n                  <div style={{ opacity: 0.7, fontSize: 12 }}>paper=${fmt(equityUsd, 0)} ﾂｷ cap=10x</div>\r\n                </div>\r\n\r\n                <div style={{ marginTop: 10, display: \"grid\", gridTemplateColumns: \"1fr 1fr 1fr 1fr\", gap: 10 }}>\r\n                  <div style={{ ...panel(), background: \"rgba(255,255,255,0.02)\" }}>\r\n                    <div style={{ opacity: 0.8 }}>Qty</div>\r\n                    <div style={{ fontWeight: 950, fontSize: 18 }}>{exec.qty == null ? \"窶能" : fmt(exec.qty, 6)}</div>\r\n                  </div>\r\n                  <div style={{ ...panel(), background: \"rgba(255,255,255,0.02)\" }}>\r\n                    <div style={{ opacity: 0.8 }}>Notional</div>\r\n                    <div style={{ fontWeight: 950, fontSize: 18 }}>${exec.notionalUsd == null ? \"窶能" : fmt(exec.notionalUsd, 2)}</div>\r\n                  </div>\r\n                  <div style={{ ...panel(), background: \"rgba(255,255,255,0.02)\" }}>\r\n                    <div style={{ opacity: 0.8 }}>Eff. leverage</div>\r\n                    <div style={{ fontWeight: 950, fontSize: 18 }}>{exec.effectiveLeverage == null ? \"窶能" : fmt(exec.effectiveLeverage, 2)}x</div>\r\n                  </div>\r\n                  <div style={{ ...panel(), background: \"rgba(255,255,255,0.02)\" }}>\r\n                    <div style={{ opacity: 0.8 }}>Risk ($)</div>\r\n                    <div style={{ fontWeight: 950, fontSize: 18 }}>${exec.riskUsdActual == null ? \"窶能" : fmt(exec.riskUsdActual, 2)}</div>\r\n                    {exec.riskUsdPlanned != null ? (\r\n                      <div style={{ opacity: 0.7, fontSize: 12 }}>planned ${fmt(exec.riskUsdPlanned, 2)}</div>\r\n                    ) : null}\r\n                  </div>\r\n                </div>\r\n\r\n                {Array.isArray(exec.perTarget) && exec.perTarget.length ? (\r\n                  <div style={{ marginTop: 10 }}>\r\n                    <div style={{ fontWeight: 950, marginBottom: 6 }}>Per-target PnL</div>\r\n                    <div style={{ overflowX: \"auto\" }}>\r\n                      <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\r\n                        <thead>\r\n                          <tr style={{ textAlign: \"left\", opacity: 0.75 }}>\r\n                            <th style={{ padding: \"8px 6px\" }}>Target</th>\r\n                            <th style={{ padding: \"8px 6px\" }}>Price</th>\r\n                            <th style={{ padding: \"8px 6px\" }}>Size</th>\r\n                            <th style={{ padding: \"8px 6px\" }}>PnL ($)</th>\r\n                            <th style={{ padding: \"8px 6px\" }}>RR</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {exec.perTarget.map((t, i) => (\r\n                            <tr key={i} style={{ borderTop: \"1px solid rgba(255,255,255,0.08)\" }}>\r\n                              <td style={{ padding: \"10px 6px\", fontWeight: 900 }}>T{(t.idx ?? i) + 1}</td>\r\n                              <td style={{ padding: \"10px 6px\" }}>{fmt(t.price, 2)}</td>\r\n                              <td style={{ padding: \"10px 6px\" }}>{fmt(t.sizePct, 0)}%</td>\r\n                              <td style={{ padding: \"10px 6px\" }}>{t.pnlUsd == null ? \"窶能" : `$${fmt(t.pnlUsd, 2)}`}</td>\r\n                              <td style={{ padding: \"10px 6px\" }}>{t.rr == null ? \"窶能" : fmt(t.rr, 2)}</td>\r\n                            </tr>\r\n                          ))}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n            ) : null}\r\n\r\n            {plan.notes ? (\r\n              <div style={{ ...panel(), background: \"rgba(255,255,255,0.04)\" }}>\r\n                <div style={{ fontWeight: 950 }}>Notes</div>\r\n                <div style={{ marginTop: 8, whiteSpace: \"pre-wrap\", opacity: 0.92 }}>{plan.notes}</div>\r\n              </div>\r\n            ) : null}\r\n\r\n            {plan.citations?.length ? (\r\n              <div style={panel()}>\r\n                <div style={{ fontWeight: 950 }}>Citations (rule chunks)</div>\r\n                <div style={{ marginTop: 8, display: \"grid\", gap: 6 }}>\r\n                  {plan.citations.map((c, i) => (\r\n                    <div key={i} style={{ opacity: 0.95 }}>\r\n                      窶｢ {c.rule_chunk_id}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        ) : null}\r\n      </div>\n\n      {/* Data completeness */}\n      {dataHealth ? (\n        <div style={panel()}>\n          <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"baseline\", gap: 12 }}>\n            <div style={{ fontWeight: 950, fontSize: 16 }}>Data completeness</div>\n            <div style={{ opacity: 0.7, fontSize: 12 }}>\n              {dataHealth.blocked ? \"issues detected\" : \"OK\"}\n            </div>\n          </div>\n          <div style={{ marginTop: 8, display: \"grid\", gap: 6, fontSize: 12, opacity: 0.9 }}>\n            {(dataHealth.timeframes ?? []).map((h: any) => (\n              <div key={h.tf} style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n                <span style={{ fontWeight: 800 }}>{h.tf}</span>\n                <span>\n                  n={h.n ?? 0}\n                  {\" ﾂｷ \"}\n                  missing={h.missingBars ?? 0}\n                  {\" ﾂｷ \"}\n                  stale={h.stale ? \"yes\" : \"no\"}\n                </span>\n              </div>\n            ))}\n            {Array.isArray(dataHealth.missingOrStale) && dataHealth.missingOrStale.length ? (\n              <div style={{ opacity: 0.75 }}>\n                issues: {dataHealth.missingOrStale.join(\", \")}\n              </div>\n            ) : null}\n          </div>\n        </div>\n      ) : null}\n\n      {/* Stress simulation */}\n      <div style={panel()}>\n        <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", gap: 12, flexWrap: \"wrap\" }}>\n          <div style={{ fontWeight: 950, fontSize: 16 }}>Stress simulation (paper)</div>\n          <div style={{ display: \"flex\", gap: 10, alignItems: \"center\", flexWrap: \"wrap\" }}>\n            <label style={{ display: \"flex\", gap: 6, alignItems: \"center\", fontSize: 12, opacity: 0.8 }}>\n              Hours\n              <input\n                type=\"number\"\n                min={1}\n                max={48}\n                value={stressConfig.sessionDurationHours}\n                onChange={(e) =>\n                  setStressConfig((prev) => ({ ...prev, sessionDurationHours: Number(e.target.value) }))\n                }\n                style={{\n                  width: 70,\n                  padding: \"6px 8px\",\n                  borderRadius: 8,\n                  border: \"1px solid rgba(255,255,255,0.2)\",\n                  background: \"rgba(255,255,255,0.04)\",\n                  color: \"white\",\n                }}\n              />\n            </label>\n            <label style={{ display: \"flex\", gap: 6, alignItems: \"center\", fontSize: 12, opacity: 0.8 }}>\n              Seed\n              <input\n                type=\"number\"\n                value={simSeed}\n                onChange={(e) => setSimSeed(Number(e.target.value))}\n                style={{\n                  width: 90,\n                  padding: \"6px 8px\",\n                  borderRadius: 8,\n                  border: \"1px solid rgba(255,255,255,0.2)\",\n                  background: \"rgba(255,255,255,0.04)\",\n                  color: \"white\",\n                }}\n              />\n            </label>\n            <button\n              onClick={runSimulation}\n              disabled={simLoading}\n              style={{\n                padding: \"8px 12px\",\n                borderRadius: 10,\n                border: \"1px solid rgba(255,255,255,0.2)\",\n                background: \"rgba(255,255,255,0.08)\",\n                color: \"white\",\n                fontWeight: 800,\n                cursor: simLoading ? \"default\" : \"pointer\",\n                opacity: simLoading ? 0.6 : 1,\n              }}\n            >\n              {simLoading ? \"Running...\" : \"Run stress sim\"}\n            </button>\n          </div>\n        </div>\n\n        <details style={{ marginTop: 10 }}>\n          <summary style={{ cursor: \"pointer\", fontWeight: 900 }}>Stress config</summary>\n          <div style={{ marginTop: 10, display: \"grid\", gap: 12 }}>\n            <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(3, minmax(0,1fr))\", gap: 10 }}>\n              <label style={{ display: \"grid\", gap: 4, fontSize: 12, opacity: 0.8 }}>\n                Objective multiplier\n                <input\n                  type=\"number\"\n                  min={1}\n                  step={0.1}\n                  value={stressConfig.sessionObjectiveMultiplier}\n                  onChange={(e) =>\n                    setStressConfig((prev) => ({ ...prev, sessionObjectiveMultiplier: Number(e.target.value) }))\n                  }\n                  style={{\n                    padding: \"6px 8px\",\n                    borderRadius: 8,\n                    border: \"1px solid rgba(255,255,255,0.2)\",\n                    background: \"rgba(255,255,255,0.04)\",\n                    color: \"white\",\n                  }}\n                />\n              </label>\n              <label style={{ display: \"grid\", gap: 4, fontSize: 12, opacity: 0.8 }}>\n                Max daily loss %\n                <input\n                  type=\"number\"\n                  min={1}\n                  max={90}\n                  step={1}\n                  value={stressConfig.maxDailyLossPct}\n                  onChange={(e) => setStressConfig((prev) => ({ ...prev, maxDailyLossPct: Number(e.target.value) }))}\n                  style={{\n                    padding: \"6px 8px\",\n                    borderRadius: 8,\n                    border: \"1px solid rgba(255,255,255,0.2)\",\n                    background: \"rgba(255,255,255,0.04)\",\n                    color: \"white\",\n                  }}\n                />\n              </label>\n              <label style={{ display: \"grid\", gap: 4, fontSize: 12, opacity: 0.8 }}>\n                Max loss / trade %\n                <input\n                  type=\"number\"\n                  min={0.1}\n                  max={50}\n                  step={0.1}\n                  value={stressConfig.maxLossPerTradePct}\n                  onChange={(e) =>\n                    setStressConfig((prev) => ({ ...prev, maxLossPerTradePct: Number(e.target.value) }))\n                  }\n                  style={{\n                    padding: \"6px 8px\",\n                    borderRadius: 8,\n                    border: \"1px solid rgba(255,255,255,0.2)\",\n                    background: \"rgba(255,255,255,0.04)\",\n                    color: \"white\",\n                  }}\n                />\n              </label>\n            </div>\n\n            <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(3, minmax(0,1fr))\", gap: 10 }}>\n              <label style={{ display: \"grid\", gap: 4, fontSize: 12, opacity: 0.8 }}>\n                Max leverage\n                <input\n                  type=\"number\"\n                  min={1}\n                  max={50}\n                  step={1}\n                  value={stressConfig.maxLeverage}\n                  onChange={(e) => setStressConfig((prev) => ({ ...prev, maxLeverage: Number(e.target.value) }))}\n                  style={{\n                    padding: \"6px 8px\",\n                    borderRadius: 8,\n                    border: \"1px solid rgba(255,255,255,0.2)\",\n                    background: \"rgba(255,255,255,0.04)\",\n                    color: \"white\",\n                  }}\n                />\n              </label>\n              <label style={{ display: \"grid\", gap: 4, fontSize: 12, opacity: 0.8 }}>\n                Max concurrent\n                <input\n                  type=\"number\"\n                  min={1}\n                  max={4}\n                  step={1}\n                  value={stressConfig.maxConcurrentPositions}\n                  onChange={(e) =>\n                    setStressConfig((prev) => ({ ...prev, maxConcurrentPositions: Number(e.target.value) }))\n                  }\n                  style={{\n                    padding: \"6px 8px\",\n                    borderRadius: 8,\n                    border: \"1px solid rgba(255,255,255,0.2)\",\n                    background: \"rgba(255,255,255,0.04)\",\n                    color: \"white\",\n                  }}\n                />\n              </label>\n              <label style={{ display: \"grid\", gap: 4, fontSize: 12, opacity: 0.8 }}>\n                Min RR\n                <input\n                  type=\"number\"\n                  min={0.5}\n                  max={5}\n                  step={0.1}\n                  value={stressConfig.minRR}\n                  onChange={(e) => setStressConfig((prev) => ({ ...prev, minRR: Number(e.target.value) }))}\n                  style={{\n                    padding: \"6px 8px\",\n                    borderRadius: 8,\n                    border: \"1px solid rgba(255,255,255,0.2)\",\n                    background: \"rgba(255,255,255,0.04)\",\n                    color: \"white\",\n                  }}\n                />\n              </label>\n            </div>\n\n            <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(3, minmax(0,1fr))\", gap: 10 }}>\n              <label style={{ display: \"grid\", gap: 4, fontSize: 12, opacity: 0.8 }}>\n                RR tier (range)\n                <input\n                  type=\"number\"\n                  min={1}\n                  max={6}\n                  step={0.1}\n                  value={stressConfig.rrTierRange}\n                  onChange={(e) => setStressConfig((prev) => ({ ...prev, rrTierRange: Number(e.target.value) }))}\n                  style={{\n                    padding: \"6px 8px\",\n                    borderRadius: 8,\n                    border: \"1px solid rgba(255,255,255,0.2)\",\n                    background: \"rgba(255,255,255,0.04)\",\n                    color: \"white\",\n                  }}\n                />\n              </label>\n              <label style={{ display: \"grid\", gap: 4, fontSize: 12, opacity: 0.8 }}>\n                RR tier (mixed)\n                <input\n                  type=\"number\"\n                  min={1}\n                  max={6}\n                  step={0.1}\n                  value={stressConfig.rrTierMixed}\n                  onChange={(e) => setStressConfig((prev) => ({ ...prev, rrTierMixed: Number(e.target.value) }))}\n                  style={{\n                    padding: \"6px 8px\",\n                    borderRadius: 8,\n                    border: \"1px solid rgba(255,255,255,0.2)\",\n                    background: \"rgba(255,255,255,0.04)\",\n                    color: \"white\",\n                  }}\n                />\n              </label>\n              <label style={{ display: \"grid\", gap: 4, fontSize: 12, opacity: 0.8 }}>\n                Confidence threshold\n                <input\n                  type=\"number\"\n                  min={0}\n                  max={100}\n                  step={1}\n                  value={stressConfig.confidenceThreshold}\n                  onChange={(e) =>\n                    setStressConfig((prev) => ({ ...prev, confidenceThreshold: Number(e.target.value) }))\n                  }\n                  style={{\n                    padding: \"6px 8px\",\n                    borderRadius: 8,\n                    border: \"1px solid rgba(255,255,255,0.2)\",\n                    background: \"rgba(255,255,255,0.04)\",\n                    color: \"white\",\n                  }}\n                />\n              </label>\n            </div>\n\n            <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(3, minmax(0,1fr))\", gap: 10 }}>\n              <label style={{ display: \"grid\", gap: 4, fontSize: 12, opacity: 0.8 }}>\n                Near-miss (conf)\n                <input\n                  type=\"number\"\n                  min={0}\n                  max={50}\n                  step={1}\n                  value={stressConfig.confidenceNearMiss}\n                  onChange={(e) =>\n                    setStressConfig((prev) => ({ ...prev, confidenceNearMiss: Number(e.target.value) }))\n                  }\n                  style={{\n                    padding: \"6px 8px\",\n                    borderRadius: 8,\n                    border: \"1px solid rgba(255,255,255,0.2)\",\n                    background: \"rgba(255,255,255,0.04)\",\n                    color: \"white\",\n                  }}\n                />\n              </label>\n              <label style={{ display: \"grid\", gap: 4, fontSize: 12, opacity: 0.8 }}>\n                Cooldown (min)\n                <input\n                  type=\"number\"\n                  min={0}\n                  max={240}\n                  step={1}\n                  value={stressConfig.cooldownMinutes}\n                  onChange={(e) => setStressConfig((prev) => ({ ...prev, cooldownMinutes: Number(e.target.value) }))}\n                  style={{\n                    padding: \"6px 8px\",\n                    borderRadius: 8,\n                    border: \"1px solid rgba(255,255,255,0.2)\",\n                    background: \"rgba(255,255,255,0.04)\",\n                    color: \"white\",\n                  }}\n                />\n              </label>\n              <label style={{ display: \"grid\", gap: 4, fontSize: 12, opacity: 0.8 }}>\n                Slippage (bps)\n                <input\n                  type=\"number\"\n                  min={0}\n                  max={100}\n                  step={1}\n                  value={stressConfig.slippageBps}\n                  onChange={(e) => setStressConfig((prev) => ({ ...prev, slippageBps: Number(e.target.value) }))}\n                  style={{\n                    padding: \"6px 8px\",\n                    borderRadius: 8,\n                    border: \"1px solid rgba(255,255,255,0.2)\",\n                    background: \"rgba(255,255,255,0.04)\",\n                    color: \"white\",\n                  }}\n                />\n              </label>\n            </div>\n\n            <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(3, minmax(0,1fr))\", gap: 10 }}>\n              <label style={{ display: \"grid\", gap: 4, fontSize: 12, opacity: 0.8 }}>\n                Fees (bps)\n                <input\n                  type=\"number\"\n                  min={0}\n                  max={50}\n                  step={0.5}\n                  value={stressConfig.feesBps}\n                  onChange={(e) => setStressConfig((prev) => ({ ...prev, feesBps: Number(e.target.value) }))}\n                  style={{\n                    padding: \"6px 8px\",\n                    borderRadius: 8,\n                    border: \"1px solid rgba(255,255,255,0.2)\",\n                    background: \"rgba(255,255,255,0.04)\",\n                    color: \"white\",\n                  }}\n                />\n              </label>\n              <label style={{ display: \"grid\", gap: 4, fontSize: 12, opacity: 0.8 }}>\n                Kill switch DD %\n                <input\n                  type=\"number\"\n                  min={1}\n                  max={90}\n                  step={1}\n                  value={stressConfig.killSwitchMaxDrawdownPct}\n                  onChange={(e) =>\n                    setStressConfig((prev) => ({ ...prev, killSwitchMaxDrawdownPct: Number(e.target.value) }))\n                  }\n                  style={{\n                    padding: \"6px 8px\",\n                    borderRadius: 8,\n                    border: \"1px solid rgba(255,255,255,0.2)\",\n                    background: \"rgba(255,255,255,0.04)\",\n                    color: \"white\",\n                  }}\n                />\n              </label>\n              <label style={{ display: \"grid\", gap: 4, fontSize: 12, opacity: 0.8 }}>\n                Vol spike %\n                <input\n                  type=\"number\"\n                  min={0}\n                  max={20}\n                  step={0.1}\n                  value={stressConfig.killSwitchVolatilitySpikePct}\n                  onChange={(e) =>\n                    setStressConfig((prev) => ({ ...prev, killSwitchVolatilitySpikePct: Number(e.target.value) }))\n                  }\n                  style={{\n                    padding: \"6px 8px\",\n                    borderRadius: 8,\n                    border: \"1px solid rgba(255,255,255,0.2)\",\n                    background: \"rgba(255,255,255,0.04)\",\n                    color: \"white\",\n                  }}\n                />\n              </label>\n            </div>\n\n            <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: 10, fontSize: 12 }}>\n              <label style={{ display: \"flex\", alignItems: \"center\", gap: 6 }}>\n                <input\n                  type=\"checkbox\"\n                  checked={stressConfig.allowLTFOverride}\n                  onChange={(e) => setStressConfig((prev) => ({ ...prev, allowLTFOverride: e.target.checked }))}\n                />\n                Allow LTF override\n              </label>\n              <label style={{ display: \"flex\", alignItems: \"center\", gap: 6 }}>\n                <input\n                  type=\"checkbox\"\n                  checked={stressConfig.allowCounterTrend}\n                  onChange={(e) => setStressConfig((prev) => ({ ...prev, allowCounterTrend: e.target.checked }))}\n                />\n                Allow counter-trend\n              </label>\n              <label style={{ display: \"flex\", alignItems: \"center\", gap: 6 }}>\n                <input\n                  type=\"checkbox\"\n                  checked={replayEnabled}\n                  onChange={(e) => setReplayEnabled(e.target.checked)}\n                />\n                Enable replay harness\n              </label>\n              <label style={{ display: \"flex\", alignItems: \"center\", gap: 6 }}>\n                <input type=\"checkbox\" checked={replaySweep} onChange={(e) => setReplaySweep(e.target.checked)} />\n                Parameter sweep\n              </label>\n            </div>\n\n            {replayEnabled ? (\n              <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(3, minmax(0,1fr))\", gap: 10 }}>\n                <label style={{ display: \"grid\", gap: 4, fontSize: 12, opacity: 0.8 }}>\n                  Replay days\n                  <input\n                    type=\"number\"\n                    min={1}\n                    max={120}\n                    step={1}\n                    value={replayDays}\n                    onChange={(e) => setReplayDays(Number(e.target.value))}\n                    style={{\n                      padding: \"6px 8px\",\n                      borderRadius: 8,\n                      border: \"1px solid rgba(255,255,255,0.2)\",\n                      background: \"rgba(255,255,255,0.04)\",\n                      color: \"white\",\n                    }}\n                  />\n                </label>\n                <label style={{ display: \"grid\", gap: 4, fontSize: 12, opacity: 0.8 }}>\n                  Step hours\n                  <input\n                    type=\"number\"\n                    min={1}\n                    max={48}\n                    step={1}\n                    value={replayStepHours}\n                    onChange={(e) => setReplayStepHours(Number(e.target.value))}\n                    style={{\n                      padding: \"6px 8px\",\n                      borderRadius: 8,\n                      border: \"1px solid rgba(255,255,255,0.2)\",\n                      background: \"rgba(255,255,255,0.04)\",\n                      color: \"white\",\n                    }}\n                  />\n                </label>\n                <label style={{ display: \"grid\", gap: 4, fontSize: 12, opacity: 0.8 }}>\n                  MC runs\n                  <input\n                    type=\"number\"\n                    min={50}\n                    max={2000}\n                    step={50}\n                    value={monteCarloRuns}\n                    onChange={(e) => setMonteCarloRuns(Number(e.target.value))}\n                    style={{\n                      padding: \"6px 8px\",\n                      borderRadius: 8,\n                      border: \"1px solid rgba(255,255,255,0.2)\",\n                      background: \"rgba(255,255,255,0.04)\",\n                      color: \"white\",\n                    }}\n                  />\n                </label>\n                <label style={{ display: \"grid\", gap: 4, fontSize: 12, opacity: 0.8 }}>\n                  Sweep candidates\n                  <input\n                    type=\"number\"\n                    min={5}\n                    max={40}\n                    step={1}\n                    value={replayCandidates}\n                    onChange={(e) => setReplayCandidates(Number(e.target.value))}\n                    style={{\n                      padding: \"6px 8px\",\n                      borderRadius: 8,\n                      border: \"1px solid rgba(255,255,255,0.2)\",\n                      background: \"rgba(255,255,255,0.04)\",\n                      color: \"white\",\n                    }}\n                  />\n                </label>\n                <label style={{ display: \"grid\", gap: 4, fontSize: 12, opacity: 0.8 }}>\n                  Kill switch losses\n                  <input\n                    type=\"number\"\n                    min={0}\n                    max={20}\n                    step={1}\n                    value={stressConfig.killSwitchConsecutiveLosses}\n                    onChange={(e) =>\n                      setStressConfig((prev) => ({ ...prev, killSwitchConsecutiveLosses: Number(e.target.value) }))\n                    }\n                    style={{\n                      padding: \"6px 8px\",\n                      borderRadius: 8,\n                      border: \"1px solid rgba(255,255,255,0.2)\",\n                      background: \"rgba(255,255,255,0.04)\",\n                      color: \"white\",\n                    }}\n                  />\n                </label>\n              </div>\n            ) : (\n              <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(3, minmax(0,1fr))\", gap: 10 }}>\n                <label style={{ display: \"grid\", gap: 4, fontSize: 12, opacity: 0.8 }}>\n                  Kill switch losses\n                  <input\n                    type=\"number\"\n                    min={0}\n                    max={20}\n                    step={1}\n                    value={stressConfig.killSwitchConsecutiveLosses}\n                    onChange={(e) =>\n                      setStressConfig((prev) => ({ ...prev, killSwitchConsecutiveLosses: Number(e.target.value) }))\n                    }\n                    style={{\n                      padding: \"6px 8px\",\n                      borderRadius: 8,\n                      border: \"1px solid rgba(255,255,255,0.2)\",\n                      background: \"rgba(255,255,255,0.04)\",\n                      color: \"white\",\n                    }}\n                  />\n                </label>\n              </div>\n            )}\n\n            {replayEnabled && replaySweep ? (\n              <div style={{ ...panel(), display: \"grid\", gap: 10 }}>\n                <div style={{ fontWeight: 900 }}>Parameter sweep ranges</div>\n                <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(6, minmax(0,1fr))\", gap: 8, fontSize: 11 }}>\n                  <div style={{ opacity: 0.7 }}>Field</div>\n                  <div style={{ opacity: 0.7 }}>On</div>\n                  <div style={{ opacity: 0.7 }}>Min</div>\n                  <div style={{ opacity: 0.7 }}>Max</div>\n                  <div style={{ opacity: 0.7 }}>Step</div>\n                  <div style={{ opacity: 0.7 }}>Notes</div>\n\n                  <div>minRR</div>\n                  <div>\n                    <input\n                      type=\"checkbox\"\n                      checked={sweepConfig.minRR.enabled}\n                      onChange={(e) =>\n                        setSweepConfig((prev) => ({ ...prev, minRR: { ...prev.minRR, enabled: e.target.checked } }))\n                      }\n                    />\n                  </div>\n                  <input\n                    type=\"number\"\n                    value={sweepConfig.minRR.min}\n                    onChange={(e) =>\n                      setSweepConfig((prev) => ({ ...prev, minRR: { ...prev.minRR, min: Number(e.target.value) } }))\n                    }\n                    style={{\n                      width: \"100%\",\n                      padding: \"4px 6px\",\n                      borderRadius: 6,\n                      border: \"1px solid rgba(255,255,255,0.2)\",\n                      background: \"rgba(255,255,255,0.04)\",\n                      color: \"white\",\n                    }}\n                  />\n                  <input\n                    type=\"number\"\n                    value={sweepConfig.minRR.max}\n                    onChange={(e) =>\n                      setSweepConfig((prev) => ({ ...prev, minRR: { ...prev.minRR, max: Number(e.target.value) } }))\n                    }\n                    style={{\n                      width: \"100%\",\n                      padding: \"4px 6px\",\n                      borderRadius: 6,\n                      border: \"1px solid rgba(255,255,255,0.2)\",\n                      background: \"rgba(255,255,255,0.04)\",\n                      color: \"white\",\n                    }}\n                  />\n                  <input\n                    type=\"number\"\n                    value={sweepConfig.minRR.step}\n                    onChange={(e) =>\n                      setSweepConfig((prev) => ({ ...prev, minRR: { ...prev.minRR, step: Number(e.target.value) } }))\n                    }\n                    style={{\n                      width: \"100%\",\n                      padding: \"4px 6px\",\n                      borderRadius: 6,\n                      border: \"1px solid rgba(255,255,255,0.2)\",\n                      background: \"rgba(255,255,255,0.04)\",\n                      color: \"white\",\n                    }}\n                  />\n                  <div style={{ opacity: 0.6 }}>RR tier floor</div>\n\n                  <div>confidence</div>\n                  <div>\n                    <input\n                      type=\"checkbox\"\n                      checked={sweepConfig.confidenceThreshold.enabled}\n                      onChange={(e) =>\n                        setSweepConfig((prev) => ({\n                          ...prev,\n                          confidenceThreshold: { ...prev.confidenceThreshold, enabled: e.target.checked },\n                        }))\n                      }\n                    />\n                  </div>\n                  <input\n                    type=\"number\"\n                    value={sweepConfig.confidenceThreshold.min}\n                    onChange={(e) =>\n                      setSweepConfig((prev) => ({\n                        ...prev,\n                        confidenceThreshold: { ...prev.confidenceThreshold, min: Number(e.target.value) },\n                      }))\n                    }\n                    style={{\n                      width: \"100%\",\n                      padding: \"4px 6px\",\n                      borderRadius: 6,\n                      border: \"1px solid rgba(255,255,255,0.2)\",\n                      background: \"rgba(255,255,255,0.04)\",\n                      color: \"white\",\n                    }}\n                  />\n                  <input\n                    type=\"number\"\n                    value={sweepConfig.confidenceThreshold.max}\n                    onChange={(e) =>\n                      setSweepConfig((prev) => ({\n                        ...prev,\n                        confidenceThreshold: { ...prev.confidenceThreshold, max: Number(e.target.value) },\n                      }))\n                    }\n                    style={{\n                      width: \"100%\",\n                      padding: \"4px 6px\",\n                      borderRadius: 6,\n                      border: \"1px solid rgba(255,255,255,0.2)\",\n                      background: \"rgba(255,255,255,0.04)\",\n                      color: \"white\",\n                    }}\n                  />\n                  <input\n                    type=\"number\"\n                    value={sweepConfig.confidenceThreshold.step}\n                    onChange={(e) =>\n                      setSweepConfig((prev) => ({\n                        ...prev,\n                        confidenceThreshold: { ...prev.confidenceThreshold, step: Number(e.target.value) },\n                      }))\n                    }\n                    style={{\n                      width: \"100%\",\n                      padding: \"4px 6px\",\n                      borderRadius: 6,\n                      border: \"1px solid rgba(255,255,255,0.2)\",\n                      background: \"rgba(255,255,255,0.04)\",\n                      color: \"white\",\n                    }}\n                  />\n                  <div style={{ opacity: 0.6 }}>setup gate</div>\n\n                  <div>loss / trade</div>\n                  <div>\n                    <input\n                      type=\"checkbox\"\n                      checked={sweepConfig.maxLossPerTradePct.enabled}\n                      onChange={(e) =>\n                        setSweepConfig((prev) => ({\n                          ...prev,\n                          maxLossPerTradePct: { ...prev.maxLossPerTradePct, enabled: e.target.checked },\n                        }))\n                      }\n                    />\n                  </div>\n                  <input\n                    type=\"number\"\n                    value={sweepConfig.maxLossPerTradePct.min}\n                    onChange={(e) =>\n                      setSweepConfig((prev) => ({\n                        ...prev,\n                        maxLossPerTradePct: { ...prev.maxLossPerTradePct, min: Number(e.target.value) },\n                      }))\n                    }\n                    style={{\n                      width: \"100%\",\n                      padding: \"4px 6px\",\n                      borderRadius: 6,\n                      border: \"1px solid rgba(255,255,255,0.2)\",\n                      background: \"rgba(255,255,255,0.04)\",\n                      color: \"white\",\n                    }}\n                  />\n                  <input\n                    type=\"number\"\n                    value={sweepConfig.maxLossPerTradePct.max}\n                    onChange={(e) =>\n                      setSweepConfig((prev) => ({\n                        ...prev,\n                        maxLossPerTradePct: { ...prev.maxLossPerTradePct, max: Number(e.target.value) },\n                      }))\n                    }\n                    style={{\n                      width: \"100%\",\n                      padding: \"4px 6px\",\n                      borderRadius: 6,\n                      border: \"1px solid rgba(255,255,255,0.2)\",\n                      background: \"rgba(255,255,255,0.04)\",\n                      color: \"white\",\n                    }}\n                  />\n                  <input\n                    type=\"number\"\n                    value={sweepConfig.maxLossPerTradePct.step}\n                    onChange={(e) =>\n                      setSweepConfig((prev) => ({\n                        ...prev,\n                        maxLossPerTradePct: { ...prev.maxLossPerTradePct, step: Number(e.target.value) },\n                      }))\n                    }\n                    style={{\n                      width: \"100%\",\n                      padding: \"4px 6px\",\n                      borderRadius: 6,\n                      border: \"1px solid rgba(255,255,255,0.2)\",\n                      background: \"rgba(255,255,255,0.04)\",\n                      color: \"white\",\n                    }}\n                  />\n                  <div style={{ opacity: 0.6 }}>risk gate</div>\n\n                  <div>max leverage</div>\n                  <div>\n                    <input\n                      type=\"checkbox\"\n                      checked={sweepConfig.maxLeverage.enabled}\n                      onChange={(e) =>\n                        setSweepConfig((prev) => ({ ...prev, maxLeverage: { ...prev.maxLeverage, enabled: e.target.checked } }))\n                      }\n                    />\n                  </div>\n                  <input\n                    type=\"number\"\n                    value={sweepConfig.maxLeverage.min}\n                    onChange={(e) =>\n                      setSweepConfig((prev) => ({ ...prev, maxLeverage: { ...prev.maxLeverage, min: Number(e.target.value) } }))\n                    }\n                    style={{\n                      width: \"100%\",\n                      padding: \"4px 6px\",\n                      borderRadius: 6,\n                      border: \"1px solid rgba(255,255,255,0.2)\",\n                      background: \"rgba(255,255,255,0.04)\",\n                      color: \"white\",\n                    }}\n                  />\n                  <input\n                    type=\"number\"\n                    value={sweepConfig.maxLeverage.max}\n                    onChange={(e) =>\n                      setSweepConfig((prev) => ({ ...prev, maxLeverage: { ...prev.maxLeverage, max: Number(e.target.value) } }))\n                    }\n                    style={{\n                      width: \"100%\",\n                      padding: \"4px 6px\",\n                      borderRadius: 6,\n                      border: \"1px solid rgba(255,255,255,0.2)\",\n                      background: \"rgba(255,255,255,0.04)\",\n                      color: \"white\",\n                    }}\n                  />\n                  <input\n                    type=\"number\"\n                    value={sweepConfig.maxLeverage.step}\n                    onChange={(e) =>\n                      setSweepConfig((prev) => ({ ...prev, maxLeverage: { ...prev.maxLeverage, step: Number(e.target.value) } }))\n                    }\n                    style={{\n                      width: \"100%\",\n                      padding: \"4px 6px\",\n                      borderRadius: 6,\n                      border: \"1px solid rgba(255,255,255,0.2)\",\n                      background: \"rgba(255,255,255,0.04)\",\n                      color: \"white\",\n                    }}\n                  />\n                  <div style={{ opacity: 0.6 }}>cap</div>\n\n                  <div>max positions</div>\n                  <div>\n                    <input\n                      type=\"checkbox\"\n                      checked={sweepConfig.maxConcurrentPositions.enabled}\n                      onChange={(e) =>\n                        setSweepConfig((prev) => ({\n                          ...prev,\n                          maxConcurrentPositions: { ...prev.maxConcurrentPositions, enabled: e.target.checked },\n                        }))\n                      }\n                    />\n                  </div>\n                  <input\n                    type=\"number\"\n                    value={sweepConfig.maxConcurrentPositions.min}\n                    onChange={(e) =>\n                      setSweepConfig((prev) => ({\n                        ...prev,\n                        maxConcurrentPositions: { ...prev.maxConcurrentPositions, min: Number(e.target.value) },\n                      }))\n                    }\n                    style={{\n                      width: \"100%\",\n                      padding: \"4px 6px\",\n                      borderRadius: 6,\n                      border: \"1px solid rgba(255,255,255,0.2)\",\n                      background: \"rgba(255,255,255,0.04)\",\n                      color: \"white\",\n                    }}\n                  />\n                  <input\n                    type=\"number\"\n                    value={sweepConfig.maxConcurrentPositions.max}\n                    onChange={(e) =>\n                      setSweepConfig((prev) => ({\n                        ...prev,\n                        maxConcurrentPositions: { ...prev.maxConcurrentPositions, max: Number(e.target.value) },\n                      }))\n                    }\n                    style={{\n                      width: \"100%\",\n                      padding: \"4px 6px\",\n                      borderRadius: 6,\n                      border: \"1px solid rgba(255,255,255,0.2)\",\n                      background: \"rgba(255,255,255,0.04)\",\n                      color: \"white\",\n                    }}\n                  />\n                  <input\n                    type=\"number\"\n                    value={sweepConfig.maxConcurrentPositions.step}\n                    onChange={(e) =>\n                      setSweepConfig((prev) => ({\n                        ...prev,\n                        maxConcurrentPositions: { ...prev.maxConcurrentPositions, step: Number(e.target.value) },\n                      }))\n                    }\n                    style={{\n                      width: \"100%\",\n                      padding: \"4px 6px\",\n                      borderRadius: 6,\n                      border: \"1px solid rgba(255,255,255,0.2)\",\n                      background: \"rgba(255,255,255,0.04)\",\n                      color: \"white\",\n                    }}\n                  />\n                  <div style={{ opacity: 0.6 }}>position cap</div>\n                </div>\n\n                <div style={{ display: \"flex\", gap: 12, fontSize: 12 }}>\n                  <label style={{ display: \"flex\", alignItems: \"center\", gap: 6 }}>\n                    <input\n                      type=\"checkbox\"\n                      checked={sweepConfig.allowCounterTrend.enabled}\n                      onChange={(e) =>\n                        setSweepConfig((prev) => ({\n                          ...prev,\n                          allowCounterTrend: { enabled: e.target.checked },\n                        }))\n                      }\n                    />\n                    vary allowCounterTrend\n                  </label>\n                  <label style={{ display: \"flex\", alignItems: \"center\", gap: 6 }}>\n                    <input\n                      type=\"checkbox\"\n                      checked={sweepConfig.allowLTFOverride.enabled}\n                      onChange={(e) =>\n                        setSweepConfig((prev) => ({\n                          ...prev,\n                          allowLTFOverride: { enabled: e.target.checked },\n                        }))\n                      }\n                    />\n                    vary allowLTFOverride\n                  </label>\n                </div>\n              </div>\n            ) : null}\n          </div>\n        </details>\n\n        {simError ? (\n          <div style={{ marginTop: 8, padding: 10, borderRadius: 10, background: \"rgba(255,0,0,0.10)\" }}>\n            <strong>Error:</strong> {simError}\n          </div>\n        ) : null}\n\n        {simMetrics ? (\n          <div style={{ marginTop: 12, display: \"grid\", gap: 10 }}>\n            <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(4, minmax(0,1fr))\", gap: 10 }}>\n              <div style={panel()}>\n                <div style={{ opacity: 0.75 }}>Start</div>\n                <div style={{ fontWeight: 950 }}>${fmt(simMetrics.startEquity, 2)}</div>\n              </div>\n              <div style={panel()}>\n                <div style={{ opacity: 0.75 }}>End</div>\n                <div style={{ fontWeight: 950 }}>${fmt(simMetrics.endEquity, 2)}</div>\n              </div>\n              <div style={panel()}>\n                <div style={{ opacity: 0.75 }}>Target</div>\n                <div style={{ fontWeight: 950 }}>${fmt(simMetrics.targetEquity, 2)}</div>\n              </div>\n              <div style={panel()}>\n                <div style={{ opacity: 0.75 }}>Hit</div>\n                <div style={{ fontWeight: 950 }}>{simMetrics.hitTarget ? \"yes\" : \"no\"}</div>\n              </div>\n            </div>\n\n            <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(4, minmax(0,1fr))\", gap: 10 }}>\n              <div style={panel()}>\n                <div style={{ opacity: 0.75 }}>Trades</div>\n                <div style={{ fontWeight: 950 }}>{simMetrics.tradeCount}</div>\n              </div>\n              <div style={panel()}>\n                <div style={{ opacity: 0.75 }}>Win rate</div>\n                <div style={{ fontWeight: 950 }}>{fmt(simMetrics.winRate * 100, 1)}%</div>\n              </div>\n              <div style={panel()}>\n                <div style={{ opacity: 0.75 }}>Expectancy (R)</div>\n                <div style={{ fontWeight: 950 }}>{fmt(simMetrics.expectancyR, 2)}</div>\n              </div>\n              <div style={panel()}>\n                <div style={{ opacity: 0.75 }}>Max DD</div>\n                <div style={{ fontWeight: 950 }}>{fmt(simMetrics.maxDrawdownPct, 1)}%</div>\n              </div>\n            </div>\n\n            <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(4, minmax(0,1fr))\", gap: 10 }}>\n              <div style={panel()}>\n                <div style={{ opacity: 0.75 }}>Profit factor</div>\n                <div style={{ fontWeight: 950 }}>{fmt(simMetrics.profitFactor, 2)}</div>\n              </div>\n              <div style={panel()}>\n                <div style={{ opacity: 0.75 }}>Avg R</div>\n                <div style={{ fontWeight: 950 }}>{fmt(simMetrics.avgR, 2)}</div>\n              </div>\n              <div style={panel()}>\n                <div style={{ opacity: 0.75 }}>Time in trade</div>\n                <div style={{ fontWeight: 950 }}>{fmt(simMetrics.timeInTradePct, 1)}%</div>\n              </div>\n              <div style={panel()}>\n                <div style={{ opacity: 0.75 }}>Trades / hour</div>\n                <div style={{ fontWeight: 950 }}>{fmt(simMetrics.tradeFrequencyPerHour, 2)}</div>\n              </div>\n            </div>\n\n            {simLastEquity ? (\n              <div style={{ opacity: 0.7, fontSize: 12 }}>\n                Last equity point: ${fmt(simLastEquity.equity, 2)} at {new Date(simLastEquity.ts).toLocaleString()}\n              </div>\n            ) : null}\n\n            {simEquity.length ? (\n              <div style={{ overflowX: \"auto\" }}>\n                <div style={{ fontWeight: 900, marginBottom: 6 }}>Equity curve (last 24 points)</div>\n                <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\n                  <thead>\n                    <tr style={{ textAlign: \"left\", opacity: 0.75 }}>\n                      <th style={{ padding: \"8px 6px\" }}>Time</th>\n                      <th style={{ padding: \"8px 6px\" }}>Equity</th>\n                      <th style={{ padding: \"8px 6px\" }}>Drawdown</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {simEquity.slice(-24).map((p: any, i: number) => (\n                      <tr key={i} style={{ borderTop: \"1px solid rgba(255,255,255,0.08)\" }}>\n                        <td style={{ padding: \"8px 6px\" }}>{new Date(p.ts).toLocaleTimeString()}</td>\n                        <td style={{ padding: \"8px 6px\" }}>${fmt(p.equity, 2)}</td>\n                        <td style={{ padding: \"8px 6px\" }}>{fmt(p.drawdownPct, 1)}%</td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            ) : null}\n\n            {simTrades.length ? (\n              <div style={{ overflowX: \"auto\" }}>\n                <div style={{ fontWeight: 900, marginBottom: 6 }}>Trade log (last 25)</div>\n                <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\n                  <thead>\n                    <tr style={{ textAlign: \"left\", opacity: 0.75 }}>\n                      <th style={{ padding: \"8px 6px\" }}>Side</th>\n                      <th style={{ padding: \"8px 6px\" }}>Entry</th>\n                      <th style={{ padding: \"8px 6px\" }}>Exit</th>\n                      <th style={{ padding: \"8px 6px\" }}>PnL</th>\n                      <th style={{ padding: \"8px 6px\" }}>RR</th>\n                      <th style={{ padding: \"8px 6px\" }}>Reason</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {simTrades.slice(-25).map((t: any, i: number) => (\n                      <tr key={i} style={{ borderTop: \"1px solid rgba(255,255,255,0.08)\" }}>\n                        <td style={{ padding: \"8px 6px\", fontWeight: 900 }}>{t.side}</td>\n                        <td style={{ padding: \"8px 6px\" }}>{fmt(t.entryPrice, 2)}</td>\n                        <td style={{ padding: \"8px 6px\" }}>{fmt(t.exitPrice, 2)}</td>\n                        <td style={{ padding: \"8px 6px\" }}>${fmt(t.pnlUsd, 2)}</td>\n                        <td style={{ padding: \"8px 6px\" }}>{fmt(t.rr, 2)}</td>\n                        <td style={{ padding: \"8px 6px\" }}>{t.exitReason}</td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n                <div style={{ marginTop: 8, display: \"flex\", gap: 8, flexWrap: \"wrap\" }}>\n                  <button\n                    type=\"button\"\n                    onClick={exportSimTradesCsv}\n                    style={{\n                      padding: \"6px 10px\",\n                      borderRadius: 8,\n                      border: \"1px solid rgba(255,255,255,0.16)\",\n                      cursor: \"pointer\",\n                      fontWeight: 800,\n                    }}\n                  >\n                    Export trades CSV\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={exportOpportunitiesCsv}\n                    disabled={!simOpportunities.length}\n                    style={{\n                      padding: \"6px 10px\",\n                      borderRadius: 8,\n                      border: \"1px solid rgba(255,255,255,0.16)\",\n                      cursor: simOpportunities.length ? \"pointer\" : \"default\",\n                      fontWeight: 800,\n                      opacity: simOpportunities.length ? 1 : 0.6,\n                    }}\n                  >\n                    Export opportunities CSV ({simOpportunities.length})\n                  </button>\n                </div>\n              </div>\n            ) : null}\n\n            {simOpportunities.length ? (\n              <div style={{ overflowX: \"auto\" }}>\n                <div style={{ fontWeight: 900, marginBottom: 6 }}>\n                  Opportunity log (near-miss) ﾂｷ {simOpportunities.length} entries\n                </div>\n                <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\n                  <thead>\n                    <tr style={{ textAlign: \"left\", opacity: 0.75 }}>\n                      <th style={{ padding: \"8px 6px\" }}>Time</th>\n                      <th style={{ padding: \"8px 6px\" }}>Setup</th>\n                      <th style={{ padding: \"8px 6px\" }}>Side</th>\n                      <th style={{ padding: \"8px 6px\" }}>RR</th>\n                      <th style={{ padding: \"8px 6px\" }}>Conf</th>\n                      <th style={{ padding: \"8px 6px\" }}>Regime</th>\n                      <th style={{ padding: \"8px 6px\" }}>Blocked by</th>\n                      <th style={{ padding: \"8px 6px\" }}>Relaxed variant</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {simOpportunities.slice(-50).map((o: any, i: number) => (\n                      <tr key={i} style={{ borderTop: \"1px solid rgba(255,255,255,0.08)\" }}>\n                        <td style={{ padding: \"8px 6px\" }}>{new Date(o.ts).toLocaleTimeString()}</td>\n                        <td style={{ padding: \"8px 6px\" }}>{o.setupType}</td>\n                        <td style={{ padding: \"8px 6px\", fontWeight: 900 }}>{o.side}</td>\n                        <td style={{ padding: \"8px 6px\" }}>{fmt(o.rr, 2)}</td>\n                        <td style={{ padding: \"8px 6px\" }}>{fmt(o.confidence, 1)}</td>\n                        <td style={{ padding: \"8px 6px\" }}>{o.regime}</td>\n                        <td style={{ padding: \"8px 6px\" }}>\n                          {Array.isArray(o.blockedBy) ? o.blockedBy.join(\", \") : \"\"}\n                        </td>\n                        <td style={{ padding: \"8px 6px\" }}>\n                          {Array.isArray(o.relaxedVariant) ? o.relaxedVariant.join(\"; \") : \"\"}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            ) : null}\n\n            {simRegime ? (\n              <div style={panel()}>\n                <div style={{ fontWeight: 900 }}>Regime summary</div>\n                <div style={{ marginTop: 6, fontSize: 12, opacity: 0.85 }}>\n                  dominant={simRegime.dominant ?? \"NA\"} | score={fmt(simRegime.regimeScore, 1)} | confidence={fmt(simRegime.confidenceScore, 1)}\n                </div>\n              </div>\n            ) : null}\n\n            {simMonteCarlo ? (\n              <div style={panel()}>\n                <div style={{ fontWeight: 900 }}>Monte Carlo</div>\n                <div style={{ marginTop: 6, fontSize: 12, opacity: 0.85 }}>\n                  runs={simMonteCarlo.runs} | ruin={fmt(simMonteCarlo.ruinProbability * 100, 1)}% | p50=${fmt(simMonteCarlo.endEquity?.p50, 2)} | p95=${fmt(simMonteCarlo.endEquity?.p95, 2)}\n                </div>\n              </div>\n            ) : null}\n\n            {simReplay ? (\n              <div style={panel()}>\n                <div style={{ fontWeight: 900 }}>Replay harness</div>\n                <div style={{ marginTop: 6, fontSize: 12, opacity: 0.85 }}>\n                  runs={simReplay.runs} | sessionHours={simReplay.sessionHours} | avgEnd=${fmt(simReplay.summary?.endEquity, 2)} | maxDD={fmt(simReplay.summary?.maxDrawdownPct, 1)}%\n                </div>\n              </div>\n            ) : null}\n\n            {simSweep?.top?.length ? (\n              <div style={{ overflowX: \"auto\" }}>\n                <div style={{ fontWeight: 900, marginBottom: 6 }}>Top parameter sets (return, drawdown, stability)</div>\n                <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\n                  <thead>\n                    <tr style={{ textAlign: \"left\", opacity: 0.75 }}>\n                      <th style={{ padding: \"8px 6px\" }}>Rank</th>\n                      <th style={{ padding: \"8px 6px\" }}>Return</th>\n                      <th style={{ padding: \"8px 6px\" }}>Max DD</th>\n                      <th style={{ padding: \"8px 6px\" }}>Stability</th>\n                      <th style={{ padding: \"8px 6px\" }}>MinRR</th>\n                      <th style={{ padding: \"8px 6px\" }}>Conf</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {simSweep.top.slice(0, 10).map((s: any, i: number) => {\n                      const ret = s.metrics?.startEquity ? s.metrics.endEquity / s.metrics.startEquity : 0;\n                      return (\n                        <tr key={i} style={{ borderTop: \"1px solid rgba(255,255,255,0.08)\" }}>\n                          <td style={{ padding: \"8px 6px\" }}>{i + 1}</td>\n                          <td style={{ padding: \"8px 6px\" }}>{fmt(ret, 2)}x</td>\n                          <td style={{ padding: \"8px 6px\" }}>{fmt(s.metrics?.maxDrawdownPct, 1)}%</td>\n                          <td style={{ padding: \"8px 6px\" }}>{fmt(s.stabilityScore, 2)}</td>\n                          <td style={{ padding: \"8px 6px\" }}>{fmt(s.stress?.minRR, 2)}</td>\n                          <td style={{ padding: \"8px 6px\" }}>{fmt(s.stress?.confidenceThreshold, 0)}</td>\n                        </tr>\n                      );\n                    })}\n                  </tbody>\n                </table>\n              </div>\n            ) : null}\n          </div>\n        ) : (\n          <div style={{ marginTop: 8, opacity: 0.7, fontSize: 12 }}>Run a simulation to see results.</div>\n        )}\n      </div>\n\n      {/* TF table */}\n      {tfSummaries.length ? (\n        <div style={panel()}>\n          <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"baseline\", gap: 12 }}>\r\n            <div style={{ fontWeight: 950, fontSize: 16 }}>Timeframes</div>\r\n            <div style={{ opacity: 0.7, fontSize: 12 }}>Regime2 label + scores; EMA/RSI last candle</div>\r\n          </div>\r\n\r\n          <div style={{ marginTop: 10, overflowX: \"auto\" }}>\r\n            <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\r\n              <thead>\r\n                <tr style={{ textAlign: \"left\", opacity: 0.75 }}>\r\n                  <th style={{ padding: \"8px 6px\" }}>TF</th>\r\n                  <th style={{ padding: \"8px 6px\" }}>Price</th>\r\n                  <th style={{ padding: \"8px 6px\" }}>ﾎ</th>\r\n                  <th style={{ padding: \"8px 6px\" }}>EMA20</th>\r\n                  <th style={{ padding: \"8px 6px\" }}>EMA50</th>\r\n                  <th style={{ padding: \"8px 6px\" }}>RSI14</th>\r\n                  <th style={{ padding: \"8px 6px\" }}>Regime2</th>\r\n                  <th style={{ padding: \"8px 6px\" }}>Trend</th>\r\n                  <th style={{ padding: \"8px 6px\" }}>Chop</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {tfSummaries.map((r: any, idx: number) => {\r\n                  if (!r?.ok) {\r\n                    return (\r\n                      <tr key={idx} style={{ borderTop: \"1px solid rgba(255,255,255,0.08)\" }}>\r\n                        <td style={{ padding: \"10px 6px\", fontWeight: 900 }}>{r?.tf ?? \"窶能"}</td>\r\n                        <td style={{ padding: \"10px 6px\" }} colSpan={8}>\r\n                          <span style={{ opacity: 0.85 }}>NOT OK</span>{\" \"}\r\n                          <span style={{ opacity: 0.65 }}>ﾂｷ {r?.reason ?? \"unknown\"} ﾂｷ rows={r?.rows ?? \"窶能"}</span>\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  }\r\n\r\n                  const ind = r.indicators ?? null;\r\n                  const ema = r.ema ?? null;\r\n                  const reg2 = r.regime2 ?? {};\r\n                  const ema20 = (ind?.ema20 ?? ema?.ema20) ?? null;\r\n                  const ema50 = (ind?.ema50 ?? ema?.ema50) ?? null;\r\n                  const rsi14 = (ind?.rsi14 ?? r.rsi14) ?? null;\r\n                  const delta = (r.delta ?? (r.ohlc ? (Number(r.ohlc.close) - Number(r.ohlc.open)) : null)) ?? null;\r\n                  return (\r\n                    <tr key={idx} style={{ borderTop: \"1px solid rgba(255,255,255,0.08)\" }}>\r\n                      <td style={{ padding: \"10px 6px\", fontWeight: 950 }}>{r.tf}</td>\r\n                      <td style={{ padding: \"10px 6px\" }}>{fmt(r.price, 2)}</td>\r\n                      <td style={{ padding: \"10px 6px\" }}>{fmt(delta, 2)}</td>\r\n                      <td style={{ padding: \"10px 6px\" }}>{fmt(ema20, 2)}</td>\r\n                      <td style={{ padding: \"10px 6px\" }}>{fmt(ema50, 2)}</td>\r\n                      <td style={{ padding: \"10px 6px\" }}>{fmt(rsi14, 1)}</td>\r\n                      <td style={{ padding: \"10px 6px\", fontWeight: 900 }}>{reg2.label ?? \"窶能"}</td>\r\n                      <td style={{ padding: \"10px 6px\" }}>{fmt(reg2.trendScore, 0)}</td>\r\n                      <td style={{ padding: \"10px 6px\" }}>{fmt(reg2.chopScore, 0)}</td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n\r\n      {/* Live probe */}\r\n      {ws ? (\r\n        <div style={panel()}>\r\n          <div style={{ fontWeight: 950 }}>Live tape probe (only present if backend ran WS)</div>\r\n          <div style={{ marginTop: 8, display: \"grid\", gap: 6, opacity: 0.92 }}>\r\n            <div>\r\n              msgs={ws.messages} ﾂｷ ia_p95={fmt(ws.interArrival?.p95, 1)}ms ﾂｷ delay_p95={fmt(ws.ingestDelay?.p95, 1)}ms\r\n            </div>\r\n            <div>\r\n              buy={fmt(ws.flow?.buy, 2)} ﾂｷ sell={fmt(ws.flow?.sell, 2)} ﾂｷ imbalance={fmt(ws.flow?.imbalance, 4)}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n\r\n      {/* RAG sources */}\r\n      {planData?.rules?.length ? (\n        <div style={panel()}>\n          <details>\n            <summary style={{ cursor: \"pointer\", fontWeight: 950 }}>RAG sources (top {planData.rules.length})</summary>\n            <div style={{ marginTop: 10, display: \"grid\", gap: 8 }}>\n              {planData.rules.map((r) => (\n                <div\n                  key={r.id}\n                  style={{\r\n                    padding: 10,\r\n                    borderRadius: 12,\r\n                    border: \"1px solid rgba(255,255,255,0.10)\",\r\n                    background: \"rgba(255,255,255,0.02)\",\r\n                  }}\r\n                >\r\n                  <div style={{ fontWeight: 950 }}>{r.doc_name}</div>\r\n                  <div style={{ opacity: 0.8, marginTop: 4 }}>\r\n                    page {r.page} ﾂｷ {r.section} ﾂｷ {r.chunk_type} ﾂｷ sim {fmt(r.similarity, 3)}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </details>\r\n        </div>\r\n      ) : null}\n        </div>\n\n        <div style={{ flex: \"0 1 360px\", minWidth: 280, width: \"360px\", maxWidth: \"100%\", display: \"grid\", gap: 12, position: \"sticky\", top: 12 }}>\n          <div style={{ ...panel(), display: \"grid\", gap: 10 }}>\n            <div style={{ fontWeight: 950, fontSize: 16 }}>Trading journal</div>\n            <div style={{ display: \"grid\", gap: 6 }}>\n              <div style={{ opacity: 0.75, fontSize: 12 }}>\n                Objective: {fmt(stressConfig.sessionObjectiveMultiplier, 2)}x in {stressConfig.sessionDurationHours}h (paper)\n              </div>\n              <div style={{ display: \"flex\", justifyContent: \"space-between\", fontSize: 12 }}>\n                <span>Current</span>\n                <span>${fmt(currentEquity, 2)}</span>\n              </div>\n              <div style={{ display: \"flex\", justifyContent: \"space-between\", fontSize: 12 }}>\n                <span>Target</span>\n                <span>${fmt(goalEquity, 2)}</span>\n              </div>\n              <div style={{ display: \"flex\", justifyContent: \"space-between\", fontSize: 12 }}>\n                <span>Remaining</span>\n                <span>${fmt(goalRemaining, 2)}</span>\n              </div>\n              <div style={{ height: 8, borderRadius: 999, background: \"rgba(255,255,255,0.08)\", overflow: \"hidden\" }}>\n                <div\n                  style={{\n                    height: \"100%\",\n                    width: `${clamp(goalProgressPct, 0, 100)}%`,\n                    background: \"rgba(0,200,120,0.7)\",\n                  }}\n                />\n              </div>\n              <div style={{ opacity: 0.75, fontSize: 12 }}>Progress: {fmt(goalProgressPct, 1)}%</div>\n              {simMetrics ? (\n                <div style={{ opacity: 0.75, fontSize: 12 }}>\n                  Stress sim: end=${fmt(simMetrics.endEquity, 2)} | hit={simMetrics.hitTarget ? \"yes\" : \"no\"} | maxDD={fmt(simMetrics.maxDrawdownPct, 1)}%\n                </div>\n              ) : (\n                <div style={{ opacity: 0.6, fontSize: 12 }}>Stress sim: not run</div>\n              )}\n            </div>\n\n            <div style={{ display: \"grid\", gap: 8, maxHeight: \"70vh\", overflowY: \"auto\" }}>\n              {journalEntries.length ? (\n                journalEntries.map((e, i) => (\n                  <div key={i} style={{ padding: \"8px 10px\", borderRadius: 10, border: \"1px solid rgba(255,255,255,0.10)\" }}>\n                    <div style={{ display: \"flex\", justifyContent: \"space-between\", fontSize: 11, opacity: 0.7 }}>\n                      <span>{new Date(e.ts).toLocaleTimeString()}</span>\n                      <span style={{ textTransform: \"uppercase\" }}>{e.kind}</span>\n                    </div>\n                    <div style={{ fontWeight: 900, fontSize: 13, marginTop: 4 }}>{e.message}</div>\n                    {e.detail ? <div style={{ opacity: 0.7, fontSize: 12, marginTop: 2 }}>{e.detail}</div> : null}\n                  </div>\n                ))\n              ) : (\n                <div style={{ opacity: 0.6, fontSize: 12 }}>No journal entries yet</div>\n              )}\n            </div>\n\n            <button\n              type=\"button\"\n              onClick={exportLogCsv}\n              disabled={!journalEntries.length}\n              style={{\n                padding: \"8px 10px\",\n                borderRadius: 10,\n                border: \"1px solid rgba(255,255,255,0.16)\",\n                cursor: \"pointer\",\n                fontWeight: 800,\n                opacity: journalEntries.length ? 1 : 0.6,\n                width: \"fit-content\",\n              }}\n            >\n              Export log to CSV\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\r\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAmIA,MAAM,SAAS;AACf,MAAM,qBAAqB;AAC3B,MAAM,UAAU;AAChB,MAAM,wBAAwB,IAAI,KAAK;AAEvC,MAAM,wBAAsC;IAC1C,4BAA4B;IAC5B,sBAAsB;IACtB,iBAAiB;IACjB,oBAAoB;IACpB,aAAa;IACb,wBAAwB;IACxB,OAAO;IACP,aAAa;IACb,aAAa;IACb,qBAAqB;IACrB,oBAAoB;IACpB,kBAAkB;IAClB,mBAAmB;IACnB,iBAAiB;IACjB,aAAa;IACb,SAAS;IACT,0BAA0B;IAC1B,6BAA6B;IAC7B,8BAA8B;AAChC;AAEA,MAAM,uBAAsC;IAC1C,OAAO;QAAE,SAAS;QAAM,KAAK;QAAK,KAAK;QAAK,MAAM;IAAI;IACtD,qBAAqB;QAAE,SAAS;QAAM,KAAK;QAAI,KAAK;QAAI,MAAM;IAAE;IAChE,oBAAoB;QAAE,SAAS;QAAO,KAAK;QAAG,KAAK;QAAI,MAAM;IAAI;IACjE,aAAa;QAAE,SAAS;QAAO,KAAK;QAAG,KAAK;QAAI,MAAM;IAAE;IACxD,wBAAwB;QAAE,SAAS;QAAO,KAAK;QAAG,KAAK;QAAG,MAAM;IAAE;IAClE,mBAAmB;QAAE,SAAS;IAAM;IACpC,kBAAkB;QAAE,SAAS;IAAM;AACrC;AAEA,SAAS,IAAI,CAAM,EAAE,SAAS,CAAC;IAC7B,MAAM,IAAI,OAAO;IACjB,OAAO,OAAO,QAAQ,CAAC,KAAK,EAAE,OAAO,CAAC,UAAU;AAClD;AAEA,SAAS,IAAI,CAAM;IACjB,MAAM,IAAI,OAAO;IACjB,OAAO,OAAO,QAAQ,CAAC,KAAK,IAAI;AAClC;AAEA,SAAS,MAAM,CAAS,EAAE,EAAU,EAAE,EAAU;IAC9C,OAAO,KAAK,GAAG,CAAC,IAAI,KAAK,GAAG,CAAC,IAAI;AACnC;AAEA,SAAS,WAAW,KAAa;IAC/B,IAAI,IAAI;IACR,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,MAAM,EAAE,IAAK,IAAI,AAAC,IAAI,KAAM,MAAM,UAAU,CAAC;IACvE,OAAO,CAAC,MAAM,CAAC,EAAE,QAAQ,CAAC;AAC5B;AAEA,SAAS,KAAK,KAAU;IACtB,IAAI,CAAC,OAAO,OAAO;IACnB,MAAM,IAAI,KAAK,KAAK,CAAC,OAAO;IAC5B,OAAO,OAAO,QAAQ,CAAC,KAAK,IAAI;AAClC;AAEA,SAAS,UAAU,KAAU;IAC3B,MAAM,IAAI,OAAO,SAAS;IAC1B,IAAI,EAAE,QAAQ,CAAC,QAAQ,EAAE,QAAQ,CAAC,SAAS,EAAE,QAAQ,CAAC,OAAO;QAC3D,OAAO,CAAC,CAAC,EAAE,EAAE,OAAO,CAAC,MAAM,QAAQ,CAAC,CAAC;IACvC;IACA,OAAO;AACT;AAEA,SAAS,YAAY,QAAgB,EAAE,MAAgB,EAAE,IAAmC;IAC1F,MAAM,MAAM;QAAC;WAAW;KAAK,CAAC,GAAG,CAAC,CAAC,IAAM,EAAE,GAAG,CAAC,WAAW,IAAI,CAAC,MAAM,IAAI,CAAC;IAC1E,MAAM,OAAO,IAAI,KAAK;QAAC;KAAI,EAAE;QAAE,MAAM;IAAyB;IAC9D,MAAM,MAAM,IAAI,eAAe,CAAC;IAChC,MAAM,IAAI,SAAS,aAAa,CAAC;IACjC,EAAE,IAAI,GAAG;IACT,EAAE,QAAQ,GAAG;IACb,SAAS,IAAI,CAAC,WAAW,CAAC;IAC1B,EAAE,KAAK;IACP,EAAE,MAAM;IACR,IAAI,eAAe,CAAC;AACtB;AAEA,SAAS,WAAW,MAAc;IAChC,MAAM,OAA4B;QAChC,SAAS;QACT,cAAc;QACd,YAAY;QACZ,SAAS;QACT,YAAY;QACZ,KAAK;QACL,QAAQ;QACR,eAAe;IACjB;IAEA,IAAI,WAAW,QAAQ,OAAO;QAAE,GAAG,IAAI;QAAE,YAAY;IAAqB;IAC1E,IAAI,WAAW,SAAS,OAAO;QAAE,GAAG,IAAI;QAAE,YAAY;IAAqB;IAC3E,OAAO;QAAE,GAAG,IAAI;QAAE,YAAY;IAAyB;AACzD;AAEA,SAAS,KAAK,EAAW;IACvB,OAAO;QACL,SAAS;QACT,cAAc;QACd,QAAQ;QACR,YAAY,KAAK,2BAA2B;QAC5C,QAAQ;QACR,YAAY;QACZ,YAAY;IACd;AACF;AAEA,SAAS;IACP,OAAO;QACL,SAAS;QACT,cAAc;QACd,QAAQ;QACR,YAAY;IACd;AACF;AAEA,SAAS,gBAAgB,KAAa;IACpC,MAAM,UAAuB;QAAC;QAAM;QAAO;QAAM;QAAM;QAAO;QAAM;KAAK;IACzE,MAAM,MAAM,MACT,KAAK,CAAC,KACN,GAAG,CAAC,CAAC,IAAM,EAAE,IAAI,IACjB,MAAM,CAAC;IAEV,MAAM,MAAmB,EAAE;IAC3B,KAAK,MAAM,MAAM,IAAK;QACpB,IAAI,CAAC,QAAQ,QAAQ,CAAC,KAAkB,OAAO;YAAE,KAAK,EAAE;YAAE,OAAO,CAAC,mBAAmB,EAAE,IAAI;QAAC;QAC5F,IAAI,IAAI,CAAC;IACX;IACA,IAAI,CAAC,IAAI,MAAM,EAAE,OAAO;QAAE,KAAK;YAAC;YAAO;YAAM;YAAM;SAAK;IAAC;IACzD,OAAO;QAAE,KAAK;IAAI;AACpB;AAEA,SAAS,YAAY,IAA4B;IAC/C,MAAM,QAAQ,MAAM,OAAO,UAAU;IACrC,MAAM,QAAQ,MAAM,MAAM,WAAW,UAAU;IAC/C,OAAO,QAAQ,KAAK,QAAQ;AAC9B;AAEA,SAAS,SAAS,CAAiB;IACjC,IAAI,CAAC,GAAG,OAAO;IACf,IAAI;QACF,OAAO,IAAI,KAAK,GAAG,kBAAkB;IACvC,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAEA,SAAS,cAAc,EAAiB;IACtC,IAAI,MAAM,MAAM,OAAO;IACvB,MAAM,IAAI,KAAK,GAAG,CAAC,GAAG,KAAK,IAAI,CAAC,KAAK;IACrC,MAAM,IAAI,KAAK,KAAK,CAAC,IAAI;IACzB,MAAM,IAAI,IAAI;IACd,IAAI,KAAK,GAAG,OAAO,GAAG,EAAE,CAAC,CAAC;IAC1B,OAAO,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;AACtB;AAEA,SAAS,UAAU,OAAgB;IACjC,IAAI,YAAY,YAAY,OAAO;IACnC,OAAO;AACT;AAEA,SAAS,WAAW,GAAW;IAC7B,OAAO,CAAC,OAAO,EAAE,EAAE,IAAI,GAAG,WAAW,GAAG,OAAO,CAAC,WAAW;AAC7D;AAEe,SAAS;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,gCAAgC;IAChC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC,IAAI,KAAK,OAAO,QAAQ;IACvE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC,KAAK,KAAK,OAAO,SAAS;IACzE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,gDAAgD;IAChD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,oEAAoE;IACpE,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,gCAAgC;IAChC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IAEnC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAC;IACrD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAc;QAAC;QAAM;QAAO;QAAM;QAAM;QAAO;KAAK;IAChG,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAgB;IAEtD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAyB;IACjE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAyB;IACjE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAgB;IAC1D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAS;IACnD,MAAM,gBAAgB,UAAU,IAAI;IACpC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IACpD,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,iNAAQ,EAAgB;IAC5E,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAgB;IAC9D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAa;IAC3D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAgB;IACpE,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAgB;IACxE,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAa;IAC/D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IACpD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAA8C;IAC5F,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAgB;IAC9D,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAU;IAC9D,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAgB;IAClE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAgB;IAChE,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,iNAAQ,EAAgB;IAC5E,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAgB;IAChE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAe;IAC/D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAgB;IAC9D,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IACnD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAC;IACvD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAC;IACzD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAC;IACrD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAS;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAU;IACtD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAgB;IACxD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAa;IACvD,MAAM,qBAAqB,IAAA,+MAAM,EAAC;IAClC,MAAM,qBAAqB,IAAA,+MAAM,EAAgB;IACjD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IACxD,MAAM,kBAAkB,IAAA,+MAAM,EAAC;IAC/B,MAAM,oBAAoB,IAAA,+MAAM,EAAgB;IAChD,MAAM,eAAe,IAAA,+MAAM,EAAgB;IAC3C,MAAM,WAAW,IAAA,+MAAM,EAAgB;IACvC,MAAM,eAAe,IAAA,+MAAM,EAAS;IACpC,MAAM,YAAY,IAAA,+MAAM,EAAS;IACjC,MAAM,QAAQ,IAAA,+MAAM,EAAmB;IACvC,MAAM,iBAAiB,IAAA,+MAAM,EAAgB;IAC7C,MAAM,aAAa,IAAA,+MAAM,EAAU;IAEnC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAgB;IAC1D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAgB;IAC9D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAU;IAElD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAgB;IACpE,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAgB;IAClE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAgB;IAExD,MAAM,iBAAiB,IAAA,+MAAM,EAAM;IAEnC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAgB;IAC5D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAgB;IAE5D,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAgB;IAChE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAgB;IAEhE,MAAM,WAAW,IAAA,+MAAM,EAAyB;IAChD,MAAM,cAAc,IAAA,+MAAM,EAAC;IAC3B,MAAM,WAAW,IAAA,+MAAM,EAAC;IAExB,MAAM,eAAe,IAAA,+MAAM,EAAS;IACpC,MAAM,eAAe,IAAA,+MAAM,EAAS;IAEpC,oBAAoB;IACpB,IAAA,kNAAS,EAAC;QACR,IAAI;YACF,MAAM,MAAM,aAAa,OAAO,CAAC;YACjC,IAAI,CAAC,KAAK;YACV,MAAM,IAAI,KAAK,KAAK,CAAC;YACrB,IAAI,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM;YAChC,IAAI,OAAO,EAAE,SAAS,KAAK,UAAU,aAAa,EAAE,SAAS;YAC7D,IAAI,OAAO,EAAE,QAAQ,KAAK,UAAU,YAAY,EAAE,QAAQ;YAC1D,IAAI,OAAO,EAAE,cAAc,KAAK,UAAU,kBAAkB,EAAE,cAAc;YAC5E,IAAI,OAAO,EAAE,WAAW,KAAK,UAAU,eAAe,EAAE,WAAW;YACnE,IAAI,OAAO,EAAE,WAAW,KAAK,UAAU,eAAe,EAAE,WAAW;YACnE,IAAI,OAAO,EAAE,WAAW,KAAK,WAAW,eAAe,EAAE,WAAW;YACpE,IAAI,OAAO,EAAE,OAAO,KAAK,WAAW,WAAW,EAAE,OAAO;YACxD,IAAI,OAAO,EAAE,UAAU,KAAK,WAAW,cAAc,EAAE,UAAU;YACjE,IAAI,OAAO,EAAE,WAAW,KAAK,WAAW,eAAe,EAAE,WAAW;YACpE,IAAI,OAAO,EAAE,UAAU,KAAK,UAAU,cAAc,EAAE,UAAU;YAChE,IAAI,OAAO,EAAE,KAAK,KAAK,UAAU,SAAS,EAAE,KAAK;YACjD,IAAI,EAAE,YAAY,EAAE,gBAAgB;gBAAE,GAAG,qBAAqB;gBAAE,GAAG,EAAE,YAAY;YAAC;YAClF,IAAI,EAAE,WAAW,EAAE,eAAe;gBAAE,GAAG,oBAAoB;gBAAE,GAAG,EAAE,WAAW;YAAC;YAC9E,IAAI,OAAO,EAAE,aAAa,KAAK,WAAW,iBAAiB,EAAE,aAAa;YAC1E,IAAI,OAAO,EAAE,UAAU,KAAK,UAAU,cAAc,EAAE,UAAU;YAChE,IAAI,OAAO,EAAE,eAAe,KAAK,UAAU,mBAAmB,EAAE,eAAe;YAC/E,IAAI,OAAO,EAAE,WAAW,KAAK,WAAW,eAAe,EAAE,WAAW;YACpE,IAAI,OAAO,EAAE,gBAAgB,KAAK,UAAU,oBAAoB,EAAE,gBAAgB;YAClF,IAAI,OAAO,EAAE,cAAc,KAAK,UAAU,kBAAkB,EAAE,cAAc;YAC5E,IAAI,OAAO,EAAE,SAAS,KAAK,YAAY,EAAE,SAAS,CAAC,IAAI,IAAI;gBACzD,aAAa,EAAE,SAAS;YAC1B,OAAO;gBACL,aAAa;YACf;QACF,EAAE,OAAM;QACN,SAAS;QACX;IACF,GAAG,EAAE;IAEL,yDAAyD;IACzD,IAAA,kNAAS,EAAC;QACR,IAAI;YACF,MAAM,MAAM,aAAa,OAAO,CAAC;YACjC,IAAI,CAAC,KAAK;YACV,MAAM,IAAI,KAAK,KAAK,CAAC;YACrB,IAAI,MAAM,OAAO,CAAC,EAAE,SAAS,KAAK,EAAE,SAAS,CAAC,MAAM,EAAE;gBACpD,aAAa,EAAE,SAAS;gBACxB,IAAI,OAAO,EAAE,SAAS,KAAK,UAAU,sBAAsB,EAAE,SAAS;YACxE;QACF,EAAE,OAAM;QACN,SAAS;QACX;IACF,GAAG,EAAE;IAEL,mBAAmB;IACnB,IAAA,kNAAS,EAAC;QACR,MAAM,UAAuB;YAC3B;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA,WAAW,aAAa;YACxB;QACF;QACA,IAAI;YACF,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;QAC9C,EAAE,OAAM;QACN,SAAS;QACX;IACF,GAAG;QACD;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAED,IAAA,kNAAS,EAAC;QACR,aAAa,OAAO,GAAG,IAAI;IAC7B,GAAG;QAAC;KAAU;IAEd,IAAA,kNAAS,EAAC;QACR,MAAM,OAAO,UAAU,YAAY,UAAU;QAC7C,SAAS,OAAO,GAAG,IAAI,MAAM;IAC/B,GAAG;QAAC;QAAU;KAAS;IAEvB,IAAA,kNAAS,EAAC;QACR,aAAa,OAAO,GAAG;IACzB,GAAG;QAAC;KAAc;IAElB,IAAA,kNAAS,EAAC;QACR,UAAU,OAAO,GAAG;IACtB,GAAG;QAAC;KAAO;IAEX,mBAAmB;IACnB,IAAA,kNAAS,EAAC;QACR,MAAM,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,gBAAgB;QACvC,WAAW,SAAS;QACpB,IAAI,CAAC,OAAO,cAAc;IAC5B,GAAG;QAAC;KAAe;IAEnB,MAAM,WAAW,IAAA,gNAAO,EACtB,IAAM,CAAC;YACL;YACA;YACA;YACA;YACA;YACA,aAAa;gBAAE,aAAa;gBAAI;gBAAY;YAAM;QACpD,CAAC,GACD;QAAC;QAAQ;QAAY;QAAU;QAAW;QAAY;QAAY;KAAM;IAG1E,MAAM,aAAa,IAAA,oNAAW,EAC5B,CAAC;QACD,sDAAsD;QACtD,iFAAiF;QAC/E,IAAI,WAAW,QAAQ,OAAO,UAAU,aAAa;QACrD,OAAO;IACT,GACA;QAAC;KAAQ;IAGX,MAAM,cAAc,IAAA,oNAAW,EAC7B,OAAO;QACP,IAAI,YAAY,OAAO,EAAE;QACzB,YAAY,OAAO,GAAG;QAEtB,SAAS,OAAO,EAAE;QAClB,MAAM,KAAK,IAAI;QACf,SAAS,OAAO,GAAG;QAEnB,MAAM,UAAU,EAAE,SAAS,OAAO;QAElC,WAAW;QACX,MAAM,KAAK,KAAK,GAAG;QACnB,IAAI;YACF,MAAM,UAAU,WAAW;YAE3B,MAAM,OACJ,WAAW,SACP;gBACE,GAAG,QAAQ;gBACX,QAAQ;gBACR,SAAS;gBACT,MAAM;gBACN,SAAS,YAAY,aAAa;oBAAE,SAAS;oBAAM,YAAY;wBAAC;wBAAM;wBAAM;wBAAO;qBAAK;oBAAE,SAAS;gBAAI,IAAI;gBAC3G,SAAS;oBAAE,YAAY;oBAAM,aAAa;gBAAI;YAChD,IACA;gBACE,GAAG,QAAQ;gBACX,qDAAqD;gBACrD,QAAQ;gBACR,YAAY;gBACZ,MAAM;gBACN,4CAA4C;gBAC5C,SAAS;oBAAE,YAAY;oBAAG,aAAa;gBAAE;YAC3C;YAEN,eAAe,OAAO,GAAG;YAEzB,MAAM,MAAM,MAAM,MAAM,gBAAgB;gBACtC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;gBACrB,QAAQ,GAAG,MAAM;YACnB;YAEA,kBAAkB,IAAI,MAAM;YAC5B,YAAY;YAEZ,IAAI,OAA+B;YACnC,IAAI,UAAyB;YAE7B,IAAI;gBACF,OAAQ,MAAM,IAAI,IAAI;YACxB,EAAE,OAAM;gBACN,IAAI;oBACF,UAAU,MAAM,IAAI,IAAI;gBAC1B,EAAE,OAAM;oBACN,UAAU;gBACZ;YACF;YAEA,IAAI,YAAY,SAAS,OAAO,EAAE;YAElC,IAAI,CAAC,IAAI,EAAE,EAAE;gBACX,MAAM,SACJ,MAAM,SACN,CAAC,WAAW,QAAQ,IAAI,KAAK,QAAQ,KAAK,CAAC,GAAG,OAAO,IAAI,KACzD,CAAC,KAAK,EAAE,IAAI,MAAM,EAAE;gBACtB,aAAa;YACf,OAAO;gBACL,2DAA2D;gBAC3D,IAAI,CAAC,MAAM;oBACT,MAAM,SACJ,CAAC,WAAW,QAAQ,IAAI,KAAK,QAAQ,KAAK,CAAC,GAAG,OAAO,IAAI,KAAK;oBAChE,aAAa;gBACf,OAAO;oBACL,aAAa;oBACb,IAAI,WAAW,QAAQ,YAAY;oBACnC,IAAI,WAAW,QAAQ,YAAY;gBACrC;YACF;YAEA,MAAM,MAAM,KAAK,GAAG;YACpB,IAAI,WAAW,QAAQ,cAAc;YACrC,IAAI,WAAW,QAAQ,cAAc;QACvC,EAAE,OAAO,GAAQ;YACf,IAAI,GAAG,SAAS,cAAc;gBAC5B,aAAa,GAAG,WAAW;gBAC3B,MAAM,MAAM,KAAK,GAAG;gBACpB,IAAI,WAAW,QAAQ,cAAc;gBACrC,IAAI,WAAW,QAAQ,cAAc;YACvC;QACF,SAAU;YACR,iBAAiB,KAAK,GAAG,KAAK;YAC9B,WAAW;YACX,YAAY,OAAO,GAAG;QACxB;IACA,GACA;QAAC;QAAU;KAAW;IAGxB,MAAM,oBAAoB,IAAA,oNAAW,EAAC;QACpC,IAAI,CAAC,eAAe;QACpB,IAAI;YACF,MAAM,SAAS,MAAM,MAAM,CAAC,yBAAyB,EAAE,mBAAmB,gBAAgB;YAC1F,MAAM,UAAU,MAAM,OAAO,IAAI;YACjC,IAAI,OAAO,EAAE,IAAI,SAAS,IAAI;gBAC5B,aAAa,MAAM,OAAO,CAAC,QAAQ,SAAS,IAAI,QAAQ,SAAS,GAAG,EAAE;gBACtE,MAAM,MAAM,KAAK,GAAG;gBACpB,sBAAsB;gBACtB,IAAI;oBACF,aAAa,OAAO,CAClB,SACA,KAAK,SAAS,CAAC;wBAAE,WAAW,MAAM,OAAO,CAAC,QAAQ,SAAS,IAAI,QAAQ,SAAS,GAAG,EAAE;wBAAE,WAAW;oBAAI;gBAE1G,EAAE,OAAM;gBACN,SAAS;gBACX;gBACA,MAAM,OAAO,OAAO,QAAQ,OAAO,EAAE,gBAAgB;gBACrD,eAAe,OAAO,QAAQ,CAAC,QAAQ,OAAO;YAChD;YAEA,MAAM,QAAQ,MAAM,MAAM,CAAC,sBAAsB,EAAE,mBAAmB,eAAe,QAAQ,CAAC;YAC9F,MAAM,SAAS,MAAM,MAAM,IAAI;YAC/B,IAAI,MAAM,EAAE,IAAI,QAAQ,MAAM,MAAM,OAAO,CAAC,OAAO,MAAM,KAAK,OAAO,MAAM,CAAC,MAAM,EAAE;gBAClF,eAAe,OAAO,MAAM,CAAC,OAAO,MAAM,CAAC,MAAM,GAAG,EAAE;YACxD;QACF,EAAE,OAAM;QACN,SAAS;QACX;IACF,GAAG;QAAC;KAAc;IAElB,MAAM,qBAAqB,IAAA,oNAAW,EAAC;QACrC,IAAI,CAAC,eAAe;QACpB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,CAAC,8BAA8B,EAAE,mBAAmB,gBAAgB;YAC5F,MAAM,IAAI,MAAM,IAAI,IAAI;YACxB,IAAI,IAAI,EAAE,IAAI,GAAG,IAAI,iBAAiB;QACxC,EAAE,OAAM;QACN,SAAS;QACX;IACF,GAAG;QAAC;KAAc;IAElB,MAAM,iBAAiB,IAAA,oNAAW,EAAC;QACjC,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,CAAC,sBAAsB,EAAE,mBAAmB,QAAQ,SAAS,CAAC;YACtF,MAAM,IAAI,MAAM,IAAI,IAAI;YACxB,IAAI,IAAI,EAAE,IAAI,GAAG,IAAI,aAAa,MAAM,OAAO,CAAC,EAAE,SAAS,IAAI,EAAE,SAAS,GAAG,EAAE;QACjF,EAAE,OAAM;QACN,SAAS;QACX;IACF,GAAG;QAAC;KAAO;IAEX,MAAM,mBAAmB,IAAA,oNAAW,EAAC;QACnC,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,CAAC,2BAA2B,EAAE,mBAAmB,QAAQ,UAAU,CAAC;YAC5F,MAAM,IAAI,MAAM,IAAI,IAAI;YACxB,IAAI,IAAI,EAAE,IAAI,GAAG,IAAI,eAAe;gBAAE,UAAU,EAAE,QAAQ,IAAI,CAAC;YAAE;QACnE,EAAE,OAAM;QACN,SAAS;QACX;IACF,GAAG;QAAC;KAAO;IAEX,MAAM,eAAe,IAAA,oNAAW,EAAC;QAC/B,IAAI,CAAC,eAAe;QACpB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,CAAC,uBAAuB,EAAE,mBAAmB,eAAe,QAAQ,CAAC;YAC7F,MAAM,IAAI,MAAM,IAAI,IAAI;YACxB,IAAI,IAAI,EAAE,IAAI,GAAG,IAAI,eAAe,MAAM,OAAO,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,GAAG,EAAE;QACzE,EAAE,OAAM;QACN,SAAS;QACX;IACF,GAAG;QAAC;KAAc;IAElB,MAAM,eAAe,IAAA,oNAAW,EAAC,OAAO,QAAQ,KAAK;QACnD,IAAI,mBAAmB,OAAO,EAAE;QAChC,IAAI,CAAC,SAAS,iBAAiB,KAAK,GAAG,KAAK,gBAAgB,QAAQ;QACpE,MAAM,QAAQ,EAAE,gBAAgB,OAAO;QACvC,mBAAmB,OAAO,GAAG;QAC7B,kBAAkB;QAClB,qEAAqE;QACrE,IAAI,kBAAkB,OAAO,EAAE,OAAO,YAAY,CAAC,kBAAkB,OAAO;QAC5E,kBAAkB,OAAO,GAAG,OAAO,UAAU,CAAC;YAC5C,IAAI,gBAAgB,OAAO,KAAK,OAAO;gBACrC,kBAAkB;gBAClB,gBAAgB;gBAChB,sBAAsB,KAAK,GAAG;gBAC9B,gBAAgB;YAClB;QACF,GAAG;QACH,IAAI;YACF,MAAM,KAAK,IAAI;YACf,MAAM,IAAI,OAAO,UAAU,CAAC,IAAM,GAAG,KAAK,IAAI;YAC9C,MAAM,MAAM,MAAM,MAAM,gBAAgB;gBACtC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB,WAAW,iBAAiB;oBAC5B,WAAW,OAAO,QAAQ,CAAC,OAAO,cAAc,OAAO,aAAa;oBACpE;oBACA,MAAM,WAAW;oBACjB;oBACA;oBACA;oBACA;oBACA,aAAa;wBAAE,aAAa;wBAAI;wBAAY;oBAAM;oBAClD,SAAS,UAAU;wBAAE,SAAS;wBAAM,YAAY;4BAAC;4BAAM;4BAAM;4BAAO;yBAAK;wBAAE,SAAS;oBAAI,IAAI;oBAC5F,QAAQ;wBAAE,aAAa;wBAAK,WAAW;oBAAI;gBAC7C;gBACA,QAAQ,GAAG,MAAM;YACnB;YACA,IAAI,IAAS;YACb,IAAI;gBACF,IAAI,MAAM,IAAI,IAAI;YACpB,EAAE,OAAM;gBACN,IAAI;YACN;YACA,OAAO,YAAY,CAAC;YACpB,IAAI,gBAAgB,OAAO,KAAK,OAAO;YACvC,IAAI,IAAI,EAAE,IAAI,GAAG,IAAI;gBACnB,eAAe,OAAO,EAAE,OAAO,IAAI;gBACnC,iBAAiB,KAAK,GAAG;gBACzB,gBAAgB;gBAChB,sBAAsB;gBACtB,gBAAgB;YAClB,OAAO;gBACL,MAAM,MAAM,OAAO,GAAG,SAAS,GAAG,WAAW,CAAC,KAAK,EAAE,IAAI,MAAM,EAAE;gBACjE,gBAAgB;gBAChB,sBAAsB,KAAK,GAAG;gBAC9B,gBAAgB,CAAC,MAAM,EAAE,IAAI,MAAM,CAAC,CAAC,EAAE,KAAK;YAC9C;QACF,EAAE,OAAO,GAAQ;YACf,IAAI,gBAAgB,OAAO,KAAK,OAAO;YACvC,MAAM,MAAM,GAAG,SAAS,eAAe,uBAAuB;YAC9D,gBAAgB;YAChB,sBAAsB,KAAK,GAAG;YAC9B,gBAAgB,CAAC,UAAU,EAAE,GAAG,QAAQ,SAAS;QACnD,SAAU;YACR,IAAI,kBAAkB,OAAO,EAAE;gBAC7B,OAAO,YAAY,CAAC,kBAAkB,OAAO;gBAC7C,kBAAkB,OAAO,GAAG;YAC9B;YACA,IAAI,gBAAgB,OAAO,KAAK,OAAO,kBAAkB;YACzD,mBAAmB,OAAO,GAAG;QAC/B;IACF,GAAG;QACD;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAED,MAAM,gBAAgB,IAAA,oNAAW,EAAC;QAChC,cAAc;QACd,YAAY;QACZ,IAAI;YACF,MAAM,gBAAgB;gBACpB,4BAA4B,OAAO,aAAa,0BAA0B;gBAC1E,sBAAsB,MAAM,OAAO,aAAa,oBAAoB,GAAG,GAAG;gBAC1E,iBAAiB,OAAO,aAAa,eAAe;gBACpD,oBAAoB,OAAO,aAAa,kBAAkB;gBAC1D,aAAa,OAAO,aAAa,WAAW;gBAC5C,wBAAwB,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC,OAAO,aAAa,sBAAsB;gBACzF,OAAO,OAAO,aAAa,KAAK;gBAChC,SAAS;oBACP,OAAO,OAAO,aAAa,WAAW;oBACtC,OAAO,OAAO,aAAa,WAAW;gBACxC;gBACA,qBAAqB,OAAO,aAAa,mBAAmB;gBAC5D,oBAAoB,OAAO,aAAa,kBAAkB;gBAC1D,kBAAkB,QAAQ,aAAa,gBAAgB;gBACvD,mBAAmB,QAAQ,aAAa,iBAAiB;gBACzD,iBAAiB,OAAO,aAAa,eAAe;gBACpD,aAAa,OAAO,aAAa,WAAW;gBAC5C,SAAS,OAAO,aAAa,OAAO;gBACpC,YAAY;oBACV,gBAAgB,OAAO,aAAa,wBAAwB;oBAC5D,sBAAsB,OAAO,aAAa,2BAA2B;oBACrE,oBAAoB,OAAO,aAAa,4BAA4B;gBACtE;YACF;YACA,MAAM,MAAM,MAAM,MAAM,iBAAiB;gBACvC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB;oBACA,SAAS;wBACP,OAAO,MAAM,OAAO,aAAa,oBAAoB,GAAG,GAAG;wBAC3D,aAAa,OAAO,QAAQ,CAAC,OAAO,cAAc,OAAO,aAAa;wBACtE,wBAAwB,OAAO,aAAa,0BAA0B;wBACtE,cAAc;wBACd,MAAM,OAAO,QAAQ,CAAC,OAAO,YAAY,OAAO,WAAW;oBAC7D;oBACA,QAAQ;oBACR,QAAQ,gBACJ;wBACE,MAAM,MAAM,OAAO,aAAa,GAAG;wBACnC,WAAW,MAAM,OAAO,kBAAkB,GAAG;wBAC7C,gBAAgB;wBAChB,iBAAiB,MAAM,OAAO,mBAAmB,GAAG;wBACpD,aAAa;4BACX,QAAQ;gCACN,GAAI,YAAY,KAAK,CAAC,OAAO,GACzB;oCACE,OAAO;wCACL,KAAK,YAAY,KAAK,CAAC,GAAG;wCAC1B,KAAK,YAAY,KAAK,CAAC,GAAG;wCAC1B,MAAM,YAAY,KAAK,CAAC,IAAI;oCAC9B;gCACF,IACA,CAAC,CAAC;gCACN,GAAI,YAAY,mBAAmB,CAAC,OAAO,GACvC;oCACE,qBAAqB;wCACnB,KAAK,YAAY,mBAAmB,CAAC,GAAG;wCACxC,KAAK,YAAY,mBAAmB,CAAC,GAAG;wCACxC,MAAM,YAAY,mBAAmB,CAAC,IAAI;oCAC5C;gCACF,IACA,CAAC,CAAC;gCACN,GAAI,YAAY,kBAAkB,CAAC,OAAO,GACtC;oCACE,oBAAoB;wCAClB,KAAK,YAAY,kBAAkB,CAAC,GAAG;wCACvC,KAAK,YAAY,kBAAkB,CAAC,GAAG;wCACvC,MAAM,YAAY,kBAAkB,CAAC,IAAI;oCAC3C;gCACF,IACA,CAAC,CAAC;gCACN,GAAI,YAAY,WAAW,CAAC,OAAO,GAC/B;oCACE,aAAa;wCACX,KAAK,YAAY,WAAW,CAAC,GAAG;wCAChC,KAAK,YAAY,WAAW,CAAC,GAAG;wCAChC,MAAM,YAAY,WAAW,CAAC,IAAI;oCACpC;gCACF,IACA,CAAC,CAAC;gCACN,GAAI,YAAY,sBAAsB,CAAC,OAAO,GAC1C;oCACE,wBAAwB;wCACtB,KAAK,YAAY,sBAAsB,CAAC,GAAG;wCAC3C,KAAK,YAAY,sBAAsB,CAAC,GAAG;wCAC3C,MAAM,YAAY,sBAAsB,CAAC,IAAI;oCAC/C;gCACF,IACA,CAAC,CAAC;gCACN,GAAI,YAAY,iBAAiB,CAAC,OAAO,GAAG;oCAAE,mBAAmB;wCAAC;wCAAM;qCAAM;gCAAC,IAAI,CAAC,CAAC;gCACrF,GAAI,YAAY,gBAAgB,CAAC,OAAO,GAAG;oCAAE,kBAAkB;wCAAC;wCAAM;qCAAM;gCAAC,IAAI,CAAC,CAAC;4BACrF;wBACF;wBACA,gBAAgB,MAAM,OAAO,iBAAiB,IAAI;oBACpD,IACA;gBACN;YACF;YACA,MAAM,IAAI,MAAM,IAAI,IAAI;YACxB,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,IAAI,MAAM,IAAI,MAAM,GAAG,SAAS,CAAC,KAAK,EAAE,IAAI,MAAM,EAAE;YACvE,aAAa;QACf,EAAE,OAAO,GAAQ;YACf,YAAY,GAAG,WAAW;QAC5B,SAAU;YACR,cAAc;QAChB;IACF,GAAG;QACD;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAED,kCAAkC;IAClC,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,aAAa;YAChB,gBAAgB;YAChB,gBAAgB;YAChB;QACF;QAEA,MAAM,SAAS,MAAM,OAAO,QAAQ,CAAC,eAAe,cAAc,QAAQ,OAAO,KAAK,KAAK;QAC3F,MAAM,SAAS,MAAM,OAAO,QAAQ,CAAC,eAAe,cAAc,KAAK,KAAK,MAAM,QAAQ,KAAK,KAAK,KAAK;QAEzG,aAAa,OAAO,GAAG,KAAK,GAAG;QAC/B,aAAa,OAAO,GAAG,KAAK,GAAG;QAE/B,4DAA4D;QAC5D,YAAY;QAEZ,MAAM,YAAY;QAClB,MAAM,WAAW,YAAY;YAC3B,MAAM,MAAM,KAAK,GAAG;YAEpB,MAAM,cAAc,MAAM,aAAa,OAAO;YAC9C,MAAM,cAAc,MAAM,aAAa,OAAO;YAE9C,MAAM,gBAAgB,KAAK,GAAG,CAAC,GAAG,SAAS;YAC3C,MAAM,gBAAgB,KAAK,GAAG,CAAC,GAAG,SAAS;YAE3C,gBAAgB;YAChB,gBAAgB;YAEhB,4CAA4C;YAC5C,IAAI,iBAAiB,GAAG;gBACtB,aAAa,OAAO,GAAG,KAAK,GAAG;gBAC/B,YAAY;gBACZ;YACF;YAEA,IAAI,iBAAiB,GAAG;gBACtB,aAAa,OAAO,GAAG,KAAK,GAAG;gBAC/B,YAAY;YACd;QACF,GAAG;QAEH,OAAO;YACL,cAAc;YACd,SAAS,OAAO,EAAE;QACpB;IACF,GAAG;QAAC;QAAa;QAAa;QAAa;KAAY;IAEvD,uCAAuC;IACvC,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,eAAe;QACpB;QACA;QACA,MAAM,KAAK,YAAY,mBAAmB;QAC1C,OAAO,IAAM,cAAc;IAC7B,GAAG;QAAC;QAAe;QAAmB;KAAmB;IAEzD,IAAA,kNAAS,EAAC;QACR;QACA,MAAM,KAAK,YAAY,gBAAgB;QACvC,OAAO,IAAM,cAAc;IAC7B,GAAG;QAAC;KAAe;IAEnB,IAAA,kNAAS,EAAC;QACR;QACA,MAAM,KAAK,YAAY,kBAAkB;QACzC,OAAO,IAAM,cAAc;IAC7B,GAAG;QAAC;KAAiB;IAErB,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,eAAe;QACpB;QACA,MAAM,KAAK,YAAY,cAAc;QACrC,OAAO,IAAM,cAAc;IAC7B,GAAG;QAAC;QAAe;KAAa;IAEhC,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,aAAa;QAClB,aAAa;QACb,MAAM,KAAK,YAAY,IAAM,aAAa,QAAQ,IAAI,KAAK;QAC3D,OAAO,IAAM,cAAc;IAC7B,GAAG;QAAC;QAAa;KAAa;IAE9B,+CAA+C;IAC/C,IAAA,kNAAS,EAAC;QACR,MAAM,WAAW,WAAW;QAC5B,IAAI,CAAC,UAAU;QAEf,WAAW,OAAO,GAAG;QAErB,MAAM,iBAAiB;YACrB,IAAI,eAAe,OAAO,IAAI,MAAM;gBAClC,OAAO,YAAY,CAAC,eAAe,OAAO;gBAC1C,eAAe,OAAO,GAAG;YAC3B;QACF;QAEA,MAAM,UAAU;YACd,IAAI,CAAC,WAAW,OAAO,EAAE;YACzB;YACA,IAAI;gBACF,MAAM,OAAO,EAAE;YACjB,EAAE,OAAM,CAAC;YACT,MAAM,KAAK,IAAI,UAAU,CAAC,6BAA6B,EAAE,SAAS,MAAM,CAAC;YACzE,MAAM,OAAO,GAAG;YAChB,GAAG,MAAM,GAAG;gBACV,IAAI,CAAC,WAAW,OAAO,EAAE;gBACzB,YAAY;YACd;YACA,GAAG,SAAS,GAAG,CAAC;gBACd,IAAI,CAAC,WAAW,OAAO,EAAE;gBACzB,IAAI;oBACF,MAAM,IAAI,KAAK,KAAK,CAAC,OAAO,IAAI,IAAI;oBACpC,MAAM,IAAI,OAAO,EAAE,CAAC;oBACpB,MAAM,KAAK,OAAO,EAAE,CAAC;oBACrB,IAAI,OAAO,QAAQ,CAAC,IAAI,aAAa;oBACrC,IAAI,OAAO,QAAQ,CAAC,KAAK,eAAe;gBAC1C,EAAE,OAAM;gBACN,SAAS;gBACX;YACF;YACA,GAAG,OAAO,GAAG;gBACX,IAAI,CAAC,WAAW,OAAO,EAAE;gBACzB,YAAY;gBACZ,eAAe,OAAO,GAAG,OAAO,UAAU,CAAC,SAAS;YACtD;YACA,GAAG,OAAO,GAAG;gBACX,IAAI,CAAC,WAAW,OAAO,EAAE;gBACzB,YAAY;gBACZ,IAAI;oBACF,GAAG,KAAK;gBACV,EAAE,OAAM,CAAC;YACX;QACF;QAEA;QAEA,OAAO;YACL,WAAW,OAAO,GAAG;YACrB,YAAY;YACZ;YACA,IAAI;gBACF,MAAM,OAAO,EAAE;YACjB,EAAE,OAAM,CAAC;YACT,MAAM,OAAO,GAAG;QAClB;IACF,GAAG;QAAC;KAAO;IAEX,MAAM,OAAO,UAAU,QAAQ;IAC/B,MAAM,OAAO,UAAU,YAAY,UAAU;IAC7C,MAAM,OAAO,UAAU,QAAQ,UAAU;IACzC,MAAM,UAAU,UAAU,WAAW;IACrC,MAAM,OAAO,UAAU,aAAa;IAEpC,MAAM,QAAQ,MAAM;IACpB,MAAM,YAAY,AAAC,MAAc,cAAc;IAC/C,MAAM,UAAU,YAAY;IAC5B,MAAM,aAAa,AAAC,UAAkB,eAAe;IAErD,MAAM,YAAY,IAAI,cAAc,QAAQ,IAAI,UAAU,OAAO,OAAO,aAAa,OAAO,SAAS;IACrG,MAAM,eACJ,aAAa,QAAQ,IAAI,UAAU,QAAQ,OAAO,WAAW,IAAI,AAAC,YAAY,OAAO,SAAU,MAAM;IAEvG,MAAM,cAAc,IAAI,aAAa;IACrC,MAAM,SAAS,eAAe,OAAO,cAAc,MAAM;IACzD,MAAM,SAAS,UAAU,OAAO,AAAC,SAAS,MAAO,MAAM;IACvD,MAAM,aAAa,KAAK,GAAG,CACzB,GACA,OAAO,QAAQ,CAAC,OAAO,cACnB,OAAO,aAAa,OAAO,aAAa,0BAA0B,IAClE;IAEN,MAAM,gBAAgB,eAAe,CAAC,OAAO,QAAQ,CAAC,OAAO,cAAc,OAAO,aAAa,GAAG;IAClG,MAAM,kBAAkB,aAAa,IAAI,AAAC,gBAAgB,aAAc,MAAM;IAC9E,MAAM,gBAAgB,aAAa;IAEnC,MAAM,KAAK,MAAM,MAAM;IACvB,MAAM,cAA0B,MAAM,OAAO,CAAC,MAAM,cAAe,KAAM,UAAU,GAAa,EAAE;IAClG,MAAM,aAAa,AAAC,UAAU,UAAkB,eAAgB,UAAU,UAAkB;IAC5F,MAAM,aAAa,WAAW,WAAW;IACzC,MAAM,YAAY,MAAM,OAAO,CAAC,WAAW,eAAe,UAAU,WAAW,GAAG,EAAE;IACpF,MAAM,YAAY,MAAM,OAAO,CAAC,WAAW,UAAU,UAAU,MAAM,GAAG,EAAE;IAC1E,MAAM,mBAAmB,MAAM,OAAO,CAAC,WAAW,iBAAiB,UAAU,aAAa,GAAG,EAAE;IAC/F,MAAM,gBAAgB,WAAW,cAAc;IAC/C,MAAM,YAAY,WAAW,UAAU;IACvC,MAAM,YAAY,WAAW,UAAU;IACvC,MAAM,WAAW,WAAW,kBAAkB;IAC9C,MAAM,gBAAgB,UAAU,MAAM,GAAG,SAAS,CAAC,UAAU,MAAM,GAAG,EAAE,GAAG;IAE3E,MAAM,iBAAiB,IAAA,gNAAO,EAAC;QAC7B,MAAM,UAAiF,EAAE;QAEzF,IAAI,aAAa,cAAc,eAAe,MAAM;YAClD,MAAM,KAAK,KAAK,YAAY,UAAU;YACtC,IAAI,MAAM,MAAM;gBACd,QAAQ,IAAI,CAAC;oBACX;oBACA,MAAM;oBACN,SAAS,CAAC,QAAQ,EAAE,IAAI,aAAa,GAAG,OAAO,EAAE,IAAI,YAAY,QAAQ,EAAE,IAAI;oBAC/E,QAAQ,YAAY,IAAI,GAAG,CAAC,KAAK,EAAE,YAAY,IAAI,EAAE,GAAG;gBAC1D;YACF;QACF;QAEA,IAAI,oBAAoB;YACtB,IAAI,UAAU,MAAM,EAAE;gBACpB,UAAU,OAAO,CAAC,CAAC;oBACjB,QAAQ,IAAI,CAAC;wBACX,IAAI;wBACJ,MAAM;wBACN,SAAS,GAAG,EAAE,MAAM,IAAI,UAAU,KAAK,EAAE,EAAE,GAAG,IAAI,MAAM;wBACxD,QAAQ,CAAC,MAAM,EAAE,EAAE,WAAW,IAAI,KAAK,MAAM,EAAE,EAAE,UAAU,IAAI,MAAM;oBACvE;gBACF;YACF,OAAO;gBACL,QAAQ,IAAI,CAAC;oBACX,IAAI;oBACJ,MAAM;oBACN,SAAS;gBACX;YACF;QACF;QAEA,IAAI,QAAQ,YAAY;YACtB,QAAQ,IAAI,CAAC;gBACX,IAAI;gBACJ,MAAM;gBACN,SAAS,CAAC,KAAK,EAAE,KAAK,MAAM,EAAE;gBAC9B,QAAQ,CAAC,MAAM,EAAE,KAAK,KAAK,EAAE,QAAQ,KAAK,MAAM,EAAE,KAAK,IAAI,EAAE,SAAS,KAAK,IAAI,EAAE,SAAS,MAAM,MAAM;YACxG;QACF;QAEA,IAAI,eAAe,OAAO;YACxB,MAAM,KAAK,KAAK,cAAc,KAAK,CAAC,UAAU,KAAK,KAAK,GAAG;YAC3D,QAAQ,IAAI,CAAC;gBACX;gBACA,MAAM;gBACN,SAAS,GAAG,cAAc,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,EAAE,cAAc,KAAK,CAAC,MAAM,IAAI,KAAK,KAAK,EAAE,cAAc,KAAK,CAAC,GAAG,IAAI,MAAM;gBAC3H,QAAQ,CAAC,OAAO,EAAE,cAAc,KAAK,CAAC,MAAM,IAAI,KAAK,MAAM,EAAE,cAAc,IAAI,EAAE,SAAS,MAAM;YAClG;QACF;QAEA,YAAY,OAAO,CAAC,CAAC;YACnB,MAAM,KAAK,KAAK,EAAE,UAAU,KAAK,KAAK,EAAE,SAAS;YACjD,IAAI,MAAM,MAAM;YAChB,QAAQ,IAAI,CAAC;gBACX;gBACA,MAAM;gBACN,SAAS,GAAG,EAAE,IAAI,IAAI,KAAK,CAAC,EAAE,EAAE,MAAM,IAAI,KAAK,KAAK,EAAE,EAAE,GAAG,IAAI,MAAM;gBACrE,QAAQ,CAAC,IAAI,EAAE,EAAE,OAAO,IAAI,KAAK,QAAQ,EAAE,EAAE,MAAM,IAAI,KAAK,QAAQ,EAAE,EAAE,WAAW,IAAI,MAAM;YAC/F;QACF;QAEA,UAAU,OAAO,CAAC,CAAC;YACjB,MAAM,KAAK,KAAK,EAAE,UAAU;YAC5B,IAAI,MAAM,MAAM;YAChB,MAAM,SAAS,EAAE,IAAI,EAAE,UAAU;YACjC,QAAQ,IAAI,CAAC;gBACX;gBACA,MAAM;gBACN,SAAS,GAAG,OAAO,GAAG,EAAE,EAAE,KAAK,IAAI,MAAM;gBACzC,QAAQ,CAAC,QAAQ,EAAE,EAAE,OAAO,EAAE,KAAK,OAAO,WAAW;YACvD;QACF;QAEA,QAAQ,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,EAAE,GAAG,EAAE,EAAE;QAClC,OAAO,QAAQ,KAAK,CAAC,GAAG;IAC1B,GAAG;QAAC;QAAW;QAAa;QAAa;QAAa;QAAe;QAAY;QAAM;QAAW;QAAoB;KAAQ;IAE9H,MAAM,eAAe,IAAA,oNAAW,EAAC;QAC/B,IAAI,CAAC,eAAe,MAAM,EAAE;QAC5B,MAAM,SAAS;YAAC;YAAa;YAAQ;YAAW;SAAS;QACzD,MAAM,OAAO,eAAe,GAAG,CAAC,CAAC,IAAM;gBACrC,IAAI,KAAK,EAAE,EAAE,EAAE,WAAW;gBAC1B,EAAE,IAAI;gBACN,EAAE,OAAO;gBACT,EAAE,MAAM,IAAI;aACb;QACD,YAAY,CAAC,QAAQ,EAAE,OAAO,CAAC,EAAE,KAAK,GAAG,GAAG,IAAI,CAAC,EAAE,QAAQ;IAC7D,GAAG;QAAC;QAAgB;KAAO;IAE3B,MAAM,qBAAqB,IAAA,oNAAW,EAAC;QACrC,IAAI,CAAC,UAAU,MAAM,EAAE;QACvB,MAAM,SAAS;YACb;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,MAAM,OAAO,UAAU,GAAG,CAAC,CAAC,IAAW;gBACrC,EAAE,EAAE,IAAI;gBACR,EAAE,IAAI,IAAI;gBACV,IAAI,KAAK,EAAE,SAAS,EAAE,WAAW;gBACjC,IAAI,KAAK,EAAE,QAAQ,EAAE,WAAW;gBAChC,IAAI,EAAE,UAAU,EAAE;gBAClB,IAAI,EAAE,SAAS,EAAE;gBACjB,IAAI,EAAE,GAAG,EAAE;gBACX,IAAI,EAAE,MAAM,EAAE;gBACd,IAAI,EAAE,EAAE,EAAE;gBACV,EAAE,SAAS,IAAI,EAAE,OAAO,IAAI;gBAC5B,IAAI,EAAE,UAAU,EAAE;gBAClB,EAAE,WAAW,IAAI,EAAE,OAAO,IAAI;gBAC9B,EAAE,UAAU,IAAI;aACjB;QACD,YAAY,CAAC,WAAW,EAAE,OAAO,CAAC,EAAE,KAAK,GAAG,GAAG,IAAI,CAAC,EAAE,QAAQ;IAChE,GAAG;QAAC;QAAW;KAAO;IAEtB,MAAM,yBAAyB,IAAA,oNAAW,EAAC;QACzC,IAAI,CAAC,iBAAiB,MAAM,EAAE;QAC9B,MAAM,SAAS;YACb;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,MAAM,OAAO,iBAAiB,GAAG,CAAC,CAAC,IAAW;gBAC5C,EAAE,EAAE,IAAI;gBACR,IAAI,KAAK,EAAE,EAAE,EAAE,WAAW;gBAC1B,EAAE,SAAS,IAAI;gBACf,EAAE,IAAI,IAAI;gBACV,IAAI,EAAE,KAAK,EAAE;gBACb,IAAI,EAAE,IAAI,EAAE;gBACZ,IAAI,EAAE,EAAE,EAAE;gBACV,IAAI,EAAE,UAAU,EAAE;gBAClB,EAAE,MAAM,IAAI;gBACZ,EAAE,QAAQ,IAAI;gBACd,IAAI,EAAE,WAAW,EAAE;gBACnB,IAAI,EAAE,gBAAgB,EAAE;gBACxB,EAAE,UAAU,GAAG,QAAQ;gBACvB,MAAM,OAAO,CAAC,EAAE,KAAK,IACjB,EAAE,KAAK,CACJ,GAAG,CAAC,CAAC,IAAW,GAAG,EAAE,IAAI,CAAC,CAAC,EAAE,EAAE,MAAM,GAAG,OAAO,QAAQ,CAAC,EAAE,EAAE,KAAK,IAAI,GAAG,CAAC,EAAE,EAAE,SAAS,IAAI,IAAI,EAC9F,IAAI,CAAC,OACR;gBACJ,MAAM,OAAO,CAAC,EAAE,SAAS,IAAI,EAAE,SAAS,CAAC,IAAI,CAAC,OAAO;gBACrD,MAAM,OAAO,CAAC,EAAE,cAAc,IAAI,EAAE,cAAc,CAAC,IAAI,CAAC,OAAO;aAChE;QACD,YAAY,CAAC,kBAAkB,EAAE,OAAO,CAAC,EAAE,KAAK,GAAG,GAAG,IAAI,CAAC,EAAE,QAAQ;IACvE,GAAG;QAAC;QAAkB;KAAO;IAE7B,MAAM,iBAAiB,MAAM,UAAU;IACvC,MAAM,oBAAoB,WAAW;IAErC,MAAM,kBAAkB,IAAA,oNAAW,EACjC,OAAO,SAAc,YAAoB,eAAuB;QAC9D,IAAI,CAAC,iBAAiB,CAAC,WAAW,QAAQ,MAAM,KAAK,YAAY;QACjE,IAAI,aAAa;QACjB,eAAe;QACf,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,gBAAgB;gBACtC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB,WAAW;oBACX;oBACA;oBACA,QAAQ;oBACR,gBAAgB;oBAChB,QAAQ;oBACR,MAAM;gBACR;YACF;YACA,MAAM,IAAI,MAAM,IAAI,IAAI;YACxB,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM,GAAG,SAAS,CAAC,KAAK,EAAE,IAAI,MAAM,EAAE;YAC7D,MAAM;YACN,MAAM;QACR,EAAE,OAAO,GAAQ;YACf,aAAa,GAAG,WAAW;QAC7B,SAAU;YACR,eAAe;QACjB;IACF,GACA;QAAC;QAAe;QAAa;QAAmB;KAAmB;IAGrE,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,aAAa;QAClB,IAAI,CAAC,eAAe;QACpB,IAAI,CAAC,UAAU,QAAQ,SAAS,IAAI,CAAC,MAAM,KAAK,YAAY;QAC5D,IAAI,aAAa;QACjB,MAAM,KAAM,SAAS,QAAQ,EAAU;QACvC,IAAI,IAAI,SAAS;QAEjB,MAAM,OAAO,WACX,KAAK,SAAS,CAAC;YACb,MAAM,SAAS,IAAI;YACnB,OAAO,SAAS,QAAQ,EAAE;YAC1B,aAAa,SAAS,QAAQ,EAAE;YAChC,MAAM,SAAS,IAAI;QACrB;QAGF,IAAI,qBAAqB,MAAM;QAC/B,IAAI,kBAAkB,KAAK,GAAG,KAAK,iBAAiB,uBAAuB;QAE3E,MAAM,aAAa,SAAS,QAAQ,EAAE,UAAU;QAChD,MAAM,gBAAgB,CAAC,KAAK,EAAE,MAAM;QACpC,MAAM,aAAc,UAAkB;QACtC,gBAAgB,SAAS,IAAI,EAAE,YAAY,eAAe,YAAY,IAAI,CAAC;YACzE,kBAAkB,KAAK,GAAG;YAC1B,oBAAoB;QACtB;IACF,GAAG;QACD;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAED,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,eAAe;QACpB,MAAM,OAAO,IAAI;QACjB,IAAI,QAAQ,MAAM;QAClB,IAAI,CAAC,UAAU,MAAM,MAAM,OAAO;QAElC,MAAM,OAAO,OAAO,SAAS,IAAI,CAAC,IAAI,CAAC,KAAK;QAC5C,IAAI,CAAC,OAAO,QAAQ,CAAC,SAAS,QAAQ,GAAG;QAEzC,MAAM,MAAM,UAAU,IAAI,CAAC,CAAC,IAAM,CAAC,EAAE,MAAM,IAAI,EAAE,EAAE,WAAW,OAAO,CAAC,SAAS,QAAQ,EAAE,UAAU,EAAE,EAAE,WAAW;QAClH,IAAI,CAAC,KAAK;QACV,MAAM,MAAM,OAAO,IAAI,GAAG,IAAI;QAC9B,IAAI,CAAC,OAAO,QAAQ,CAAC,QAAQ,QAAQ,GAAG;QAExC,MAAM,MAAM,KAAK,GAAG;QACpB,IAAI,mBAAmB,OAAO,IAAI,MAAM,mBAAmB,OAAO,GAAG,QAAQ;QAE7E,MAAM,UAAU,MAAM,KAAK,QAAQ;QACnC,MAAM,WAAW,MAAM,KAAK,QAAQ;QACpC,IAAI,CAAC,WAAW,CAAC,UAAU;QAE3B,mBAAmB,OAAO,GAAG;QAC7B,MAAM,uBAAuB;YAC3B,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBACnB,WAAW;gBACX,QAAQ,SAAS,QAAQ,EAAE,UAAU;gBACrC,gBAAgB;gBAChB,QAAQ;gBACR,WAAW;YACb;QACF,GACG,IAAI,CAAC,IAAM,qBACX,KAAK,CAAC,KAAO;IAClB,GAAG;QAAC;QAAe;QAAW;QAAU;QAAW;QAAQ;KAAkB;IAE7E,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,eAAe;QACpB,MAAM,KAAK,OAAO,WAAW,CAAC;YAC5B,MAAM,OAAO,aAAa,OAAO;YACjC,IAAI,CAAC,MAAM;YACX,MAAM,OAAO,aAAa,OAAO,IAAI,SAAS,OAAO;YACrD,MAAM,mBAAmB;gBACvB,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB,WAAW;oBACX,QAAQ,UAAU,OAAO,IAAI;oBAC7B,WAAW,QAAQ;gBACrB;YACF,GACG,IAAI,CAAC,IAAM,qBACX,KAAK,CAAC,KAAO;QAClB,GAAG;QACH,OAAO,IAAM,cAAc;IAC7B,GAAG;QAAC;QAAe;QAAmB;KAAO;IAE7C,MAAM,cAAc,IAAA,oNAAW,EAAC;QAC9B,IAAI,CAAC,iBAAiB,CAAC,QAAQ,KAAK,MAAM,KAAK,YAAY;QAC3D,eAAe;QACf,IAAI;YACF,MAAM,gBACJ,OAAO,WAAW,eAAe,gBAAgB,SAAS,OAAO,UAAU,KAAK,OAAO,KAAK,GAAG;YACjG,MAAM,aAAa,UAAU,UAAU,UAAU;YACjD,MAAM,aAAc,UAAkB;YACtC,MAAM,MAAM,MAAM,MAAM,gBAAgB;gBACtC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB,WAAW;oBACX;oBACA;oBACA,QAAQ;oBACR,gBAAgB;oBAChB,QAAQ;oBACR;gBACF;YACF;YACA,MAAM,IAAI,MAAM,IAAI,IAAI;YACxB,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM,GAAG,SAAS,CAAC,KAAK,EAAE,IAAI,MAAM,EAAE;YAC7D,MAAM;YACN,MAAM;QACR,EAAE,OAAO,GAAQ;YACf,aAAa,GAAG,WAAW;QAC7B,SAAU;YACR,eAAe;QACjB;IACF,GAAG;QAAC;QAAe;QAAmB;QAAM;QAAU;KAAO;IAE7D,qBACE,8OAAC;QAAI,OAAO;YAAE,SAAS;YAAQ,KAAK;QAAG;;0BAErC,8OAAC;gBAAI,OAAO;oBAAE,GAAG,OAAO;oBAAE,SAAS;oBAAQ,KAAK;oBAAI,qBAAqB;gBAAkB;;kCACzF,8OAAC;wBAAM,OAAO;4BAAE,SAAS;4BAAQ,KAAK;wBAAE;;0CACtC,8OAAC;gCAAK,OAAO;oCAAE,SAAS;gCAAI;0CAAG;;;;;;0CAC/B,8OAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;gCACzC,OAAO;oCAAE,SAAS;oCAAI,cAAc;gCAAG;gCACvC,YAAY;;;;;;4BAEb,kBAAkB,mBAAmB,uBACpC,8OAAC;gCAAK,OAAO;oCAAE,SAAS;oCAAM,UAAU;gCAAG;;oCAAG;oCAAW;;;;;;qDAEzD,8OAAC;gCAAK,OAAO;oCAAE,SAAS;oCAAM,UAAU;gCAAG;0CAAG;;;;;;;;;;;;kCAIlD,8OAAC;wBAAM,OAAO;4BAAE,SAAS;4BAAQ,KAAK;wBAAE;;0CACtC,8OAAC;gCAAK,OAAO;oCAAE,SAAS;gCAAI;0CAAG;;;;;;0CAC/B,8OAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IAAM,aAAa,OAAO,EAAE,MAAM,CAAC,KAAK;gCACnD,MAAK;gCACL,KAAK;gCACL,OAAO;oCAAE,SAAS;oCAAI,cAAc;gCAAG;;;;;;;;;;;;kCAI3C,8OAAC;wBAAM,OAAO;4BAAE,SAAS;4BAAQ,KAAK;wBAAE;;0CACtC,8OAAC;gCAAK,OAAO;oCAAE,SAAS;gCAAI;0CAAG;;;;;;0CAC/B,8OAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IAAM,cAAc,OAAO,EAAE,MAAM,CAAC,KAAK;gCACpD,MAAK;gCACL,KAAK;gCACL,KAAK;gCACL,MAAM;gCACN,OAAO;oCAAE,SAAS;oCAAI,cAAc;gCAAG;;;;;;0CAEzC,8OAAC;gCAAK,OAAO;oCAAE,SAAS;oCAAM,UAAU;gCAAG;0CAAG;;;;;;;;;;;;kCAGhD,8OAAC;wBAAM,OAAO;4BAAE,SAAS;4BAAQ,KAAK;wBAAE;;0CACtC,8OAAC;gCAAK,OAAO;oCAAE,SAAS;gCAAI;0CAAG;;;;;;0CAC/B,8OAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS,OAAO,EAAE,MAAM,CAAC,KAAK;gCAC/C,MAAK;gCACL,KAAK;gCACL,KAAK;gCACL,MAAM;gCACN,OAAO;oCAAE,SAAS;oCAAI,cAAc;gCAAG;;;;;;0CAEzC,8OAAC;gCAAK,OAAO;oCAAE,SAAS;oCAAM,UAAU;gCAAG;0CAAG;;;;;;;;;;;;kCAGhD,8OAAC;wBAAM,OAAO;4BAAE,SAAS;4BAAQ,KAAK;wBAAE;;0CACtC,8OAAC;gCAAK,OAAO;oCAAE,SAAS;gCAAI;0CAAG;;;;;;0CAC/B,8OAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IAAM,eAAe,OAAO,EAAE,MAAM,CAAC,KAAK;gCACrD,MAAK;gCACL,KAAK;gCACL,MAAM;gCACN,OAAO;oCAAE,SAAS;oCAAI,cAAc;gCAAG;;;;;;0CAEzC,8OAAC;gCAAK,OAAO;oCAAE,SAAS;oCAAM,UAAU;gCAAG;;oCAAG;oCAAY,cAAc;;;;;;;;;;;;;kCAG1E,8OAAC;wBAAM,OAAO;4BAAE,SAAS;4BAAQ,KAAK;wBAAE;;0CACtC,8OAAC;gCAAK,OAAO;oCAAE,SAAS;gCAAI;0CAAG;;;;;;0CAC/B,8OAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IAAM,eAAe,OAAO,EAAE,MAAM,CAAC,KAAK;gCACrD,MAAK;gCACL,KAAK;gCACL,MAAM;gCACN,OAAO;oCAAE,SAAS;oCAAI,cAAc;gCAAG;;;;;;0CAEzC,8OAAC;gCAAK,OAAO;oCAAE,SAAS;oCAAM,UAAU;gCAAG;;oCAAG;oCAAY,cAAc;;;;;;;;;;;;;kCAG1E,8OAAC;wBAAM,OAAO;4BAAE,SAAS;4BAAQ,KAAK;wBAAE;;0CACtC,8OAAC;gCAAK,OAAO;oCAAE,SAAS;gCAAI;0CAAG;;;;;;0CAC/B,8OAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IAAM,YAAY,OAAO,EAAE,MAAM,CAAC,KAAK;gCAClD,MAAK;gCACL,KAAK;gCACL,KAAK;gCACL,MAAM;gCACN,OAAO;oCAAE,SAAS;oCAAI,cAAc;gCAAG;;;;;;;;;;;;kCAI3C,8OAAC;wBAAI,OAAO;4BAAE,SAAS;4BAAQ,KAAK;4BAAG,YAAY;wBAAS;;0CAC1D,8OAAC;gCAAK,OAAO;oCAAE,SAAS;gCAAI;0CAAG;;;;;;0CAC/B,8OAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IAAM,kBAAkB,EAAE,MAAM,CAAC,KAAK;gCACjD,OAAO;oCACL,SAAS;oCACT,cAAc;oCACd,QAAQ,UAAU,iCAAiC;gCACrD;gCACA,YAAY;;;;;;4BAEb,wBAAU,8OAAC;gCAAI,OAAO;oCAAE,OAAO;gCAAyB;0CAAI;;;;;uCAAiB;;;;;;;kCAGhF,8OAAC;wBAAI,OAAO;4BAAE,YAAY;4BAAU,SAAS;4BAAQ,KAAK;4BAAI,UAAU;4BAAQ,YAAY;wBAAS;;0CACnG,8OAAC;gCAAO,MAAK;gCAAS,SAAS,IAAM,eAAe,CAAC,IAAM,CAAC;gCAAI,OAAO,KAAK;0CACzE,cAAc,qBAAqB;;;;;;0CAGtC,8OAAC;gCAAM,OAAO;oCAAE,SAAS;oCAAe,KAAK;oCAAI,YAAY;oCAAU,SAAS;oCAAY,cAAc;oCAAI,QAAQ;gCAAmC;;kDACvJ,8OAAC;wCACC,MAAK;wCACL,SAAS;wCACT,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,OAAO;wCAC5C,OAAO;4CAAE,OAAO;4CAAI,QAAQ;wCAAG;;;;;;kDAEjC,8OAAC;wCAAK,OAAO;4CAAE,YAAY;wCAAI;kDAAG;;;;;;kDAClC,8OAAC;wCAAK,OAAO;4CAAE,SAAS;4CAAK,UAAU;wCAAG;kDAAG;;;;;;;;;;;;0CAG/C,8OAAC;gCAAM,OAAO;oCAAE,SAAS;oCAAe,KAAK;oCAAI,YAAY;oCAAU,SAAS;oCAAY,cAAc;oCAAI,QAAQ;gCAAmC;;kDACvJ,8OAAC;wCACC,MAAK;wCACL,SAAS;wCACT,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,OAAO;wCAC/C,OAAO;4CAAE,OAAO;4CAAI,QAAQ;wCAAG;;;;;;kDAEjC,8OAAC;wCAAK,OAAO;4CAAE,YAAY;wCAAI;kDAAG;;;;;;kDAClC,8OAAC;wCAAK,OAAO;4CAAE,SAAS;4CAAK,UAAU;wCAAG;kDAAG;;;;;;;;;;;;0CAG/C,8OAAC;gCAAM,OAAO;oCAAE,SAAS;oCAAe,KAAK;oCAAI,YAAY;oCAAU,SAAS;oCAAY,cAAc;oCAAI,QAAQ;gCAAmC;;kDACvJ,8OAAC;wCACC,MAAK;wCACL,SAAS;wCACT,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,OAAO;wCAChD,OAAO;4CAAE,OAAO;4CAAI,QAAQ;wCAAG;;;;;;kDAEjC,8OAAC;wCAAK,OAAO;4CAAE,YAAY;wCAAI;kDAAG;;;;;;kDAClC,8OAAC;wCAAK,OAAO;4CAAE,SAAS;4CAAK,UAAU;wCAAG;kDAAG;;;;;;;;;;;;0CAG/C,8OAAC;gCACC,MAAK;gCACL,SAAS,IAAM,YAAY;gCAC3B,UAAU,CAAC,CAAC,WAAW;gCACvB,OAAO;oCACL,SAAS;oCACT,cAAc;oCACd,QAAQ;oCACR,QAAQ;oCACR,YAAY;oCACZ,SAAS,CAAC,CAAC,WAAW,UAAU,MAAM;gCACxC;gCACA,OAAM;0CAEL,UAAU,aAAa;;;;;;0CAG1B,8OAAC;gCACC,MAAK;gCACL,SAAS,IAAM,YAAY;gCAC3B,UAAU,CAAC,CAAC,WAAW;gCACvB,OAAO;oCACL,SAAS;oCACT,cAAc;oCACd,QAAQ;oCACR,QAAQ;oCACR,YAAY;oCACZ,SAAS,CAAC,CAAC,WAAW,UAAU,MAAM;gCACxC;gCACA,OAAM;0CAEL,UAAU,aAAa,CAAC,mBAAmB,EAAE,UAAU,mBAAmB,CAAC,CAAC;;;;;;0CAG/E,8OAAC;gCACC,MAAK;gCACL,SAAS;oCACP,IAAI;wCACF,IAAI,CAAC,eAAe,OAAO,EAAE;wCAC7B,UAAU,SAAS,CAAC,SAAS,CAAC,KAAK,SAAS,CAAC,eAAe,OAAO,EAAE,MAAM;oCAC7E,EAAE,OAAM;oCACN,SAAS;oCACX;gCACF;gCACA,OAAO;oCACL,SAAS;oCACT,cAAc;oCACd,QAAQ;oCACR,QAAQ;oCACR,YAAY;oCACZ,SAAS,eAAe,OAAO,GAAG,IAAI;gCACxC;gCACA,UAAU,CAAC,eAAe,OAAO;gCACjC,OAAM;0CACP;;;;;;0CAID,8OAAC;gCAAI,OAAO;oCAAE,YAAY;oCAAQ,SAAS;oCAAM,UAAU;oCAAI,YAAY;gCAAI;;kDAC7E,8OAAC;;4CAAI;4CAAY,SAAS;;;;;;;kDAC1B,8OAAC;;4CAAI;4CAAY,SAAS;;;;;;;;;;;;;;;;;;;;;;;;;0BAKhC,8OAAC;gBAAI,OAAO;oBAAE,SAAS;oBAAQ,KAAK;oBAAI,YAAY;oBAAc,UAAU;gBAAO;;kCACjF,8OAAC;wBAAI,OAAO;4BAAE,MAAM;4BAAa,UAAU;4BAAG,SAAS;4BAAQ,KAAK;wBAAG;;0CAErE,8OAAC;gCAAI,OAAO;oCAAE,GAAG,OAAO;oCAAE,SAAS;oCAAQ,KAAK;oCAAI,qBAAqB;gCAAkB;;kDAC7F,8OAAC;wCAAM,OAAO;4CAAE,SAAS;4CAAQ,KAAK;wCAAE;;0DACtC,8OAAC;gDAAK,OAAO;oDAAE,SAAS;gDAAI;0DAAG;;;;;;0DAC/B,8OAAC;gDACC,OAAO;gDACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;gDAC5C,aAAY;gDACZ,OAAO;oDAAE,SAAS;oDAAI,cAAc;gDAAG;gDACvC,YAAY;;;;;;0DAEd,8OAAC;gDAAK,OAAO;oDAAE,SAAS;oDAAM,UAAU;gDAAG;0DAAG;;;;;;;;;;;;kDAGhD,8OAAC;wCAAI,OAAO;4CAAE,SAAS;4CAAQ,KAAK;wCAAE;;0DACpC,8OAAC;gDAAK,OAAO;oDAAE,SAAS;gDAAI;0DAAG;;;;;;0DAC/B,8OAAC;gDAAI,OAAO;oDAAE,YAAY;gDAAI;;oDAAG;oDAAE,eAAe,OAAO,MAAM,IAAI,aAAa;;;;;;;;;;;;;kDAGlF,8OAAC;wCAAI,OAAO;4CAAE,SAAS;4CAAQ,KAAK;wCAAE;;0DACpC,8OAAC;gDAAK,OAAO;oDAAE,SAAS;gDAAI;0DAAG;;;;;;0DAC/B,8OAAC;gDAAI,OAAO;oDAAE,YAAY;gDAAI;;oDAAG;oDAC7B,aAAa,cAAc,OAAO,IAAI,YAAY,UAAU,EAAE,KAAK;;;;;;;0DAEvE,8OAAC;gDAAI,OAAO;oDAAE,SAAS;oDAAM,UAAU;gDAAG;0DACvC,aAAa,aAAa,IAAI,KAAK,YAAY,UAAU,EAAE,kBAAkB,KAAK;;;;;;0DAErF,8OAAC;gDAAI,OAAO;oDAAE,SAAS;oDAAM,UAAU;gDAAG;;oDAAG;oDACrC,UAAU,OAAO,MAAM,GAAG,UAAU,IAAI,MAAM,GAAG,CAAC,EAAE,IAAI,QAAQ,IAAI;oDAAC;oDAAE,UAAU,OAAO,KAAK,CAAC,CAAC,EAAE,IAAI,QAAQ,GAAG,EAAE,CAAC;;;;;;;;;;;;;kDAI7H,8OAAC;wCAAI,OAAO;4CAAE,SAAS;4CAAQ,KAAK;wCAAE;;0DACpC,8OAAC;gDACC,MAAK;gDACL,SAAS;gDACT,UAAU,CAAC,iBAAiB,CAAC,QAAQ,KAAK,MAAM,KAAK,cAAc;gDACnE,OAAO;oDACL,SAAS;oDACT,cAAc;oDACd,QAAQ;oDACR,QAAQ;oDACR,YAAY;oDACZ,SAAS,CAAC,iBAAiB,CAAC,QAAQ,KAAK,MAAM,KAAK,cAAc,cAAc,MAAM;gDACxF;0DAEC,cAAc,iBAAiB;;;;;;0DAElC,8OAAC;gDACC,MAAK;gDACL,SAAS;gDACT,UAAU,CAAC;gDACX,OAAO;oDACL,SAAS;oDACT,cAAc;oDACd,QAAQ;oDACR,QAAQ;oDACR,YAAY;oDACZ,SAAS,gBAAgB,IAAI;gDAC/B;0DACD;;;;;;;;;;;;kDAKH,8OAAC;wCAAI,OAAO;4CAAE,YAAY;4CAAU,SAAS;4CAAQ,KAAK;wCAAE;;0DAC1D,8OAAC;gDAAK,OAAO;oDAAE,SAAS;gDAAI;;oDAAG;oDACd;kEACf,8OAAC;wDAAK,OAAO;4DAAE,SAAS;4DAAK,UAAU;wDAAG;kEACvC,qBAAqB,CAAC,aAAa,EAAE,IAAI,KAAK,oBAAoB,kBAAkB,GAAG,CAAC,CAAC,GAAG;;;;;;;;;;;;4CAGhG,UAAU,MAAM,iBACf,8OAAC;gDAAI,OAAO;oDAAE,SAAS;oDAAQ,KAAK;gDAAE;0DACnC,UAAU,GAAG,CAAC,CAAC,GAAG;oDACjB,MAAM,MAAM,IAAI,EAAE,GAAG;oDACrB,MAAM,MAAM,IAAI,EAAE,eAAe;oDACjC,MAAM,OAAO,IAAI;oDACjB,MAAM,SACJ,OAAO,QAAQ,OAAO,QAAQ,QAAQ,OAAO,CAAC,OAAO,GAAG,IAAI,MAAM;oDACpE,qBACE,8OAAC;wDAAY,OAAO;4DAAE,SAAS;4DAAY,cAAc;4DAAI,QAAQ;wDAAmC;;0EACtG,8OAAC;gEAAI,OAAO;oEAAE,YAAY;gEAAI;0EAAI,EAAE,MAAM;;;;;;0EAC1C,8OAAC;gEAAI,OAAO;oEAAE,SAAS;oEAAM,UAAU;gEAAG;;oEAAG;oEACtC,EAAE,GAAG;oEAAC;oEAAQ,EAAE,eAAe;oEAAC;oEAAc,EAAE,gBAAgB,IAAI;;;;;;;0EAE3E,8OAAC;gEAAI,OAAO;oEAAE,SAAS;oEAAM,UAAU;gEAAG;;oEAAG;oEAC/B,UAAU,OAAO,MAAM,CAAC,CAAC,EAAE,IAAI,QAAQ,IAAI;oEAAC;oEAAS,QAAQ,OAAO,MAAM,IAAI,MAAM;;;;;;;;uDAN1F;;;;;gDAUd;;;;;qEAGF,8OAAC;gDAAI,OAAO;oDAAE,SAAS;oDAAM,UAAU;gDAAG;0DAAG;;;;;;;;;;;;kDAIjD,8OAAC;wCAAI,OAAO;4CAAE,YAAY;4CAAU,SAAS;4CAAQ,KAAK;wCAAE;;0DAC1D,8OAAC;gDAAK,OAAO;oDAAE,SAAS;gDAAI;;oDAAG;oDACb;kEAChB,8OAAC;wDAAK,OAAO;4DAAE,SAAS;4DAAK,UAAU;wDAAG;kEACvC,gBAAgB,CAAC,aAAa,EAAE,IAAI,KAAK,eAAe,kBAAkB,GAAG,CAAC,CAAC,GAAG;;;;;;;;;;;;0DAGvF,8OAAC;gDACC,OAAO;oDACL,SAAS;oDACT,cAAc;oDACd,QAAQ;oDACR,WAAW;oDACX,YAAY;oDACZ,UAAU;oDACV,SAAS;gDACX;0DAEC,iBAAiB,wBAAwB,eAAe;;;;;;4CAE1D,6BACC,8OAAC;gDAAI,OAAO;oDAAE,SAAS;oDAAM,UAAU;oDAAI,OAAO;gDAAyB;;oDACxE;oDACA,qBAAqB,CAAC,EAAE,EAAE,IAAI,KAAK,oBAAoB,kBAAkB,GAAG,CAAC,CAAC,GAAG;;;;;;uDAElF;4CACH,6BACC,8OAAC;gDAAI,OAAO;oDAAE,SAAS;oDAAK,UAAU;oDAAI,YAAY;gDAAY;0DAC/D;;;;;uDAED;0DACJ,8OAAC;gDACC,MAAK;gDACL,SAAS,IAAM,aAAa;gDAC5B,UAAU;gDACV,OAAO;oDACL,SAAS;oDACT,cAAc;oDACd,QAAQ;oDACR,QAAQ;oDACR,YAAY;oDACZ,SAAS,iBAAiB,MAAM;oDAChC,OAAO;gDACT;0DAEC,iBAAiB,gBAAgB;;;;;;;;;;;;kDAItC,8OAAC;wCAAI,OAAO;4CAAE,YAAY;4CAAU,SAAS;4CAAQ,KAAK;wCAAE;;0DAC1D,8OAAC;gDAAK,OAAO;oDAAE,SAAS;gDAAI;0DAAG;;;;;;4CAC9B,UAAU,MAAM,iBACf,8OAAC;gDAAI,OAAO;oDAAE,SAAS;oDAAQ,KAAK;gDAAE;0DACnC,UAAU,GAAG,CAAC,CAAC,GAAG,kBACjB,8OAAC;wDAAY,OAAO;4DAAE,SAAS;4DAAY,cAAc;4DAAI,QAAQ;wDAAmC;;0EACtG,8OAAC;gEAAI,OAAO;oEAAE,YAAY;gEAAI;0EAAI,EAAE,MAAM;;;;;;0EAC1C,8OAAC;gEAAI,OAAO;oEAAE,SAAS;oEAAM,UAAU;gEAAG;;oEAAG;oEACrC,EAAE,UAAU,IAAI;oEAAI;oEAAiB,EAAE,YAAY,IAAI;;;;;;;;uDAHvD;;;;;;;;;qEASd,8OAAC;gDAAI,OAAO;oDAAE,SAAS;oDAAM,UAAU;gDAAG;0DAAG;;;;;;;;;;;;kDAIjD,8OAAC;wCAAI,OAAO;4CAAE,YAAY;4CAAU,SAAS;4CAAQ,KAAK;wCAAE;;0DAC1D,8OAAC;gDAAK,OAAO;oDAAE,SAAS;gDAAI;0DAAG;;;;;;4CAC9B,YAAY,MAAM,iBACjB,8OAAC;gDAAI,OAAO;oDAAE,SAAS;oDAAQ,KAAK;gDAAE;0DACnC,YAAY,GAAG,CAAC,CAAC,GAAG,kBACnB,8OAAC;wDAAY,OAAO;4DAAE,SAAS;4DAAY,cAAc;4DAAI,QAAQ;wDAAmC;;0EACtG,8OAAC;gEAAI,OAAO;oEAAE,YAAY;gEAAI;;oEAC3B,EAAE,MAAM;oEAAC;oEAAI,EAAE,IAAI;oEAAC;oEAAQ,EAAE,GAAG;;;;;;;0EAEpC,8OAAC;gEAAI,OAAO;oEAAE,SAAS;oEAAM,UAAU;gEAAG;;oEAAG;oEACpC,EAAE,WAAW,IAAI;oEAAI;oEAAS,EAAE,UAAU,IAAI;oEAAI;oEAAQ,EAAE,OAAO,IAAI;oEAAI;oEAAI,EAAE,MAAM;;;;;;;;uDALxF;;;;;;;;;qEAWd,8OAAC;gDAAI,OAAO;oDAAE,SAAS;oDAAM,UAAU;gDAAG;0DAAG;;;;;;;;;;;;kDAIjD,8OAAC;wCAAI,OAAO;4CAAE,YAAY;4CAAU,SAAS;4CAAQ,KAAK;wCAAE;;0DAC1D,8OAAC;gDAAK,OAAO;oDAAE,SAAS;gDAAI;0DAAG;;;;;;4CAC9B,eAAe,sBACd,8OAAC;gDAAI,OAAO;oDAAE,SAAS;oDAAQ,KAAK;gDAAE;;kEACpC,8OAAC;wDAAI,OAAO;4DAAE,SAAS;4DAAM,UAAU;wDAAG;;4DACvC,cAAc,KAAK,CAAC,MAAM,IAAI;4DAAM;4DAAK,cAAc,KAAK,CAAC,IAAI,IAAI;4DAAM;4DAAS,cAAc,KAAK,CAAC,GAAG,IAAI;;;;;;;kEAElH,8OAAC;wDAAI,OAAO;4DAAE,SAAS;4DAAM,UAAU;wDAAG;;4DAAG;4DACnC,cAAc,KAAK,CAAC,MAAM,IAAI;4DAAM;4DAAa,cAAc,KAAK,CAAC,UAAU,GAAG,IAAI,KAAK,cAAc,KAAK,CAAC,UAAU,EAAE,kBAAkB,KAAK;;;;;;;kEAE5J,8OAAC;wDAAI,OAAO;4DAAE,SAAS;4DAAM,UAAU;wDAAG;;4DAAG;4DACrC,cAAc,IAAI,EAAE,SAAS;4DAAM;4DAAS,cAAc,IAAI,EAAE,WAAW;;;;;;;;;;;;qEAIrF,8OAAC;gDAAI,OAAO;oDAAE,SAAS;oDAAM,UAAU;gDAAG;0DAAG;;;;;;;;;;;;kDAIjD,8OAAC;wCAAI,OAAO;4CAAE,YAAY;4CAAU,SAAS;4CAAQ,KAAK;wCAAE;;0DAC1D,8OAAC;gDAAK,OAAO;oDAAE,SAAS;gDAAI;0DAAG;;;;;;4CAC9B,UAAU,MAAM,iBACf,8OAAC;gDAAI,OAAO;oDAAE,SAAS;oDAAQ,KAAK;oDAAG,UAAU;gDAAO;0DACrD,UAAU,GAAG,CAAC,CAAC,GAAG;oDACjB,MAAM,SAAS,EAAE,IAAI,EAAE,UAAU;oDACjC,MAAM,QACJ,WAAW,SAAS,yBAAyB,WAAW,UAAU,yBAAyB;oDAC7F,qBACE,8OAAC;wDAAoB,OAAO;4DAAE,SAAS;4DAAW,cAAc;4DAAG,QAAQ;4DAAoC,YAAY;wDAAM;;0EAC/H,8OAAC;gEAAI,OAAO;oEAAE,YAAY;oEAAK,UAAU;gEAAG;0EAAI;;;;;;0EAChD,8OAAC;gEAAI,OAAO;oEAAE,SAAS;oEAAK,UAAU;gEAAG;0EACtC,EAAE,UAAU,GAAG,IAAI,KAAK,EAAE,UAAU,EAAE,kBAAkB,KAAK;;;;;;;uDAHxD,EAAE,EAAE,IAAI;;;;;gDAOtB;;;;;qEAGF,8OAAC;gDAAI,OAAO;oDAAE,SAAS;oDAAM,UAAU;gDAAG;0DAAG;;;;;;;;;;;;kDAIjD,8OAAC;wCAAI,OAAO;4CAAE,YAAY;4CAAU,SAAS;4CAAQ,KAAK;wCAAE;;0DAC1D,8OAAC;gDAAK,OAAO;oDAAE,SAAS;gDAAI;0DAAG;;;;;;4CAC9B,aAAa,WACZ,CAAC;gDACC,MAAM,OAAO,OAAO,YAAY,QAAQ,CAAC,EAAE,IAAI;gDAC/C,MAAM,SAAS,OAAO,YAAY,QAAQ,CAAC,IAAI,IAAI;gDACnD,MAAM,OAAO,OAAO,YAAY,QAAQ,CAAC,IAAI,IAAI;gDACjD,MAAM,UAAU,OAAO,YAAY,QAAQ,CAAC,OAAO,IAAI;gDACvD,MAAM,QAAQ,OAAO,SAAS,OAAO;gDACrC,MAAM,SAAS,QAAQ,IAAI,AAAC,OAAO,QAAS,MAAM;gDAClD,MAAM,UAAU,QAAQ,IAAI,AAAC,SAAS,QAAS,MAAM;gDACrD,qBACE,8OAAC;oDAAI,OAAO;wDAAE,SAAS;wDAAQ,KAAK;oDAAE;;sEACpC,8OAAC;4DAAI,OAAO;gEAAE,SAAS;gEAAQ,KAAK;gEAAG,QAAQ;4DAAG;;8EAChD,8OAAC;oEAAI,OAAO;wEAAE,OAAO,GAAG,OAAO,CAAC,CAAC;wEAAE,YAAY;wEAAuB,cAAc;oEAAE;;;;;;8EACtF,8OAAC;oEAAI,OAAO;wEAAE,OAAO,GAAG,QAAQ,CAAC,CAAC;wEAAE,YAAY;wEAAuB,cAAc;oEAAE;;;;;;8EACvF,8OAAC;oEAAI,OAAO;wEAAE,OAAO,GAAG,KAAK,GAAG,CAAC,GAAG,MAAM,SAAS,SAAS,CAAC,CAAC;wEAAE,YAAY;wEAA0B,cAAc;oEAAE;;;;;;;;;;;;sEAExH,8OAAC;4DAAI,OAAO;gEAAE,SAAS;gEAAM,UAAU;4DAAG;;gEAAG;gEACrC;gEAAK;gEAAY;gEAAO;gEAAU;gEAAK;gEAAa;gEAAQ;gEAAU,OAAO,OAAO,CAAC;;;;;;;;;;;;;4CAInG,CAAC,oBAED,8OAAC;gDAAI,OAAO;oDAAE,SAAS;oDAAM,UAAU;gDAAG;0DAAG;;;;;;;;;;;;;;;;;;0CAMnD,8OAAC;gCAAI,OAAO;oCAAE,GAAG,OAAO;oCAAE,SAAS;oCAAQ,KAAK;oCAAI,YAAY;oCAAU,UAAU;gCAAO;;kDACzF,8OAAC;wCAAK,OAAO;4CAAE,YAAY;wCAAI;kDAAG;;;;;;kDAClC,8OAAC;wCAAK,OAAO;4CAAE,SAAS;wCAAI;;4CAAG;4CACxB,WAAW,cAAc;;;;;;;kDAEhC,8OAAC;wCAAK,OAAO;4CAAE,SAAS;wCAAI;;4CAAG;4CACtB,YAAY,UAAU,SAAS;;;;;;;oCAEvC,2BACC,8OAAC;wCAAK,OAAO;4CAAE,SAAS;wCAAI;;4CAAG;4CAAc;;;;;;+CAC3C;;;;;;;0CAIN,8OAAC;gCAAI,OAAO;oCAAE,GAAG,OAAO;oCAAE,SAAS;oCAAQ,KAAK;gCAAG;;kDACjD,8OAAC;wCAAI,OAAO;4CAAE,SAAS;4CAAQ,gBAAgB;4CAAiB,YAAY;4CAAY,KAAK;wCAAG;;0DAC9F,8OAAC;gDAAI,OAAO;oDAAE,SAAS;oDAAQ,KAAK;oDAAI,YAAY;oDAAU,UAAU;gDAAO;;kEAC7E,8OAAC;wDAAK,OAAO;4DAAE,SAAS;wDAAI;kEAAG;;;;;;kEAC/B,8OAAC;wDAAK,OAAO;4DAAE,UAAU;4DAAI,YAAY;wDAAI;kEAAI,OAAO,QAAQ,CAAC,OAAO,UAAU,QAAQ;;;;;;kEAC1F,8OAAC;wDAAK,OAAO;4DAAE,SAAS;4DAAK,UAAU;wDAAG;;4DAAG;4DACpC,OAAO,QAAQ,CAAC,OAAO,cAAc,YAAY;4DAAI;4DAAE,WAAW,SAAS;;;;;;;kEAEpF,8OAAC;wDAAK,OAAO;4DAAE,SAAS;4DAAK,UAAU;wDAAG;;4DAAG;4DACxC,aAAa,OAAO,MAAM,GAAG,aAAa,IAAI,MAAM,KAAK,IAAI,WAAW,IAAI;4DAAC;4DAAE,gBAAgB,OAAO,KAAK,CAAC,CAAC,EAAE,IAAI,cAAc,GAAG,EAAE,CAAC;;;;;;;kEAG5I,8OAAC;wDAAK,OAAO,WAAW,MAAM,UAAU;;0EACtC,8OAAC;0EAAM,MAAM,UAAU;;;;;;0EACvB,8OAAC;gEAAK,OAAO;oEAAE,SAAS;oEAAK,YAAY;oEAAK,UAAU;gEAAG;0EAAI,UAAU,YAAY;;;;;;;;;;;;oDAGtF,qBACC,8OAAC;wDAAK,OAAO,WAAW,KAAK,OAAO,GAAG,aAAa;;0EAClD,8OAAC;0EAAM,KAAK,OAAO,GAAG,kBAAkB;;;;;;0EACxC,8OAAC;gEAAK,OAAO;oEAAE,SAAS;oEAAK,YAAY;oEAAK,UAAU;gEAAG;0EACxD,KAAK,oBAAoB,EAAE,KAAK,UAAU;;;;;;;;;;;+DAG7C;oDAEH,wBACC,8OAAC;wDAAK,OAAO,WAAW;;0EACtB,8OAAC;0EAAK;;;;;;0EACN,8OAAC;gEAAK,OAAO;oEAAE,SAAS;oEAAK,YAAY;oEAAK,UAAU;gEAAG;0EAAG;;;;;;;;;;;+DAE9D;;;;;;;0DAGN,8OAAC;gDAAI,OAAO;oDAAE,SAAS;oDAAM,WAAW;gDAAQ;;kEAC9C,8OAAC;;4DAAI;4DAAgB,SAAS,KAAK,GAAG,CAAC,cAAc,GAAG,cAAc,MAAM;;;;;;;kEAC5E,8OAAC;wDAAI,OAAO;4DAAE,SAAS;4DAAM,UAAU;wDAAG;;4DACvC,kBAAkB,OAAO,CAAC,KAAK,EAAE,gBAAgB,GAAG;4DAAI,iBAAiB,OAAO,CAAC,GAAG,EAAE,cAAc,EAAE,CAAC,GAAG;4DAAI,WAAW,CAAC,GAAG,EAAE,UAAU,GAAG;;;;;;;kEAE/I,8OAAC;wDAAI,OAAO;4DAAE,SAAS;4DAAM,UAAU;wDAAG;;4DAAG;4DACrC,KAAK,KAAK,CAAC,MAAM,aAAa,MAAM,aAAa;4DAAO;4DAC7D,KAAK,KAAK,CAAC,MAAM,aAAa,QAAQ,cAAc;4DAAO;;;;;;;kEAE9D,8OAAC;wDAAI,OAAO;4DAAE,SAAS;4DAAM,UAAU;wDAAG;;4DAAG;4DAC/B,cAAc,IAAI,KAAK,aAAa,kBAAkB,KAAK;;;;;;;;;;;;;;;;;;;oCAK5E,0BACC,8OAAC;wCAAI,OAAO;4CAAE,SAAS;4CAAI,cAAc;4CAAI,YAAY;wCAAqB;;0DAC5E,8OAAC;0DAAO;;;;;;4CAAe;4CAAE;;;;;;+CAEzB;oCAEH,QAAQ,CAAC,OAAO,KAAK,IAAI,EAAE,aAAa,IAAI,WAAW,GAAG,QAAQ,CAAC,mBAAmB,OAAO,KAAK,KAAK,IAAI,IAAI,WAAW,GAAG,QAAQ,CAAC,eAAe,kBACpJ,8OAAC;wCAAI,OAAO;4CAAE,SAAS;4CAAI,cAAc;4CAAI,YAAY;wCAAuB;;0DAC9E,8OAAC;0DAAO;;;;;;4CAAqC;;;;;;+CAG7C;oCAEH,qBACC,8OAAC;wCAAI,OAAO;4CAAE,SAAS;4CAAQ,qBAAqB;4CAAe,KAAK;wCAAG;;0DACzE,8OAAC;gDAAI,OAAO;;kEACV,8OAAC;wDAAI,OAAO;4DAAE,SAAS;wDAAI;kEAAG;;;;;;kEAC9B,8OAAC;wDAAI,OAAO;4DAAE,YAAY;4DAAK,UAAU;wDAAG;kEAAI,KAAK,MAAM;;;;;;kEAC3D,8OAAC;wDAAI,OAAO;4DAAE,SAAS;4DAAM,UAAU;wDAAG;kEAAI,aAAa,CAAC,GAAG,EAAE,YAAY,GAAG;;;;;;;;;;;;0DAElF,8OAAC;gDAAI,OAAO;;kEACV,8OAAC;wDAAI,OAAO;4DAAE,SAAS;wDAAI;kEAAG;;;;;;kEAC9B,8OAAC;wDAAI,OAAO;4DAAE,YAAY;4DAAK,UAAU;wDAAG;;4DACzC,KAAK,KAAK,EAAE,OAAO,KAAK,KAAK,CAAC,IAAI,CAAC,WAAW,KAAK;4DAAI;4DAAE,KAAK,KAAK,EAAE,QAAQ,CAAC,EAAE,EAAE,IAAI,KAAK,KAAK,CAAC,KAAK,EAAE,IAAI,GAAG;;;;;;;kEAElH,8OAAC;wDAAI,OAAO;4DAAE,SAAS;4DAAM,UAAU;wDAAG;;4DAAG;4DACrC,KAAK,IAAI,EAAE,SAAS,OAAO,IAAI,KAAK,IAAI,CAAC,KAAK,EAAE,KAAK;;;;;;;;;;;;;0DAG/D,8OAAC;gDAAI,OAAO;;kEACV,8OAAC;wDAAI,OAAO;4DAAE,SAAS;wDAAI;kEAAG;;;;;;kEAC9B,8OAAC;wDAAI,OAAO;4DAAE,YAAY;4DAAK,UAAU;wDAAG;kEACzC,MAAM,OAAO,CAAC,KAAK,OAAO,IAAI,KAAK,OAAO,CAAC,GAAG,CAAC,CAAC,IAAM,IAAI,EAAE,KAAK,EAAE,IAAI,IAAI,CAAC,QAAQ;;;;;;kEAEvF,8OAAC;wDAAI,OAAO;4DAAE,SAAS;4DAAM,UAAU;wDAAG;;4DACvC,MAAM,UAAU,iBAAiB;4DACjC,YAAY,gBAAgB,SAAS,CAAC,cAAc,EAAE,WAAW,cAAc,CAAC,IAAI,CAAC,OAAO,GAAG;;;;;;;;;;;;;;;;;;+CAIpG;oCAGH,MAAM,WAAW,KAAK,OAAO,EAAE,uBAC9B,8OAAC;wCAAI,OAAO;4CAAE,SAAS;4CAAI,cAAc;4CAAI,YAAY;wCAAuB;;0DAC9E,8OAAC;gDAAI,OAAO;oDAAE,YAAY;oDAAK,cAAc;gDAAE;;oDAAG;oDAC/B,UAAU,2CAA2C;;;;;;;0DAExE,8OAAC;gDAAG,OAAO;oDAAE,QAAQ;oDAAG,aAAa;oDAAI,SAAS;gDAAK;0DACpD,KAAK,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,kBACpB,8OAAC;kEAAY;uDAAJ;;;;;;;;;;;;;;;+CAIb;oCAGH,qBACC,8OAAC;wCAAI,OAAO;4CAAE,SAAS;4CAAQ,KAAK;wCAAG;;0DACrC,8OAAC;gDAAI,OAAO;oDAAE,SAAS;oDAAQ,qBAAqB;oDAAe,KAAK;gDAAG;;kEACzE,8OAAC;wDAAI,OAAO;;0EACV,8OAAC;gEAAI,OAAO;oEAAE,SAAS;gEAAI;0EAAG;;;;;;0EAC9B,8OAAC;gEAAI,OAAO;oEAAE,YAAY;oEAAK,UAAU;gEAAG;;oEAAI,KAAK,QAAQ;oEAAC;;;;;;;;;;;;;kEAGhE,8OAAC;wDAAI,OAAO;;0EACV,8OAAC;gEAAI,OAAO;oEAAE,SAAS;gEAAI;0EAAG;;;;;;0EAC9B,8OAAC;gEAAI,OAAO;oEAAE,YAAY;oEAAK,UAAU;gEAAG;;oEAAI,IAAI,KAAK,OAAO,EAAE;oEAAG;;;;;;;;;;;;;kEAGvE,8OAAC;wDAAI,OAAO;;0EACV,8OAAC;gEAAI,OAAO;oEAAE,SAAS;gEAAI;0EAAG;;;;;;0EAC9B,8OAAC;gEAAI,OAAO;oEAAE,YAAY;oEAAK,UAAU;gEAAG;0EAAI,SAAS,MAAM,OAAO,MAAM,IAAI,QAAQ,EAAE,EAAE;;;;;;4DAC3F,SAAS,SAAS,uBACjB,8OAAC;gEAAI,OAAO;oEAAE,WAAW;oEAAG,SAAS;oEAAM,UAAU;gEAAG;0EAAI,QAAQ,OAAO,CAAC,IAAI,CAAC;;;;;uEAC/E;;;;;;;;;;;;;0DAIR,8OAAC;gDAAI,OAAO;oDAAE,SAAS;oDAAQ,qBAAqB;oDAAW,KAAK;gDAAG;;kEACrE,8OAAC;wDAAI,OAAO;;0EACV,8OAAC;gEAAI,OAAO;oEAAE,YAAY;gEAAI;0EAAG;;;;;;0EACjC,8OAAC;gEAAI,OAAO;oEAAE,WAAW;oEAAG,SAAS;gEAAK;0EACvC,MAAM,OAAO,OACV,GAAG,KAAK,KAAK,CAAC,IAAI,CAAC,WAAW,KAAK,KAAK,KAAK,CAAC,KAAK,IAAI,OAAO,CAAC,GAAG,EAAE,IAAI,KAAK,KAAK,CAAC,KAAK,EAAE,IAAI,GAAG,KAC/F,KAAK,KAAK,CAAC,OAAO,IAAI,OAAO,CAAC,UAAU,EAAE,IAAI,KAAK,KAAK,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,GAAG,IAC1E,GACF;;;;;;;;;;;;kEAIR,8OAAC;wDAAI,OAAO;;0EACV,8OAAC;gEAAI,OAAO;oEAAE,YAAY;gEAAI;0EAAG;;;;;;0EACjC,8OAAC;gEAAI,OAAO;oEAAE,WAAW;oEAAG,SAAS;gEAAK;0EACvC,MAAM,MAAM,SAAS,OAAO,GAAG,IAAI,KAAK,IAAI,CAAC,KAAK,EAAE,KAAK,KAAK,IAAI,EAAE,YAAY,CAAC,GAAG,EAAE,KAAK,IAAI,CAAC,SAAS,EAAE,GAAG,IAAI,GAAG;;;;;;;;;;;;;;;;;;0DAK5H,8OAAC;gDAAI,OAAO;;kEACV,8OAAC;wDAAI,OAAO;4DAAE,YAAY;wDAAI;kEAAG;;;;;;kEACjC,8OAAC;wDAAI,OAAO;4DAAE,WAAW;4DAAG,SAAS;4DAAQ,KAAK;wDAAE;kEACjD,KAAK,OAAO,EAAE,IAAI,CAAC,GAAG,kBACrB,8OAAC;gEAAY,OAAO;oEAAE,SAAS;oEAAQ,gBAAgB;oEAAiB,SAAS;gEAAK;;kFACpF,8OAAC;;4EAAK;4EACF,IAAI;4EAAE;4EAAG,IAAI,EAAE,KAAK,EAAE;;;;;;;kFAE1B,8OAAC;wEAAK,OAAO;4EAAE,YAAY;wEAAI;;4EAAI,IAAI,EAAE,OAAO,EAAE;4EAAG;;;;;;;;+DAJ7C;;;;;;;;;;;;;;;;4CAUf,QAAQ,CAAC,KAAK,GAAG,IAAI,QAAQ,KAAK,WAAW,IAAI,IAAI,kBACpD,8OAAC;gDAAI,OAAO;;kEACV,8OAAC;wDAAI,OAAO;4DAAE,SAAS;4DAAQ,gBAAgB;4DAAiB,YAAY;4DAAY,KAAK;wDAAG;;0EAC9F,8OAAC;gEAAI,OAAO;oEAAE,YAAY;gEAAI;0EAAG;;;;;;0EACjC,8OAAC;gEAAI,OAAO;oEAAE,SAAS;oEAAK,UAAU;gEAAG;;oEAAG;oEAAQ,IAAI,WAAW;oEAAG;;;;;;;;;;;;;kEAGxE,8OAAC;wDAAI,OAAO;4DAAE,WAAW;4DAAI,SAAS;4DAAQ,qBAAqB;4DAAmB,KAAK;wDAAG;;0EAC5F,8OAAC;gEAAI,OAAO;oEAAE,GAAG,OAAO;oEAAE,YAAY;gEAAyB;;kFAC7D,8OAAC;wEAAI,OAAO;4EAAE,SAAS;wEAAI;kFAAG;;;;;;kFAC9B,8OAAC;wEAAI,OAAO;4EAAE,YAAY;4EAAK,UAAU;wEAAG;kFAAI,KAAK,GAAG,IAAI,OAAO,MAAM,IAAI,KAAK,GAAG,EAAE;;;;;;;;;;;;0EAEzF,8OAAC;gEAAI,OAAO;oEAAE,GAAG,OAAO;oEAAE,YAAY;gEAAyB;;kFAC7D,8OAAC;wEAAI,OAAO;4EAAE,SAAS;wEAAI;kFAAG;;;;;;kFAC9B,8OAAC;wEAAI,OAAO;4EAAE,YAAY;4EAAK,UAAU;wEAAG;;4EAAG;4EAAE,KAAK,WAAW,IAAI,OAAO,MAAM,IAAI,KAAK,WAAW,EAAE;;;;;;;;;;;;;0EAE1G,8OAAC;gEAAI,OAAO;oEAAE,GAAG,OAAO;oEAAE,YAAY;gEAAyB;;kFAC7D,8OAAC;wEAAI,OAAO;4EAAE,SAAS;wEAAI;kFAAG;;;;;;kFAC9B,8OAAC;wEAAI,OAAO;4EAAE,YAAY;4EAAK,UAAU;wEAAG;;4EAAI,KAAK,iBAAiB,IAAI,OAAO,MAAM,IAAI,KAAK,iBAAiB,EAAE;4EAAG;;;;;;;;;;;;;0EAExH,8OAAC;gEAAI,OAAO;oEAAE,GAAG,OAAO;oEAAE,YAAY;gEAAyB;;kFAC7D,8OAAC;wEAAI,OAAO;4EAAE,SAAS;wEAAI;kFAAG;;;;;;kFAC9B,8OAAC;wEAAI,OAAO;4EAAE,YAAY;4EAAK,UAAU;wEAAG;;4EAAG;4EAAE,KAAK,aAAa,IAAI,OAAO,MAAM,IAAI,KAAK,aAAa,EAAE;;;;;;;oEAC3G,KAAK,cAAc,IAAI,qBACtB,8OAAC;wEAAI,OAAO;4EAAE,SAAS;4EAAK,UAAU;wEAAG;;4EAAG;4EAAU,IAAI,KAAK,cAAc,EAAE;;;;;;+EAC7E;;;;;;;;;;;;;oDAIP,MAAM,OAAO,CAAC,KAAK,SAAS,KAAK,KAAK,SAAS,CAAC,MAAM,iBACrD,8OAAC;wDAAI,OAAO;4DAAE,WAAW;wDAAG;;0EAC1B,8OAAC;gEAAI,OAAO;oEAAE,YAAY;oEAAK,cAAc;gEAAE;0EAAG;;;;;;0EAClD,8OAAC;gEAAI,OAAO;oEAAE,WAAW;gEAAO;0EAC9B,cAAA,8OAAC;oEAAM,OAAO;wEAAE,OAAO;wEAAQ,gBAAgB;oEAAW;;sFACxD,8OAAC;sFACC,cAAA,8OAAC;gFAAG,OAAO;oFAAE,WAAW;oFAAQ,SAAS;gFAAK;;kGAC5C,8OAAC;wFAAG,OAAO;4FAAE,SAAS;wFAAU;kGAAG;;;;;;kGACnC,8OAAC;wFAAG,OAAO;4FAAE,SAAS;wFAAU;kGAAG;;;;;;kGACnC,8OAAC;wFAAG,OAAO;4FAAE,SAAS;wFAAU;kGAAG;;;;;;kGACnC,8OAAC;wFAAG,OAAO;4FAAE,SAAS;wFAAU;kGAAG;;;;;;kGACnC,8OAAC;wFAAG,OAAO;4FAAE,SAAS;wFAAU;kGAAG;;;;;;;;;;;;;;;;;sFAGvC,8OAAC;sFACE,KAAK,SAAS,CAAC,GAAG,CAAC,CAAC,GAAG,kBACtB,8OAAC;oFAAW,OAAO;wFAAE,WAAW;oFAAmC;;sGACjE,8OAAC;4FAAG,OAAO;gGAAE,SAAS;gGAAY,YAAY;4FAAI;;gGAAG;gGAAE,CAAC,EAAE,GAAG,IAAI,CAAC,IAAI;;;;;;;sGACtE,8OAAC;4FAAG,OAAO;gGAAE,SAAS;4FAAW;sGAAI,IAAI,EAAE,KAAK,EAAE;;;;;;sGAClD,8OAAC;4FAAG,OAAO;gGAAE,SAAS;4FAAW;;gGAAI,IAAI,EAAE,OAAO,EAAE;gGAAG;;;;;;;sGACvD,8OAAC;4FAAG,OAAO;gGAAE,SAAS;4FAAW;sGAAI,EAAE,MAAM,IAAI,OAAO,MAAM,CAAC,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI;;;;;;sGACpF,8OAAC;4FAAG,OAAO;gGAAE,SAAS;4FAAW;sGAAI,EAAE,EAAE,IAAI,OAAO,MAAM,IAAI,EAAE,EAAE,EAAE;;;;;;;mFAL7D;;;;;;;;;;;;;;;;;;;;;;;;;;+DAYjB;;;;;;uDAEJ;4CAEH,KAAK,KAAK,iBACT,8OAAC;gDAAI,OAAO;oDAAE,GAAG,OAAO;oDAAE,YAAY;gDAAyB;;kEAC7D,8OAAC;wDAAI,OAAO;4DAAE,YAAY;wDAAI;kEAAG;;;;;;kEACjC,8OAAC;wDAAI,OAAO;4DAAE,WAAW;4DAAG,YAAY;4DAAY,SAAS;wDAAK;kEAAI,KAAK,KAAK;;;;;;;;;;;uDAEhF;4CAEH,KAAK,SAAS,EAAE,uBACf,8OAAC;gDAAI,OAAO;;kEACV,8OAAC;wDAAI,OAAO;4DAAE,YAAY;wDAAI;kEAAG;;;;;;kEACjC,8OAAC;wDAAI,OAAO;4DAAE,WAAW;4DAAG,SAAS;4DAAQ,KAAK;wDAAE;kEACjD,KAAK,SAAS,CAAC,GAAG,CAAC,CAAC,GAAG,kBACtB,8OAAC;gEAAY,OAAO;oEAAE,SAAS;gEAAK;;oEAAG;oEAClC,EAAE,aAAa;;+DADV;;;;;;;;;;;;;;;uDAMd;;;;;;+CAEJ;;;;;;;4BAIL,2BACC,8OAAC;gCAAI,OAAO;;kDACV,8OAAC;wCAAI,OAAO;4CAAE,SAAS;4CAAQ,gBAAgB;4CAAiB,YAAY;4CAAY,KAAK;wCAAG;;0DAC9F,8OAAC;gDAAI,OAAO;oDAAE,YAAY;oDAAK,UAAU;gDAAG;0DAAG;;;;;;0DAC/C,8OAAC;gDAAI,OAAO;oDAAE,SAAS;oDAAK,UAAU;gDAAG;0DACtC,WAAW,OAAO,GAAG,oBAAoB;;;;;;;;;;;;kDAG9C,8OAAC;wCAAI,OAAO;4CAAE,WAAW;4CAAG,SAAS;4CAAQ,KAAK;4CAAG,UAAU;4CAAI,SAAS;wCAAI;;4CAC7E,CAAC,WAAW,UAAU,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,kBAClC,8OAAC;oDAAe,OAAO;wDAAE,SAAS;wDAAQ,gBAAgB;oDAAgB;;sEACxE,8OAAC;4DAAK,OAAO;gEAAE,YAAY;4DAAI;sEAAI,EAAE,EAAE;;;;;;sEACvC,8OAAC;;gEAAK;gEACD,EAAE,CAAC,IAAI;gEACT;gEAAM;gEACE,EAAE,WAAW,IAAI;gEACzB;gEAAM;gEACA,EAAE,KAAK,GAAG,QAAQ;;;;;;;;mDAPnB,EAAE,EAAE;;;;;4CAWf,MAAM,OAAO,CAAC,WAAW,cAAc,KAAK,WAAW,cAAc,CAAC,MAAM,iBAC3E,8OAAC;gDAAI,OAAO;oDAAE,SAAS;gDAAK;;oDAAG;oDACpB,WAAW,cAAc,CAAC,IAAI,CAAC;;;;;;uDAExC;;;;;;;;;;;;uCAGN;0CAGJ,8OAAC;gCAAI,OAAO;;kDACV,8OAAC;wCAAI,OAAO;4CAAE,SAAS;4CAAQ,gBAAgB;4CAAiB,YAAY;4CAAU,KAAK;4CAAI,UAAU;wCAAO;;0DAC9G,8OAAC;gDAAI,OAAO;oDAAE,YAAY;oDAAK,UAAU;gDAAG;0DAAG;;;;;;0DAC/C,8OAAC;gDAAI,OAAO;oDAAE,SAAS;oDAAQ,KAAK;oDAAI,YAAY;oDAAU,UAAU;gDAAO;;kEAC7E,8OAAC;wDAAM,OAAO;4DAAE,SAAS;4DAAQ,KAAK;4DAAG,YAAY;4DAAU,UAAU;4DAAI,SAAS;wDAAI;;4DAAG;0EAE3F,8OAAC;gEACC,MAAK;gEACL,KAAK;gEACL,KAAK;gEACL,OAAO,aAAa,oBAAoB;gEACxC,UAAU,CAAC,IACT,gBAAgB,CAAC,OAAS,CAAC;4EAAE,GAAG,IAAI;4EAAE,sBAAsB,OAAO,EAAE,MAAM,CAAC,KAAK;wEAAE,CAAC;gEAEtF,OAAO;oEACL,OAAO;oEACP,SAAS;oEACT,cAAc;oEACd,QAAQ;oEACR,YAAY;oEACZ,OAAO;gEACT;;;;;;;;;;;;kEAGJ,8OAAC;wDAAM,OAAO;4DAAE,SAAS;4DAAQ,KAAK;4DAAG,YAAY;4DAAU,UAAU;4DAAI,SAAS;wDAAI;;4DAAG;0EAE3F,8OAAC;gEACC,MAAK;gEACL,OAAO;gEACP,UAAU,CAAC,IAAM,WAAW,OAAO,EAAE,MAAM,CAAC,KAAK;gEACjD,OAAO;oEACL,OAAO;oEACP,SAAS;oEACT,cAAc;oEACd,QAAQ;oEACR,YAAY;oEACZ,OAAO;gEACT;;;;;;;;;;;;kEAGJ,8OAAC;wDACC,SAAS;wDACT,UAAU;wDACV,OAAO;4DACL,SAAS;4DACT,cAAc;4DACd,QAAQ;4DACR,YAAY;4DACZ,OAAO;4DACP,YAAY;4DACZ,QAAQ,aAAa,YAAY;4DACjC,SAAS,aAAa,MAAM;wDAC9B;kEAEC,aAAa,eAAe;;;;;;;;;;;;;;;;;;kDAKnC,8OAAC;wCAAQ,OAAO;4CAAE,WAAW;wCAAG;;0DAC9B,8OAAC;gDAAQ,OAAO;oDAAE,QAAQ;oDAAW,YAAY;gDAAI;0DAAG;;;;;;0DACxD,8OAAC;gDAAI,OAAO;oDAAE,WAAW;oDAAI,SAAS;oDAAQ,KAAK;gDAAG;;kEACpD,8OAAC;wDAAI,OAAO;4DAAE,SAAS;4DAAQ,qBAAqB;4DAA4B,KAAK;wDAAG;;0EACtF,8OAAC;gEAAM,OAAO;oEAAE,SAAS;oEAAQ,KAAK;oEAAG,UAAU;oEAAI,SAAS;gEAAI;;oEAAG;kFAErE,8OAAC;wEACC,MAAK;wEACL,KAAK;wEACL,MAAM;wEACN,OAAO,aAAa,0BAA0B;wEAC9C,UAAU,CAAC,IACT,gBAAgB,CAAC,OAAS,CAAC;oFAAE,GAAG,IAAI;oFAAE,4BAA4B,OAAO,EAAE,MAAM,CAAC,KAAK;gFAAE,CAAC;wEAE5F,OAAO;4EACL,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;;;;;;;0EAGJ,8OAAC;gEAAM,OAAO;oEAAE,SAAS;oEAAQ,KAAK;oEAAG,UAAU;oEAAI,SAAS;gEAAI;;oEAAG;kFAErE,8OAAC;wEACC,MAAK;wEACL,KAAK;wEACL,KAAK;wEACL,MAAM;wEACN,OAAO,aAAa,eAAe;wEACnC,UAAU,CAAC,IAAM,gBAAgB,CAAC,OAAS,CAAC;oFAAE,GAAG,IAAI;oFAAE,iBAAiB,OAAO,EAAE,MAAM,CAAC,KAAK;gFAAE,CAAC;wEAChG,OAAO;4EACL,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;;;;;;;0EAGJ,8OAAC;gEAAM,OAAO;oEAAE,SAAS;oEAAQ,KAAK;oEAAG,UAAU;oEAAI,SAAS;gEAAI;;oEAAG;kFAErE,8OAAC;wEACC,MAAK;wEACL,KAAK;wEACL,KAAK;wEACL,MAAM;wEACN,OAAO,aAAa,kBAAkB;wEACtC,UAAU,CAAC,IACT,gBAAgB,CAAC,OAAS,CAAC;oFAAE,GAAG,IAAI;oFAAE,oBAAoB,OAAO,EAAE,MAAM,CAAC,KAAK;gFAAE,CAAC;wEAEpF,OAAO;4EACL,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;;;;;;;;;;;;;kEAKN,8OAAC;wDAAI,OAAO;4DAAE,SAAS;4DAAQ,qBAAqB;4DAA4B,KAAK;wDAAG;;0EACtF,8OAAC;gEAAM,OAAO;oEAAE,SAAS;oEAAQ,KAAK;oEAAG,UAAU;oEAAI,SAAS;gEAAI;;oEAAG;kFAErE,8OAAC;wEACC,MAAK;wEACL,KAAK;wEACL,KAAK;wEACL,MAAM;wEACN,OAAO,aAAa,WAAW;wEAC/B,UAAU,CAAC,IAAM,gBAAgB,CAAC,OAAS,CAAC;oFAAE,GAAG,IAAI;oFAAE,aAAa,OAAO,EAAE,MAAM,CAAC,KAAK;gFAAE,CAAC;wEAC5F,OAAO;4EACL,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;;;;;;;0EAGJ,8OAAC;gEAAM,OAAO;oEAAE,SAAS;oEAAQ,KAAK;oEAAG,UAAU;oEAAI,SAAS;gEAAI;;oEAAG;kFAErE,8OAAC;wEACC,MAAK;wEACL,KAAK;wEACL,KAAK;wEACL,MAAM;wEACN,OAAO,aAAa,sBAAsB;wEAC1C,UAAU,CAAC,IACT,gBAAgB,CAAC,OAAS,CAAC;oFAAE,GAAG,IAAI;oFAAE,wBAAwB,OAAO,EAAE,MAAM,CAAC,KAAK;gFAAE,CAAC;wEAExF,OAAO;4EACL,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;;;;;;;0EAGJ,8OAAC;gEAAM,OAAO;oEAAE,SAAS;oEAAQ,KAAK;oEAAG,UAAU;oEAAI,SAAS;gEAAI;;oEAAG;kFAErE,8OAAC;wEACC,MAAK;wEACL,KAAK;wEACL,KAAK;wEACL,MAAM;wEACN,OAAO,aAAa,KAAK;wEACzB,UAAU,CAAC,IAAM,gBAAgB,CAAC,OAAS,CAAC;oFAAE,GAAG,IAAI;oFAAE,OAAO,OAAO,EAAE,MAAM,CAAC,KAAK;gFAAE,CAAC;wEACtF,OAAO;4EACL,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;;;;;;;;;;;;;kEAKN,8OAAC;wDAAI,OAAO;4DAAE,SAAS;4DAAQ,qBAAqB;4DAA4B,KAAK;wDAAG;;0EACtF,8OAAC;gEAAM,OAAO;oEAAE,SAAS;oEAAQ,KAAK;oEAAG,UAAU;oEAAI,SAAS;gEAAI;;oEAAG;kFAErE,8OAAC;wEACC,MAAK;wEACL,KAAK;wEACL,KAAK;wEACL,MAAM;wEACN,OAAO,aAAa,WAAW;wEAC/B,UAAU,CAAC,IAAM,gBAAgB,CAAC,OAAS,CAAC;oFAAE,GAAG,IAAI;oFAAE,aAAa,OAAO,EAAE,MAAM,CAAC,KAAK;gFAAE,CAAC;wEAC5F,OAAO;4EACL,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;;;;;;;0EAGJ,8OAAC;gEAAM,OAAO;oEAAE,SAAS;oEAAQ,KAAK;oEAAG,UAAU;oEAAI,SAAS;gEAAI;;oEAAG;kFAErE,8OAAC;wEACC,MAAK;wEACL,KAAK;wEACL,KAAK;wEACL,MAAM;wEACN,OAAO,aAAa,WAAW;wEAC/B,UAAU,CAAC,IAAM,gBAAgB,CAAC,OAAS,CAAC;oFAAE,GAAG,IAAI;oFAAE,aAAa,OAAO,EAAE,MAAM,CAAC,KAAK;gFAAE,CAAC;wEAC5F,OAAO;4EACL,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;;;;;;;0EAGJ,8OAAC;gEAAM,OAAO;oEAAE,SAAS;oEAAQ,KAAK;oEAAG,UAAU;oEAAI,SAAS;gEAAI;;oEAAG;kFAErE,8OAAC;wEACC,MAAK;wEACL,KAAK;wEACL,KAAK;wEACL,MAAM;wEACN,OAAO,aAAa,mBAAmB;wEACvC,UAAU,CAAC,IACT,gBAAgB,CAAC,OAAS,CAAC;oFAAE,GAAG,IAAI;oFAAE,qBAAqB,OAAO,EAAE,MAAM,CAAC,KAAK;gFAAE,CAAC;wEAErF,OAAO;4EACL,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;;;;;;;;;;;;;kEAKN,8OAAC;wDAAI,OAAO;4DAAE,SAAS;4DAAQ,qBAAqB;4DAA4B,KAAK;wDAAG;;0EACtF,8OAAC;gEAAM,OAAO;oEAAE,SAAS;oEAAQ,KAAK;oEAAG,UAAU;oEAAI,SAAS;gEAAI;;oEAAG;kFAErE,8OAAC;wEACC,MAAK;wEACL,KAAK;wEACL,KAAK;wEACL,MAAM;wEACN,OAAO,aAAa,kBAAkB;wEACtC,UAAU,CAAC,IACT,gBAAgB,CAAC,OAAS,CAAC;oFAAE,GAAG,IAAI;oFAAE,oBAAoB,OAAO,EAAE,MAAM,CAAC,KAAK;gFAAE,CAAC;wEAEpF,OAAO;4EACL,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;;;;;;;0EAGJ,8OAAC;gEAAM,OAAO;oEAAE,SAAS;oEAAQ,KAAK;oEAAG,UAAU;oEAAI,SAAS;gEAAI;;oEAAG;kFAErE,8OAAC;wEACC,MAAK;wEACL,KAAK;wEACL,KAAK;wEACL,MAAM;wEACN,OAAO,aAAa,eAAe;wEACnC,UAAU,CAAC,IAAM,gBAAgB,CAAC,OAAS,CAAC;oFAAE,GAAG,IAAI;oFAAE,iBAAiB,OAAO,EAAE,MAAM,CAAC,KAAK;gFAAE,CAAC;wEAChG,OAAO;4EACL,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;;;;;;;0EAGJ,8OAAC;gEAAM,OAAO;oEAAE,SAAS;oEAAQ,KAAK;oEAAG,UAAU;oEAAI,SAAS;gEAAI;;oEAAG;kFAErE,8OAAC;wEACC,MAAK;wEACL,KAAK;wEACL,KAAK;wEACL,MAAM;wEACN,OAAO,aAAa,WAAW;wEAC/B,UAAU,CAAC,IAAM,gBAAgB,CAAC,OAAS,CAAC;oFAAE,GAAG,IAAI;oFAAE,aAAa,OAAO,EAAE,MAAM,CAAC,KAAK;gFAAE,CAAC;wEAC5F,OAAO;4EACL,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;;;;;;;;;;;;;kEAKN,8OAAC;wDAAI,OAAO;4DAAE,SAAS;4DAAQ,qBAAqB;4DAA4B,KAAK;wDAAG;;0EACtF,8OAAC;gEAAM,OAAO;oEAAE,SAAS;oEAAQ,KAAK;oEAAG,UAAU;oEAAI,SAAS;gEAAI;;oEAAG;kFAErE,8OAAC;wEACC,MAAK;wEACL,KAAK;wEACL,KAAK;wEACL,MAAM;wEACN,OAAO,aAAa,OAAO;wEAC3B,UAAU,CAAC,IAAM,gBAAgB,CAAC,OAAS,CAAC;oFAAE,GAAG,IAAI;oFAAE,SAAS,OAAO,EAAE,MAAM,CAAC,KAAK;gFAAE,CAAC;wEACxF,OAAO;4EACL,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;;;;;;;0EAGJ,8OAAC;gEAAM,OAAO;oEAAE,SAAS;oEAAQ,KAAK;oEAAG,UAAU;oEAAI,SAAS;gEAAI;;oEAAG;kFAErE,8OAAC;wEACC,MAAK;wEACL,KAAK;wEACL,KAAK;wEACL,MAAM;wEACN,OAAO,aAAa,wBAAwB;wEAC5C,UAAU,CAAC,IACT,gBAAgB,CAAC,OAAS,CAAC;oFAAE,GAAG,IAAI;oFAAE,0BAA0B,OAAO,EAAE,MAAM,CAAC,KAAK;gFAAE,CAAC;wEAE1F,OAAO;4EACL,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;;;;;;;0EAGJ,8OAAC;gEAAM,OAAO;oEAAE,SAAS;oEAAQ,KAAK;oEAAG,UAAU;oEAAI,SAAS;gEAAI;;oEAAG;kFAErE,8OAAC;wEACC,MAAK;wEACL,KAAK;wEACL,KAAK;wEACL,MAAM;wEACN,OAAO,aAAa,4BAA4B;wEAChD,UAAU,CAAC,IACT,gBAAgB,CAAC,OAAS,CAAC;oFAAE,GAAG,IAAI;oFAAE,8BAA8B,OAAO,EAAE,MAAM,CAAC,KAAK;gFAAE,CAAC;wEAE9F,OAAO;4EACL,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;;;;;;;;;;;;;kEAKN,8OAAC;wDAAI,OAAO;4DAAE,SAAS;4DAAQ,UAAU;4DAAQ,KAAK;4DAAI,UAAU;wDAAG;;0EACrE,8OAAC;gEAAM,OAAO;oEAAE,SAAS;oEAAQ,YAAY;oEAAU,KAAK;gEAAE;;kFAC5D,8OAAC;wEACC,MAAK;wEACL,SAAS,aAAa,gBAAgB;wEACtC,UAAU,CAAC,IAAM,gBAAgB,CAAC,OAAS,CAAC;oFAAE,GAAG,IAAI;oFAAE,kBAAkB,EAAE,MAAM,CAAC,OAAO;gFAAC,CAAC;;;;;;oEAC3F;;;;;;;0EAGJ,8OAAC;gEAAM,OAAO;oEAAE,SAAS;oEAAQ,YAAY;oEAAU,KAAK;gEAAE;;kFAC5D,8OAAC;wEACC,MAAK;wEACL,SAAS,aAAa,iBAAiB;wEACvC,UAAU,CAAC,IAAM,gBAAgB,CAAC,OAAS,CAAC;oFAAE,GAAG,IAAI;oFAAE,mBAAmB,EAAE,MAAM,CAAC,OAAO;gFAAC,CAAC;;;;;;oEAC5F;;;;;;;0EAGJ,8OAAC;gEAAM,OAAO;oEAAE,SAAS;oEAAQ,YAAY;oEAAU,KAAK;gEAAE;;kFAC5D,8OAAC;wEACC,MAAK;wEACL,SAAS;wEACT,UAAU,CAAC,IAAM,iBAAiB,EAAE,MAAM,CAAC,OAAO;;;;;;oEAClD;;;;;;;0EAGJ,8OAAC;gEAAM,OAAO;oEAAE,SAAS;oEAAQ,YAAY;oEAAU,KAAK;gEAAE;;kFAC5D,8OAAC;wEAAM,MAAK;wEAAW,SAAS;wEAAa,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,OAAO;;;;;;oEAAK;;;;;;;;;;;;;oDAKrG,8BACC,8OAAC;wDAAI,OAAO;4DAAE,SAAS;4DAAQ,qBAAqB;4DAA4B,KAAK;wDAAG;;0EACtF,8OAAC;gEAAM,OAAO;oEAAE,SAAS;oEAAQ,KAAK;oEAAG,UAAU;oEAAI,SAAS;gEAAI;;oEAAG;kFAErE,8OAAC;wEACC,MAAK;wEACL,KAAK;wEACL,KAAK;wEACL,MAAM;wEACN,OAAO;wEACP,UAAU,CAAC,IAAM,cAAc,OAAO,EAAE,MAAM,CAAC,KAAK;wEACpD,OAAO;4EACL,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;;;;;;;0EAGJ,8OAAC;gEAAM,OAAO;oEAAE,SAAS;oEAAQ,KAAK;oEAAG,UAAU;oEAAI,SAAS;gEAAI;;oEAAG;kFAErE,8OAAC;wEACC,MAAK;wEACL,KAAK;wEACL,KAAK;wEACL,MAAM;wEACN,OAAO;wEACP,UAAU,CAAC,IAAM,mBAAmB,OAAO,EAAE,MAAM,CAAC,KAAK;wEACzD,OAAO;4EACL,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;;;;;;;0EAGJ,8OAAC;gEAAM,OAAO;oEAAE,SAAS;oEAAQ,KAAK;oEAAG,UAAU;oEAAI,SAAS;gEAAI;;oEAAG;kFAErE,8OAAC;wEACC,MAAK;wEACL,KAAK;wEACL,KAAK;wEACL,MAAM;wEACN,OAAO;wEACP,UAAU,CAAC,IAAM,kBAAkB,OAAO,EAAE,MAAM,CAAC,KAAK;wEACxD,OAAO;4EACL,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;;;;;;;0EAGJ,8OAAC;gEAAM,OAAO;oEAAE,SAAS;oEAAQ,KAAK;oEAAG,UAAU;oEAAI,SAAS;gEAAI;;oEAAG;kFAErE,8OAAC;wEACC,MAAK;wEACL,KAAK;wEACL,KAAK;wEACL,MAAM;wEACN,OAAO;wEACP,UAAU,CAAC,IAAM,oBAAoB,OAAO,EAAE,MAAM,CAAC,KAAK;wEAC1D,OAAO;4EACL,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;;;;;;;0EAGJ,8OAAC;gEAAM,OAAO;oEAAE,SAAS;oEAAQ,KAAK;oEAAG,UAAU;oEAAI,SAAS;gEAAI;;oEAAG;kFAErE,8OAAC;wEACC,MAAK;wEACL,KAAK;wEACL,KAAK;wEACL,MAAM;wEACN,OAAO,aAAa,2BAA2B;wEAC/C,UAAU,CAAC,IACT,gBAAgB,CAAC,OAAS,CAAC;oFAAE,GAAG,IAAI;oFAAE,6BAA6B,OAAO,EAAE,MAAM,CAAC,KAAK;gFAAE,CAAC;wEAE7F,OAAO;4EACL,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;;;;;;;;;;;;6EAKN,8OAAC;wDAAI,OAAO;4DAAE,SAAS;4DAAQ,qBAAqB;4DAA4B,KAAK;wDAAG;kEACtF,cAAA,8OAAC;4DAAM,OAAO;gEAAE,SAAS;gEAAQ,KAAK;gEAAG,UAAU;gEAAI,SAAS;4DAAI;;gEAAG;8EAErE,8OAAC;oEACC,MAAK;oEACL,KAAK;oEACL,KAAK;oEACL,MAAM;oEACN,OAAO,aAAa,2BAA2B;oEAC/C,UAAU,CAAC,IACT,gBAAgB,CAAC,OAAS,CAAC;gFAAE,GAAG,IAAI;gFAAE,6BAA6B,OAAO,EAAE,MAAM,CAAC,KAAK;4EAAE,CAAC;oEAE7F,OAAO;wEACL,SAAS;wEACT,cAAc;wEACd,QAAQ;wEACR,YAAY;wEACZ,OAAO;oEACT;;;;;;;;;;;;;;;;;oDAMP,iBAAiB,4BAChB,8OAAC;wDAAI,OAAO;4DAAE,GAAG,OAAO;4DAAE,SAAS;4DAAQ,KAAK;wDAAG;;0EACjD,8OAAC;gEAAI,OAAO;oEAAE,YAAY;gEAAI;0EAAG;;;;;;0EACjC,8OAAC;gEAAI,OAAO;oEAAE,SAAS;oEAAQ,qBAAqB;oEAA4B,KAAK;oEAAG,UAAU;gEAAG;;kFACnG,8OAAC;wEAAI,OAAO;4EAAE,SAAS;wEAAI;kFAAG;;;;;;kFAC9B,8OAAC;wEAAI,OAAO;4EAAE,SAAS;wEAAI;kFAAG;;;;;;kFAC9B,8OAAC;wEAAI,OAAO;4EAAE,SAAS;wEAAI;kFAAG;;;;;;kFAC9B,8OAAC;wEAAI,OAAO;4EAAE,SAAS;wEAAI;kFAAG;;;;;;kFAC9B,8OAAC;wEAAI,OAAO;4EAAE,SAAS;wEAAI;kFAAG;;;;;;kFAC9B,8OAAC;wEAAI,OAAO;4EAAE,SAAS;wEAAI;kFAAG;;;;;;kFAE9B,8OAAC;kFAAI;;;;;;kFACL,8OAAC;kFACC,cAAA,8OAAC;4EACC,MAAK;4EACL,SAAS,YAAY,KAAK,CAAC,OAAO;4EAClC,UAAU,CAAC,IACT,eAAe,CAAC,OAAS,CAAC;wFAAE,GAAG,IAAI;wFAAE,OAAO;4FAAE,GAAG,KAAK,KAAK;4FAAE,SAAS,EAAE,MAAM,CAAC,OAAO;wFAAC;oFAAE,CAAC;;;;;;;;;;;kFAIhG,8OAAC;wEACC,MAAK;wEACL,OAAO,YAAY,KAAK,CAAC,GAAG;wEAC5B,UAAU,CAAC,IACT,eAAe,CAAC,OAAS,CAAC;oFAAE,GAAG,IAAI;oFAAE,OAAO;wFAAE,GAAG,KAAK,KAAK;wFAAE,KAAK,OAAO,EAAE,MAAM,CAAC,KAAK;oFAAE;gFAAE,CAAC;wEAE9F,OAAO;4EACL,OAAO;4EACP,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;kFAEF,8OAAC;wEACC,MAAK;wEACL,OAAO,YAAY,KAAK,CAAC,GAAG;wEAC5B,UAAU,CAAC,IACT,eAAe,CAAC,OAAS,CAAC;oFAAE,GAAG,IAAI;oFAAE,OAAO;wFAAE,GAAG,KAAK,KAAK;wFAAE,KAAK,OAAO,EAAE,MAAM,CAAC,KAAK;oFAAE;gFAAE,CAAC;wEAE9F,OAAO;4EACL,OAAO;4EACP,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;kFAEF,8OAAC;wEACC,MAAK;wEACL,OAAO,YAAY,KAAK,CAAC,IAAI;wEAC7B,UAAU,CAAC,IACT,eAAe,CAAC,OAAS,CAAC;oFAAE,GAAG,IAAI;oFAAE,OAAO;wFAAE,GAAG,KAAK,KAAK;wFAAE,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK;oFAAE;gFAAE,CAAC;wEAE/F,OAAO;4EACL,OAAO;4EACP,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;kFAEF,8OAAC;wEAAI,OAAO;4EAAE,SAAS;wEAAI;kFAAG;;;;;;kFAE9B,8OAAC;kFAAI;;;;;;kFACL,8OAAC;kFACC,cAAA,8OAAC;4EACC,MAAK;4EACL,SAAS,YAAY,mBAAmB,CAAC,OAAO;4EAChD,UAAU,CAAC,IACT,eAAe,CAAC,OAAS,CAAC;wFACxB,GAAG,IAAI;wFACP,qBAAqB;4FAAE,GAAG,KAAK,mBAAmB;4FAAE,SAAS,EAAE,MAAM,CAAC,OAAO;wFAAC;oFAChF,CAAC;;;;;;;;;;;kFAIP,8OAAC;wEACC,MAAK;wEACL,OAAO,YAAY,mBAAmB,CAAC,GAAG;wEAC1C,UAAU,CAAC,IACT,eAAe,CAAC,OAAS,CAAC;oFACxB,GAAG,IAAI;oFACP,qBAAqB;wFAAE,GAAG,KAAK,mBAAmB;wFAAE,KAAK,OAAO,EAAE,MAAM,CAAC,KAAK;oFAAE;gFAClF,CAAC;wEAEH,OAAO;4EACL,OAAO;4EACP,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;kFAEF,8OAAC;wEACC,MAAK;wEACL,OAAO,YAAY,mBAAmB,CAAC,GAAG;wEAC1C,UAAU,CAAC,IACT,eAAe,CAAC,OAAS,CAAC;oFACxB,GAAG,IAAI;oFACP,qBAAqB;wFAAE,GAAG,KAAK,mBAAmB;wFAAE,KAAK,OAAO,EAAE,MAAM,CAAC,KAAK;oFAAE;gFAClF,CAAC;wEAEH,OAAO;4EACL,OAAO;4EACP,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;kFAEF,8OAAC;wEACC,MAAK;wEACL,OAAO,YAAY,mBAAmB,CAAC,IAAI;wEAC3C,UAAU,CAAC,IACT,eAAe,CAAC,OAAS,CAAC;oFACxB,GAAG,IAAI;oFACP,qBAAqB;wFAAE,GAAG,KAAK,mBAAmB;wFAAE,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK;oFAAE;gFACnF,CAAC;wEAEH,OAAO;4EACL,OAAO;4EACP,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;kFAEF,8OAAC;wEAAI,OAAO;4EAAE,SAAS;wEAAI;kFAAG;;;;;;kFAE9B,8OAAC;kFAAI;;;;;;kFACL,8OAAC;kFACC,cAAA,8OAAC;4EACC,MAAK;4EACL,SAAS,YAAY,kBAAkB,CAAC,OAAO;4EAC/C,UAAU,CAAC,IACT,eAAe,CAAC,OAAS,CAAC;wFACxB,GAAG,IAAI;wFACP,oBAAoB;4FAAE,GAAG,KAAK,kBAAkB;4FAAE,SAAS,EAAE,MAAM,CAAC,OAAO;wFAAC;oFAC9E,CAAC;;;;;;;;;;;kFAIP,8OAAC;wEACC,MAAK;wEACL,OAAO,YAAY,kBAAkB,CAAC,GAAG;wEACzC,UAAU,CAAC,IACT,eAAe,CAAC,OAAS,CAAC;oFACxB,GAAG,IAAI;oFACP,oBAAoB;wFAAE,GAAG,KAAK,kBAAkB;wFAAE,KAAK,OAAO,EAAE,MAAM,CAAC,KAAK;oFAAE;gFAChF,CAAC;wEAEH,OAAO;4EACL,OAAO;4EACP,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;kFAEF,8OAAC;wEACC,MAAK;wEACL,OAAO,YAAY,kBAAkB,CAAC,GAAG;wEACzC,UAAU,CAAC,IACT,eAAe,CAAC,OAAS,CAAC;oFACxB,GAAG,IAAI;oFACP,oBAAoB;wFAAE,GAAG,KAAK,kBAAkB;wFAAE,KAAK,OAAO,EAAE,MAAM,CAAC,KAAK;oFAAE;gFAChF,CAAC;wEAEH,OAAO;4EACL,OAAO;4EACP,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;kFAEF,8OAAC;wEACC,MAAK;wEACL,OAAO,YAAY,kBAAkB,CAAC,IAAI;wEAC1C,UAAU,CAAC,IACT,eAAe,CAAC,OAAS,CAAC;oFACxB,GAAG,IAAI;oFACP,oBAAoB;wFAAE,GAAG,KAAK,kBAAkB;wFAAE,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK;oFAAE;gFACjF,CAAC;wEAEH,OAAO;4EACL,OAAO;4EACP,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;kFAEF,8OAAC;wEAAI,OAAO;4EAAE,SAAS;wEAAI;kFAAG;;;;;;kFAE9B,8OAAC;kFAAI;;;;;;kFACL,8OAAC;kFACC,cAAA,8OAAC;4EACC,MAAK;4EACL,SAAS,YAAY,WAAW,CAAC,OAAO;4EACxC,UAAU,CAAC,IACT,eAAe,CAAC,OAAS,CAAC;wFAAE,GAAG,IAAI;wFAAE,aAAa;4FAAE,GAAG,KAAK,WAAW;4FAAE,SAAS,EAAE,MAAM,CAAC,OAAO;wFAAC;oFAAE,CAAC;;;;;;;;;;;kFAI5G,8OAAC;wEACC,MAAK;wEACL,OAAO,YAAY,WAAW,CAAC,GAAG;wEAClC,UAAU,CAAC,IACT,eAAe,CAAC,OAAS,CAAC;oFAAE,GAAG,IAAI;oFAAE,aAAa;wFAAE,GAAG,KAAK,WAAW;wFAAE,KAAK,OAAO,EAAE,MAAM,CAAC,KAAK;oFAAE;gFAAE,CAAC;wEAE1G,OAAO;4EACL,OAAO;4EACP,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;kFAEF,8OAAC;wEACC,MAAK;wEACL,OAAO,YAAY,WAAW,CAAC,GAAG;wEAClC,UAAU,CAAC,IACT,eAAe,CAAC,OAAS,CAAC;oFAAE,GAAG,IAAI;oFAAE,aAAa;wFAAE,GAAG,KAAK,WAAW;wFAAE,KAAK,OAAO,EAAE,MAAM,CAAC,KAAK;oFAAE;gFAAE,CAAC;wEAE1G,OAAO;4EACL,OAAO;4EACP,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;kFAEF,8OAAC;wEACC,MAAK;wEACL,OAAO,YAAY,WAAW,CAAC,IAAI;wEACnC,UAAU,CAAC,IACT,eAAe,CAAC,OAAS,CAAC;oFAAE,GAAG,IAAI;oFAAE,aAAa;wFAAE,GAAG,KAAK,WAAW;wFAAE,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK;oFAAE;gFAAE,CAAC;wEAE3G,OAAO;4EACL,OAAO;4EACP,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;kFAEF,8OAAC;wEAAI,OAAO;4EAAE,SAAS;wEAAI;kFAAG;;;;;;kFAE9B,8OAAC;kFAAI;;;;;;kFACL,8OAAC;kFACC,cAAA,8OAAC;4EACC,MAAK;4EACL,SAAS,YAAY,sBAAsB,CAAC,OAAO;4EACnD,UAAU,CAAC,IACT,eAAe,CAAC,OAAS,CAAC;wFACxB,GAAG,IAAI;wFACP,wBAAwB;4FAAE,GAAG,KAAK,sBAAsB;4FAAE,SAAS,EAAE,MAAM,CAAC,OAAO;wFAAC;oFACtF,CAAC;;;;;;;;;;;kFAIP,8OAAC;wEACC,MAAK;wEACL,OAAO,YAAY,sBAAsB,CAAC,GAAG;wEAC7C,UAAU,CAAC,IACT,eAAe,CAAC,OAAS,CAAC;oFACxB,GAAG,IAAI;oFACP,wBAAwB;wFAAE,GAAG,KAAK,sBAAsB;wFAAE,KAAK,OAAO,EAAE,MAAM,CAAC,KAAK;oFAAE;gFACxF,CAAC;wEAEH,OAAO;4EACL,OAAO;4EACP,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;kFAEF,8OAAC;wEACC,MAAK;wEACL,OAAO,YAAY,sBAAsB,CAAC,GAAG;wEAC7C,UAAU,CAAC,IACT,eAAe,CAAC,OAAS,CAAC;oFACxB,GAAG,IAAI;oFACP,wBAAwB;wFAAE,GAAG,KAAK,sBAAsB;wFAAE,KAAK,OAAO,EAAE,MAAM,CAAC,KAAK;oFAAE;gFACxF,CAAC;wEAEH,OAAO;4EACL,OAAO;4EACP,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;kFAEF,8OAAC;wEACC,MAAK;wEACL,OAAO,YAAY,sBAAsB,CAAC,IAAI;wEAC9C,UAAU,CAAC,IACT,eAAe,CAAC,OAAS,CAAC;oFACxB,GAAG,IAAI;oFACP,wBAAwB;wFAAE,GAAG,KAAK,sBAAsB;wFAAE,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK;oFAAE;gFACzF,CAAC;wEAEH,OAAO;4EACL,OAAO;4EACP,SAAS;4EACT,cAAc;4EACd,QAAQ;4EACR,YAAY;4EACZ,OAAO;wEACT;;;;;;kFAEF,8OAAC;wEAAI,OAAO;4EAAE,SAAS;wEAAI;kFAAG;;;;;;;;;;;;0EAGhC,8OAAC;gEAAI,OAAO;oEAAE,SAAS;oEAAQ,KAAK;oEAAI,UAAU;gEAAG;;kFACnD,8OAAC;wEAAM,OAAO;4EAAE,SAAS;4EAAQ,YAAY;4EAAU,KAAK;wEAAE;;0FAC5D,8OAAC;gFACC,MAAK;gFACL,SAAS,YAAY,iBAAiB,CAAC,OAAO;gFAC9C,UAAU,CAAC,IACT,eAAe,CAAC,OAAS,CAAC;4FACxB,GAAG,IAAI;4FACP,mBAAmB;gGAAE,SAAS,EAAE,MAAM,CAAC,OAAO;4FAAC;wFACjD,CAAC;;;;;;4EAEH;;;;;;;kFAGJ,8OAAC;wEAAM,OAAO;4EAAE,SAAS;4EAAQ,YAAY;4EAAU,KAAK;wEAAE;;0FAC5D,8OAAC;gFACC,MAAK;gFACL,SAAS,YAAY,gBAAgB,CAAC,OAAO;gFAC7C,UAAU,CAAC,IACT,eAAe,CAAC,OAAS,CAAC;4FACxB,GAAG,IAAI;4FACP,kBAAkB;gGAAE,SAAS,EAAE,MAAM,CAAC,OAAO;4FAAC;wFAChD,CAAC;;;;;;4EAEH;;;;;;;;;;;;;;;;;;+DAKN;;;;;;;;;;;;;oCAIP,yBACC,8OAAC;wCAAI,OAAO;4CAAE,WAAW;4CAAG,SAAS;4CAAI,cAAc;4CAAI,YAAY;wCAAqB;;0DAC1F,8OAAC;0DAAO;;;;;;4CAAe;4CAAE;;;;;;+CAEzB;oCAEH,2BACC,8OAAC;wCAAI,OAAO;4CAAE,WAAW;4CAAI,SAAS;4CAAQ,KAAK;wCAAG;;0DACpD,8OAAC;gDAAI,OAAO;oDAAE,SAAS;oDAAQ,qBAAqB;oDAA4B,KAAK;gDAAG;;kEACtF,8OAAC;wDAAI,OAAO;;0EACV,8OAAC;gEAAI,OAAO;oEAAE,SAAS;gEAAK;0EAAG;;;;;;0EAC/B,8OAAC;gEAAI,OAAO;oEAAE,YAAY;gEAAI;;oEAAG;oEAAE,IAAI,WAAW,WAAW,EAAE;;;;;;;;;;;;;kEAEjE,8OAAC;wDAAI,OAAO;;0EACV,8OAAC;gEAAI,OAAO;oEAAE,SAAS;gEAAK;0EAAG;;;;;;0EAC/B,8OAAC;gEAAI,OAAO;oEAAE,YAAY;gEAAI;;oEAAG;oEAAE,IAAI,WAAW,SAAS,EAAE;;;;;;;;;;;;;kEAE/D,8OAAC;wDAAI,OAAO;;0EACV,8OAAC;gEAAI,OAAO;oEAAE,SAAS;gEAAK;0EAAG;;;;;;0EAC/B,8OAAC;gEAAI,OAAO;oEAAE,YAAY;gEAAI;;oEAAG;oEAAE,IAAI,WAAW,YAAY,EAAE;;;;;;;;;;;;;kEAElE,8OAAC;wDAAI,OAAO;;0EACV,8OAAC;gEAAI,OAAO;oEAAE,SAAS;gEAAK;0EAAG;;;;;;0EAC/B,8OAAC;gEAAI,OAAO;oEAAE,YAAY;gEAAI;0EAAI,WAAW,SAAS,GAAG,QAAQ;;;;;;;;;;;;;;;;;;0DAIrE,8OAAC;gDAAI,OAAO;oDAAE,SAAS;oDAAQ,qBAAqB;oDAA4B,KAAK;gDAAG;;kEACtF,8OAAC;wDAAI,OAAO;;0EACV,8OAAC;gEAAI,OAAO;oEAAE,SAAS;gEAAK;0EAAG;;;;;;0EAC/B,8OAAC;gEAAI,OAAO;oEAAE,YAAY;gEAAI;0EAAI,WAAW,UAAU;;;;;;;;;;;;kEAEzD,8OAAC;wDAAI,OAAO;;0EACV,8OAAC;gEAAI,OAAO;oEAAE,SAAS;gEAAK;0EAAG;;;;;;0EAC/B,8OAAC;gEAAI,OAAO;oEAAE,YAAY;gEAAI;;oEAAI,IAAI,WAAW,OAAO,GAAG,KAAK;oEAAG;;;;;;;;;;;;;kEAErE,8OAAC;wDAAI,OAAO;;0EACV,8OAAC;gEAAI,OAAO;oEAAE,SAAS;gEAAK;0EAAG;;;;;;0EAC/B,8OAAC;gEAAI,OAAO;oEAAE,YAAY;gEAAI;0EAAI,IAAI,WAAW,WAAW,EAAE;;;;;;;;;;;;kEAEhE,8OAAC;wDAAI,OAAO;;0EACV,8OAAC;gEAAI,OAAO;oEAAE,SAAS;gEAAK;0EAAG;;;;;;0EAC/B,8OAAC;gEAAI,OAAO;oEAAE,YAAY;gEAAI;;oEAAI,IAAI,WAAW,cAAc,EAAE;oEAAG;;;;;;;;;;;;;;;;;;;0DAIxE,8OAAC;gDAAI,OAAO;oDAAE,SAAS;oDAAQ,qBAAqB;oDAA4B,KAAK;gDAAG;;kEACtF,8OAAC;wDAAI,OAAO;;0EACV,8OAAC;gEAAI,OAAO;oEAAE,SAAS;gEAAK;0EAAG;;;;;;0EAC/B,8OAAC;gEAAI,OAAO;oEAAE,YAAY;gEAAI;0EAAI,IAAI,WAAW,YAAY,EAAE;;;;;;;;;;;;kEAEjE,8OAAC;wDAAI,OAAO;;0EACV,8OAAC;gEAAI,OAAO;oEAAE,SAAS;gEAAK;0EAAG;;;;;;0EAC/B,8OAAC;gEAAI,OAAO;oEAAE,YAAY;gEAAI;0EAAI,IAAI,WAAW,IAAI,EAAE;;;;;;;;;;;;kEAEzD,8OAAC;wDAAI,OAAO;;0EACV,8OAAC;gEAAI,OAAO;oEAAE,SAAS;gEAAK;0EAAG;;;;;;0EAC/B,8OAAC;gEAAI,OAAO;oEAAE,YAAY;gEAAI;;oEAAI,IAAI,WAAW,cAAc,EAAE;oEAAG;;;;;;;;;;;;;kEAEtE,8OAAC;wDAAI,OAAO;;0EACV,8OAAC;gEAAI,OAAO;oEAAE,SAAS;gEAAK;0EAAG;;;;;;0EAC/B,8OAAC;gEAAI,OAAO;oEAAE,YAAY;gEAAI;0EAAI,IAAI,WAAW,qBAAqB,EAAE;;;;;;;;;;;;;;;;;;4CAI3E,8BACC,8OAAC;gDAAI,OAAO;oDAAE,SAAS;oDAAK,UAAU;gDAAG;;oDAAG;oDACrB,IAAI,cAAc,MAAM,EAAE;oDAAG;oDAAK,IAAI,KAAK,cAAc,EAAE,EAAE,cAAc;;;;;;uDAEhG;4CAEH,UAAU,MAAM,iBACf,8OAAC;gDAAI,OAAO;oDAAE,WAAW;gDAAO;;kEAC9B,8OAAC;wDAAI,OAAO;4DAAE,YAAY;4DAAK,cAAc;wDAAE;kEAAG;;;;;;kEAClD,8OAAC;wDAAM,OAAO;4DAAE,OAAO;4DAAQ,gBAAgB;wDAAW;;0EACxD,8OAAC;0EACC,cAAA,8OAAC;oEAAG,OAAO;wEAAE,WAAW;wEAAQ,SAAS;oEAAK;;sFAC5C,8OAAC;4EAAG,OAAO;gFAAE,SAAS;4EAAU;sFAAG;;;;;;sFACnC,8OAAC;4EAAG,OAAO;gFAAE,SAAS;4EAAU;sFAAG;;;;;;sFACnC,8OAAC;4EAAG,OAAO;gFAAE,SAAS;4EAAU;sFAAG;;;;;;;;;;;;;;;;;0EAGvC,8OAAC;0EACE,UAAU,KAAK,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,GAAQ,kBACjC,8OAAC;wEAAW,OAAO;4EAAE,WAAW;wEAAmC;;0FACjE,8OAAC;gFAAG,OAAO;oFAAE,SAAS;gFAAU;0FAAI,IAAI,KAAK,EAAE,EAAE,EAAE,kBAAkB;;;;;;0FACrE,8OAAC;gFAAG,OAAO;oFAAE,SAAS;gFAAU;;oFAAG;oFAAE,IAAI,EAAE,MAAM,EAAE;;;;;;;0FACnD,8OAAC;gFAAG,OAAO;oFAAE,SAAS;gFAAU;;oFAAI,IAAI,EAAE,WAAW,EAAE;oFAAG;;;;;;;;uEAHnD;;;;;;;;;;;;;;;;;;;;;uDASf;4CAEH,UAAU,MAAM,iBACf,8OAAC;gDAAI,OAAO;oDAAE,WAAW;gDAAO;;kEAC9B,8OAAC;wDAAI,OAAO;4DAAE,YAAY;4DAAK,cAAc;wDAAE;kEAAG;;;;;;kEAClD,8OAAC;wDAAM,OAAO;4DAAE,OAAO;4DAAQ,gBAAgB;wDAAW;;0EACxD,8OAAC;0EACC,cAAA,8OAAC;oEAAG,OAAO;wEAAE,WAAW;wEAAQ,SAAS;oEAAK;;sFAC5C,8OAAC;4EAAG,OAAO;gFAAE,SAAS;4EAAU;sFAAG;;;;;;sFACnC,8OAAC;4EAAG,OAAO;gFAAE,SAAS;4EAAU;sFAAG;;;;;;sFACnC,8OAAC;4EAAG,OAAO;gFAAE,SAAS;4EAAU;sFAAG;;;;;;sFACnC,8OAAC;4EAAG,OAAO;gFAAE,SAAS;4EAAU;sFAAG;;;;;;sFACnC,8OAAC;4EAAG,OAAO;gFAAE,SAAS;4EAAU;sFAAG;;;;;;sFACnC,8OAAC;4EAAG,OAAO;gFAAE,SAAS;4EAAU;sFAAG;;;;;;;;;;;;;;;;;0EAGvC,8OAAC;0EACE,UAAU,KAAK,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,GAAQ,kBACjC,8OAAC;wEAAW,OAAO;4EAAE,WAAW;wEAAmC;;0FACjE,8OAAC;gFAAG,OAAO;oFAAE,SAAS;oFAAW,YAAY;gFAAI;0FAAI,EAAE,IAAI;;;;;;0FAC3D,8OAAC;gFAAG,OAAO;oFAAE,SAAS;gFAAU;0FAAI,IAAI,EAAE,UAAU,EAAE;;;;;;0FACtD,8OAAC;gFAAG,OAAO;oFAAE,SAAS;gFAAU;0FAAI,IAAI,EAAE,SAAS,EAAE;;;;;;0FACrD,8OAAC;gFAAG,OAAO;oFAAE,SAAS;gFAAU;;oFAAG;oFAAE,IAAI,EAAE,MAAM,EAAE;;;;;;;0FACnD,8OAAC;gFAAG,OAAO;oFAAE,SAAS;gFAAU;0FAAI,IAAI,EAAE,EAAE,EAAE;;;;;;0FAC9C,8OAAC;gFAAG,OAAO;oFAAE,SAAS;gFAAU;0FAAI,EAAE,UAAU;;;;;;;uEANzC;;;;;;;;;;;;;;;;kEAWf,8OAAC;wDAAI,OAAO;4DAAE,WAAW;4DAAG,SAAS;4DAAQ,KAAK;4DAAG,UAAU;wDAAO;;0EACpE,8OAAC;gEACC,MAAK;gEACL,SAAS;gEACT,OAAO;oEACL,SAAS;oEACT,cAAc;oEACd,QAAQ;oEACR,QAAQ;oEACR,YAAY;gEACd;0EACD;;;;;;0EAGD,8OAAC;gEACC,MAAK;gEACL,SAAS;gEACT,UAAU,CAAC,iBAAiB,MAAM;gEAClC,OAAO;oEACL,SAAS;oEACT,cAAc;oEACd,QAAQ;oEACR,QAAQ,iBAAiB,MAAM,GAAG,YAAY;oEAC9C,YAAY;oEACZ,SAAS,iBAAiB,MAAM,GAAG,IAAI;gEACzC;;oEACD;oEAC4B,iBAAiB,MAAM;oEAAC;;;;;;;;;;;;;;;;;;uDAIvD;4CAEH,iBAAiB,MAAM,iBACtB,8OAAC;gDAAI,OAAO;oDAAE,WAAW;gDAAO;;kEAC9B,8OAAC;wDAAI,OAAO;4DAAE,YAAY;4DAAK,cAAc;wDAAE;;4DAAG;4DACjB,iBAAiB,MAAM;4DAAC;;;;;;;kEAEzD,8OAAC;wDAAM,OAAO;4DAAE,OAAO;4DAAQ,gBAAgB;wDAAW;;0EACxD,8OAAC;0EACC,cAAA,8OAAC;oEAAG,OAAO;wEAAE,WAAW;wEAAQ,SAAS;oEAAK;;sFAC5C,8OAAC;4EAAG,OAAO;gFAAE,SAAS;4EAAU;sFAAG;;;;;;sFACnC,8OAAC;4EAAG,OAAO;gFAAE,SAAS;4EAAU;sFAAG;;;;;;sFACnC,8OAAC;4EAAG,OAAO;gFAAE,SAAS;4EAAU;sFAAG;;;;;;sFACnC,8OAAC;4EAAG,OAAO;gFAAE,SAAS;4EAAU;sFAAG;;;;;;sFACnC,8OAAC;4EAAG,OAAO;gFAAE,SAAS;4EAAU;sFAAG;;;;;;sFACnC,8OAAC;4EAAG,OAAO;gFAAE,SAAS;4EAAU;sFAAG;;;;;;sFACnC,8OAAC;4EAAG,OAAO;gFAAE,SAAS;4EAAU;sFAAG;;;;;;sFACnC,8OAAC;4EAAG,OAAO;gFAAE,SAAS;4EAAU;sFAAG;;;;;;;;;;;;;;;;;0EAGvC,8OAAC;0EACE,iBAAiB,KAAK,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,GAAQ,kBACxC,8OAAC;wEAAW,OAAO;4EAAE,WAAW;wEAAmC;;0FACjE,8OAAC;gFAAG,OAAO;oFAAE,SAAS;gFAAU;0FAAI,IAAI,KAAK,EAAE,EAAE,EAAE,kBAAkB;;;;;;0FACrE,8OAAC;gFAAG,OAAO;oFAAE,SAAS;gFAAU;0FAAI,EAAE,SAAS;;;;;;0FAC/C,8OAAC;gFAAG,OAAO;oFAAE,SAAS;oFAAW,YAAY;gFAAI;0FAAI,EAAE,IAAI;;;;;;0FAC3D,8OAAC;gFAAG,OAAO;oFAAE,SAAS;gFAAU;0FAAI,IAAI,EAAE,EAAE,EAAE;;;;;;0FAC9C,8OAAC;gFAAG,OAAO;oFAAE,SAAS;gFAAU;0FAAI,IAAI,EAAE,UAAU,EAAE;;;;;;0FACtD,8OAAC;gFAAG,OAAO;oFAAE,SAAS;gFAAU;0FAAI,EAAE,MAAM;;;;;;0FAC5C,8OAAC;gFAAG,OAAO;oFAAE,SAAS;gFAAU;0FAC7B,MAAM,OAAO,CAAC,EAAE,SAAS,IAAI,EAAE,SAAS,CAAC,IAAI,CAAC,QAAQ;;;;;;0FAEzD,8OAAC;gFAAG,OAAO;oFAAE,SAAS;gFAAU;0FAC7B,MAAM,OAAO,CAAC,EAAE,cAAc,IAAI,EAAE,cAAc,CAAC,IAAI,CAAC,QAAQ;;;;;;;uEAX5D;;;;;;;;;;;;;;;;;;;;;uDAkBf;4CAEH,0BACC,8OAAC;gDAAI,OAAO;;kEACV,8OAAC;wDAAI,OAAO;4DAAE,YAAY;wDAAI;kEAAG;;;;;;kEACjC,8OAAC;wDAAI,OAAO;4DAAE,WAAW;4DAAG,UAAU;4DAAI,SAAS;wDAAK;;4DAAG;4DAC/C,UAAU,QAAQ,IAAI;4DAAK;4DAAU,IAAI,UAAU,WAAW,EAAE;4DAAG;4DAAe,IAAI,UAAU,eAAe,EAAE;;;;;;;;;;;;uDAG7H;4CAEH,8BACC,8OAAC;gDAAI,OAAO;;kEACV,8OAAC;wDAAI,OAAO;4DAAE,YAAY;wDAAI;kEAAG;;;;;;kEACjC,8OAAC;wDAAI,OAAO;4DAAE,WAAW;4DAAG,UAAU;4DAAI,SAAS;wDAAK;;4DAAG;4DACnD,cAAc,IAAI;4DAAC;4DAAS,IAAI,cAAc,eAAe,GAAG,KAAK;4DAAG;4DAAU,IAAI,cAAc,SAAS,EAAE,KAAK;4DAAG;4DAAS,IAAI,cAAc,SAAS,EAAE,KAAK;;;;;;;;;;;;uDAG1K;4CAEH,0BACC,8OAAC;gDAAI,OAAO;;kEACV,8OAAC;wDAAI,OAAO;4DAAE,YAAY;wDAAI;kEAAG;;;;;;kEACjC,8OAAC;wDAAI,OAAO;4DAAE,WAAW;4DAAG,UAAU;4DAAI,SAAS;wDAAK;;4DAAG;4DACnD,UAAU,IAAI;4DAAC;4DAAiB,UAAU,YAAY;4DAAC;4DAAY,IAAI,UAAU,OAAO,EAAE,WAAW;4DAAG;4DAAU,IAAI,UAAU,OAAO,EAAE,gBAAgB;4DAAG;;;;;;;;;;;;uDAGpK;4CAEH,UAAU,KAAK,uBACd,8OAAC;gDAAI,OAAO;oDAAE,WAAW;gDAAO;;kEAC9B,8OAAC;wDAAI,OAAO;4DAAE,YAAY;4DAAK,cAAc;wDAAE;kEAAG;;;;;;kEAClD,8OAAC;wDAAM,OAAO;4DAAE,OAAO;4DAAQ,gBAAgB;wDAAW;;0EACxD,8OAAC;0EACC,cAAA,8OAAC;oEAAG,OAAO;wEAAE,WAAW;wEAAQ,SAAS;oEAAK;;sFAC5C,8OAAC;4EAAG,OAAO;gFAAE,SAAS;4EAAU;sFAAG;;;;;;sFACnC,8OAAC;4EAAG,OAAO;gFAAE,SAAS;4EAAU;sFAAG;;;;;;sFACnC,8OAAC;4EAAG,OAAO;gFAAE,SAAS;4EAAU;sFAAG;;;;;;sFACnC,8OAAC;4EAAG,OAAO;gFAAE,SAAS;4EAAU;sFAAG;;;;;;sFACnC,8OAAC;4EAAG,OAAO;gFAAE,SAAS;4EAAU;sFAAG;;;;;;sFACnC,8OAAC;4EAAG,OAAO;gFAAE,SAAS;4EAAU;sFAAG;;;;;;;;;;;;;;;;;0EAGvC,8OAAC;0EACE,SAAS,GAAG,CAAC,KAAK,CAAC,GAAG,IAAI,GAAG,CAAC,CAAC,GAAQ;oEACtC,MAAM,MAAM,EAAE,OAAO,EAAE,cAAc,EAAE,OAAO,CAAC,SAAS,GAAG,EAAE,OAAO,CAAC,WAAW,GAAG;oEACnF,qBACE,8OAAC;wEAAW,OAAO;4EAAE,WAAW;wEAAmC;;0FACjE,8OAAC;gFAAG,OAAO;oFAAE,SAAS;gFAAU;0FAAI,IAAI;;;;;;0FACxC,8OAAC;gFAAG,OAAO;oFAAE,SAAS;gFAAU;;oFAAI,IAAI,KAAK;oFAAG;;;;;;;0FAChD,8OAAC;gFAAG,OAAO;oFAAE,SAAS;gFAAU;;oFAAI,IAAI,EAAE,OAAO,EAAE,gBAAgB;oFAAG;;;;;;;0FACtE,8OAAC;gFAAG,OAAO;oFAAE,SAAS;gFAAU;0FAAI,IAAI,EAAE,cAAc,EAAE;;;;;;0FAC1D,8OAAC;gFAAG,OAAO;oFAAE,SAAS;gFAAU;0FAAI,IAAI,EAAE,MAAM,EAAE,OAAO;;;;;;0FACzD,8OAAC;gFAAG,OAAO;oFAAE,SAAS;gFAAU;0FAAI,IAAI,EAAE,MAAM,EAAE,qBAAqB;;;;;;;uEANhE;;;;;gEASb;;;;;;;;;;;;;;;;;uDAIJ;;;;;;6DAGN,8OAAC;wCAAI,OAAO;4CAAE,WAAW;4CAAG,SAAS;4CAAK,UAAU;wCAAG;kDAAG;;;;;;;;;;;;4BAK7D,YAAY,MAAM,iBACjB,8OAAC;gCAAI,OAAO;;kDACV,8OAAC;wCAAI,OAAO;4CAAE,SAAS;4CAAQ,gBAAgB;4CAAiB,YAAY;4CAAY,KAAK;wCAAG;;0DAC9F,8OAAC;gDAAI,OAAO;oDAAE,YAAY;oDAAK,UAAU;gDAAG;0DAAG;;;;;;0DAC/C,8OAAC;gDAAI,OAAO;oDAAE,SAAS;oDAAK,UAAU;gDAAG;0DAAG;;;;;;;;;;;;kDAG9C,8OAAC;wCAAI,OAAO;4CAAE,WAAW;4CAAI,WAAW;wCAAO;kDAC7C,cAAA,8OAAC;4CAAM,OAAO;gDAAE,OAAO;gDAAQ,gBAAgB;4CAAW;;8DACxD,8OAAC;8DACC,cAAA,8OAAC;wDAAG,OAAO;4DAAE,WAAW;4DAAQ,SAAS;wDAAK;;0EAC5C,8OAAC;gEAAG,OAAO;oEAAE,SAAS;gEAAU;0EAAG;;;;;;0EACnC,8OAAC;gEAAG,OAAO;oEAAE,SAAS;gEAAU;0EAAG;;;;;;0EACnC,8OAAC;gEAAG,OAAO;oEAAE,SAAS;gEAAU;0EAAG;;;;;;0EACnC,8OAAC;gEAAG,OAAO;oEAAE,SAAS;gEAAU;0EAAG;;;;;;0EACnC,8OAAC;gEAAG,OAAO;oEAAE,SAAS;gEAAU;0EAAG;;;;;;0EACnC,8OAAC;gEAAG,OAAO;oEAAE,SAAS;gEAAU;0EAAG;;;;;;0EACnC,8OAAC;gEAAG,OAAO;oEAAE,SAAS;gEAAU;0EAAG;;;;;;0EACnC,8OAAC;gEAAG,OAAO;oEAAE,SAAS;gEAAU;0EAAG;;;;;;0EACnC,8OAAC;gEAAG,OAAO;oEAAE,SAAS;gEAAU;0EAAG;;;;;;;;;;;;;;;;;8DAGvC,8OAAC;8DACE,YAAY,GAAG,CAAC,CAAC,GAAQ;wDACxB,IAAI,CAAC,GAAG,IAAI;4DACV,qBACE,8OAAC;gEAAa,OAAO;oEAAE,WAAW;gEAAmC;;kFACnE,8OAAC;wEAAG,OAAO;4EAAE,SAAS;4EAAY,YAAY;wEAAI;kFAAI,GAAG,MAAM;;;;;;kFAC/D,8OAAC;wEAAG,OAAO;4EAAE,SAAS;wEAAW;wEAAG,SAAS;;0FAC3C,8OAAC;gFAAK,OAAO;oFAAE,SAAS;gFAAK;0FAAG;;;;;;4EAAc;0FAC9C,8OAAC;gFAAK,OAAO;oFAAE,SAAS;gFAAK;;oFAAG;oFAAG,GAAG,UAAU;oFAAU;oFAAS,GAAG,QAAQ;;;;;;;;;;;;;;+DAJzE;;;;;wDAQb;wDAEA,MAAM,MAAM,EAAE,UAAU,IAAI;wDAC5B,MAAM,MAAM,EAAE,GAAG,IAAI;wDACrB,MAAM,OAAO,EAAE,OAAO,IAAI,CAAC;wDAC3B,MAAM,QAAQ,AAAC,KAAK,SAAS,KAAK,SAAU;wDAC5C,MAAM,QAAQ,AAAC,KAAK,SAAS,KAAK,SAAU;wDAC5C,MAAM,QAAQ,AAAC,KAAK,SAAS,EAAE,KAAK,IAAK;wDACzC,MAAM,QAAQ,AAAC,EAAE,KAAK,IAAI,CAAC,EAAE,IAAI,GAAI,OAAO,EAAE,IAAI,CAAC,KAAK,IAAI,OAAO,EAAE,IAAI,CAAC,IAAI,IAAK,IAAI,KAAM;wDAC7F,qBACE,8OAAC;4DAAa,OAAO;gEAAE,WAAW;4DAAmC;;8EACnE,8OAAC;oEAAG,OAAO;wEAAE,SAAS;wEAAY,YAAY;oEAAI;8EAAI,EAAE,EAAE;;;;;;8EAC1D,8OAAC;oEAAG,OAAO;wEAAE,SAAS;oEAAW;8EAAI,IAAI,EAAE,KAAK,EAAE;;;;;;8EAClD,8OAAC;oEAAG,OAAO;wEAAE,SAAS;oEAAW;8EAAI,IAAI,OAAO;;;;;;8EAChD,8OAAC;oEAAG,OAAO;wEAAE,SAAS;oEAAW;8EAAI,IAAI,OAAO;;;;;;8EAChD,8OAAC;oEAAG,OAAO;wEAAE,SAAS;oEAAW;8EAAI,IAAI,OAAO;;;;;;8EAChD,8OAAC;oEAAG,OAAO;wEAAE,SAAS;oEAAW;8EAAI,IAAI,OAAO;;;;;;8EAChD,8OAAC;oEAAG,OAAO;wEAAE,SAAS;wEAAY,YAAY;oEAAI;8EAAI,KAAK,KAAK,IAAI;;;;;;8EACpE,8OAAC;oEAAG,OAAO;wEAAE,SAAS;oEAAW;8EAAI,IAAI,KAAK,UAAU,EAAE;;;;;;8EAC1D,8OAAC;oEAAG,OAAO;wEAAE,SAAS;oEAAW;8EAAI,IAAI,KAAK,SAAS,EAAE;;;;;;;2DATlD;;;;;oDAYb;;;;;;;;;;;;;;;;;;;;;;uCAKN;4BAGH,mBACC,8OAAC;gCAAI,OAAO;;kDACV,8OAAC;wCAAI,OAAO;4CAAE,YAAY;wCAAI;kDAAG;;;;;;kDACjC,8OAAC;wCAAI,OAAO;4CAAE,WAAW;4CAAG,SAAS;4CAAQ,KAAK;4CAAG,SAAS;wCAAK;;0DACjE,8OAAC;;oDAAI;oDACG,GAAG,QAAQ;oDAAC;oDAAW,IAAI,GAAG,YAAY,EAAE,KAAK;oDAAG;oDAAgB,IAAI,GAAG,WAAW,EAAE,KAAK;oDAAG;;;;;;;0DAExG,8OAAC;;oDAAI;oDACE,IAAI,GAAG,IAAI,EAAE,KAAK;oDAAG;oDAAS,IAAI,GAAG,IAAI,EAAE,MAAM;oDAAG;oDAAc,IAAI,GAAG,IAAI,EAAE,WAAW;;;;;;;;;;;;;;;;;;uCAInG;4BAGH,UAAU,OAAO,uBAChB,8OAAC;gCAAI,OAAO;0CACV,cAAA,8OAAC;;sDACC,8OAAC;4CAAQ,OAAO;gDAAE,QAAQ;gDAAW,YAAY;4CAAI;;gDAAG;gDAAkB,SAAS,KAAK,CAAC,MAAM;gDAAC;;;;;;;sDAChG,8OAAC;4CAAI,OAAO;gDAAE,WAAW;gDAAI,SAAS;gDAAQ,KAAK;4CAAE;sDAClD,SAAS,KAAK,CAAC,GAAG,CAAC,CAAC,kBACnB,8OAAC;oDAEC,OAAO;wDACL,SAAS;wDACT,cAAc;wDACd,QAAQ;wDACR,YAAY;oDACd;;sEAEA,8OAAC;4DAAI,OAAO;gEAAE,YAAY;4DAAI;sEAAI,EAAE,QAAQ;;;;;;sEAC5C,8OAAC;4DAAI,OAAO;gEAAE,SAAS;gEAAK,WAAW;4DAAE;;gEAAG;gEACpC,EAAE,IAAI;gEAAC;gEAAI,EAAE,OAAO;gEAAC;gEAAI,EAAE,UAAU;gEAAC;gEAAQ,IAAI,EAAE,UAAU,EAAE;;;;;;;;mDAVnE,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;uCAiBjB;;;;;;;kCAGF,8OAAC;wBAAI,OAAO;4BAAE,MAAM;4BAAa,UAAU;4BAAK,OAAO;4BAAS,UAAU;4BAAQ,SAAS;4BAAQ,KAAK;4BAAI,UAAU;4BAAU,KAAK;wBAAG;kCACtI,cAAA,8OAAC;4BAAI,OAAO;gCAAE,GAAG,OAAO;gCAAE,SAAS;gCAAQ,KAAK;4BAAG;;8CACjD,8OAAC;oCAAI,OAAO;wCAAE,YAAY;wCAAK,UAAU;oCAAG;8CAAG;;;;;;8CAC/C,8OAAC;oCAAI,OAAO;wCAAE,SAAS;wCAAQ,KAAK;oCAAE;;sDACpC,8OAAC;4CAAI,OAAO;gDAAE,SAAS;gDAAM,UAAU;4CAAG;;gDAAG;gDAC/B,IAAI,aAAa,0BAA0B,EAAE;gDAAG;gDAAM,aAAa,oBAAoB;gDAAC;;;;;;;sDAEtG,8OAAC;4CAAI,OAAO;gDAAE,SAAS;gDAAQ,gBAAgB;gDAAiB,UAAU;4CAAG;;8DAC3E,8OAAC;8DAAK;;;;;;8DACN,8OAAC;;wDAAK;wDAAE,IAAI,eAAe;;;;;;;;;;;;;sDAE7B,8OAAC;4CAAI,OAAO;gDAAE,SAAS;gDAAQ,gBAAgB;gDAAiB,UAAU;4CAAG;;8DAC3E,8OAAC;8DAAK;;;;;;8DACN,8OAAC;;wDAAK;wDAAE,IAAI,YAAY;;;;;;;;;;;;;sDAE1B,8OAAC;4CAAI,OAAO;gDAAE,SAAS;gDAAQ,gBAAgB;gDAAiB,UAAU;4CAAG;;8DAC3E,8OAAC;8DAAK;;;;;;8DACN,8OAAC;;wDAAK;wDAAE,IAAI,eAAe;;;;;;;;;;;;;sDAE7B,8OAAC;4CAAI,OAAO;gDAAE,QAAQ;gDAAG,cAAc;gDAAK,YAAY;gDAA0B,UAAU;4CAAS;sDACnG,cAAA,8OAAC;gDACC,OAAO;oDACL,QAAQ;oDACR,OAAO,GAAG,MAAM,iBAAiB,GAAG,KAAK,CAAC,CAAC;oDAC3C,YAAY;gDACd;;;;;;;;;;;sDAGJ,8OAAC;4CAAI,OAAO;gDAAE,SAAS;gDAAM,UAAU;4CAAG;;gDAAG;gDAAW,IAAI,iBAAiB;gDAAG;;;;;;;wCAC/E,2BACC,8OAAC;4CAAI,OAAO;gDAAE,SAAS;gDAAM,UAAU;4CAAG;;gDAAG;gDACzB,IAAI,WAAW,SAAS,EAAE;gDAAG;gDAAQ,WAAW,SAAS,GAAG,QAAQ;gDAAK;gDAAU,IAAI,WAAW,cAAc,EAAE;gDAAG;;;;;;iEAGzI,8OAAC;4CAAI,OAAO;gDAAE,SAAS;gDAAK,UAAU;4CAAG;sDAAG;;;;;;;;;;;;8CAIhD,8OAAC;oCAAI,OAAO;wCAAE,SAAS;wCAAQ,KAAK;wCAAG,WAAW;wCAAQ,WAAW;oCAAO;8CACzE,eAAe,MAAM,GACpB,eAAe,GAAG,CAAC,CAAC,GAAG,kBACrB,8OAAC;4CAAY,OAAO;gDAAE,SAAS;gDAAY,cAAc;gDAAI,QAAQ;4CAAmC;;8DACtG,8OAAC;oDAAI,OAAO;wDAAE,SAAS;wDAAQ,gBAAgB;wDAAiB,UAAU;wDAAI,SAAS;oDAAI;;sEACzF,8OAAC;sEAAM,IAAI,KAAK,EAAE,EAAE,EAAE,kBAAkB;;;;;;sEACxC,8OAAC;4DAAK,OAAO;gEAAE,eAAe;4DAAY;sEAAI,EAAE,IAAI;;;;;;;;;;;;8DAEtD,8OAAC;oDAAI,OAAO;wDAAE,YAAY;wDAAK,UAAU;wDAAI,WAAW;oDAAE;8DAAI,EAAE,OAAO;;;;;;gDACtE,EAAE,MAAM,iBAAG,8OAAC;oDAAI,OAAO;wDAAE,SAAS;wDAAK,UAAU;wDAAI,WAAW;oDAAE;8DAAI,EAAE,MAAM;;;;;2DAAU;;2CANjF;;;;kEAUZ,8OAAC;wCAAI,OAAO;4CAAE,SAAS;4CAAK,UAAU;wCAAG;kDAAG;;;;;;;;;;;8CAIhD,8OAAC;oCACC,MAAK;oCACL,SAAS;oCACT,UAAU,CAAC,eAAe,MAAM;oCAChC,OAAO;wCACL,SAAS;wCACT,cAAc;wCACd,QAAQ;wCACR,QAAQ;wCACR,YAAY;wCACZ,SAAS,eAAe,MAAM,GAAG,IAAI;wCACrC,OAAO;oCACT;8CACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQb"}},
    {"offset": {"line": 8512, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lenovo/trader/app/live/live-chat.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\n\r\ntype ChatIntent = \"explain\" | \"trade\";\r\ntype TradeMode = \"HTF\" | \"LTF_ONLY\";\r\n\r\ntype ChatResponse = {\n  answer_markdown?: string;\n  answer?: string;\n  forwarded?: { mode?: string };\n  plan?: any;\n  [k: string]: any;\n};\n\r\nfunction clamp(n: number, lo: number, hi: number) {\r\n  if (!Number.isFinite(n)) return lo;\r\n  return Math.max(lo, Math.min(hi, n));\r\n}\r\n\r\nfunction n2(x: any, dp = 2) {\r\n  const num = typeof x === \"string\" ? Number(x) : (x as number);\r\n  if (!Number.isFinite(num)) return String(x ?? \"?\");\r\n  return num.toFixed(dp);\r\n}\r\n\r\nfunction safeJson(x: any) {\r\n  try {\r\n    return JSON.stringify(x, null, 2);\r\n  } catch {\r\n    return String(x);\r\n  }\r\n}\r\n\r\nexport default function LiveChat(props: { symbol: string; timeframes: string[]; lookback: number; accountId?: string }) {\n  const [question, setQuestion] = React.useState(\"\");\r\n  const [intent, setIntent] = React.useState<ChatIntent>(\"explain\");\r\n\r\n  // trade controls\r\n  const [tradeMode, setTradeMode] = React.useState<TradeMode>(\"HTF\");\r\n  const [aggressive, setAggressive] = React.useState(false);\r\n  const [maxRiskPct, setMaxRiskPct] = React.useState(3); // percent of equity\r\n  const [minRR, setMinRR] = React.useState(2.5);\r\n\r\n  // outputs\r\n  const [answer, setAnswer] = React.useState<string | null>(null);\r\n  const [tradeResult, setTradeResult] = React.useState<ChatResponse | null>(null);\r\n\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [error, setError] = React.useState<string | null>(null);\r\n\r\n  const [dataWarning, setDataWarning] = React.useState<string | null>(null);\r\n\r\n  const formatTradeBrief = React.useCallback(\r\n    (resp: ChatResponse): string => {\r\n      const analyze = (resp ?? {}) as any;\n      if (!analyze) return \"No trade response returned.\";\n\n      const snap = analyze?.snapshot ?? analyze?.plan?.snapshot;\n      const verdict = analyze?.verdict ?? analyze?.plan?.verdict;\n      const planObj = analyze?.plan ?? analyze;\n\r\n      const forwardedMode = resp?.forwarded?.mode ?? analyze?.mode ?? tradeMode;\r\n\r\n      const lines: string[] = [];\r\n      lines.push(`Symbol: ${snap?.symbol ?? props.symbol ?? \"?\"}`);\r\n      lines.push(`Mode: ${forwardedMode}`);\r\n      if (snap?.timeframes?.length) {\n        const tfs = (snap.timeframes as any[]).map((t) => (typeof t === \"string\" ? t : t?.tf)).filter(Boolean);\n        if (tfs.length) lines.push(`TFs: ${tfs.join(\", \")}`);\n      }\n      lines.push(\"\");\r\n\r\n      const gate = snap?.gate ?? analyze?.gate;\r\n      if (gate) {\r\n        lines.push(\r\n          `HTF Gate: ${gate.blocked ? \"BLOCKED\" : \"PASS\"}${\r\n            Array.isArray(gate.higherTimeframesUsed) && gate.higherTimeframesUsed.length\r\n              ? ` (${gate.higherTimeframesUsed.join(\", \")})`\r\n              : \"\"\r\n          }`\r\n        );\r\n        if (gate.reasons?.length) lines.push(`Gate reasons: ${gate.reasons.join(\" | \")}`);\r\n        lines.push(\"\");\r\n      }\r\n\r\n      lines.push(`Action: ${planObj?.action ?? \"?\"}`);\r\n      if (planObj?.leverage != null) lines.push(`Leverage: ${planObj.leverage}x`);\r\n\r\n      if (planObj?.entry) {\r\n        const entryType = planObj.entry.type ?? \"market\";\r\n        const entryPrice = planObj.entry.price ?? \"market\";\r\n        lines.push(`Entry: ${entryType} @ ${entryPrice} (trigger ${planObj.entry.trigger ?? \"n/a\"})`);\r\n      }\r\n      if (planObj?.stop) {\r\n        const stopLine = `Stop: ${planObj.stop.price ?? \"?\"}${planObj.stop.rationale ? ` 窶 ${planObj.stop.rationale}` : \"\"}`;\r\n        lines.push(stopLine);\r\n      }\r\n\r\n      if (Array.isArray(planObj?.targets) && planObj.targets.length) {\r\n        lines.push(\"Targets:\");\r\n        for (const t of planObj.targets) lines.push(`- ${t.price} (${t.sizePct ?? \"?\"}%)`);\r\n      }\r\n\r\n      if (planObj?.riskPct != null) lines.push(`Risk: ${planObj.riskPct}%`);\r\n      if (planObj?.notes) lines.push(`Notes: ${planObj.notes}`);\r\n\r\n      // Execution sizing (new in route)\r\n      const exec = analyze?.execution ?? planObj?.execution;\r\n      if (exec) {\r\n        lines.push(\"\");\r\n        lines.push(\"Execution:\");\r\n        if (exec.qty != null) lines.push(`- Qty: ${n2(exec.qty, 6)}`);\r\n        if (exec.notionalUsd != null) lines.push(`- Notional: $${n2(exec.notionalUsd, 2)}`);\r\n        if (exec.effectiveLeverage != null) lines.push(`- Eff Lev: ${n2(exec.effectiveLeverage, 2)}x`);\r\n        if (exec.riskUsdPlanned != null) lines.push(`- Risk planned: $${n2(exec.riskUsdPlanned, 2)}`);\r\n        if (exec.riskUsdActual != null) lines.push(`- Risk actual:  $${n2(exec.riskUsdActual, 2)}`);\r\n\r\n        if (Array.isArray(exec.targets) && exec.targets.length) {\r\n          lines.push(\"- Targets (PnL / RR):\");\r\n          for (const t of exec.targets) {\r\n            const rr = t.rr != null ? n2(t.rr, 2) : \"?\";\r\n            const pnl = t.pnlUsd != null ? `$${n2(t.pnlUsd, 2)}` : \"?\";\r\n            lines.push(`  窶｢ ${t.price} -> ${pnl} | RR ${rr}`);\r\n          }\r\n        }\r\n      }\r\n\r\n      if (verdict) {\r\n        lines.push(\"\");\r\n        lines.push(\r\n          `Validator: ${verdict.ok ? \"OK\" : \"FAIL\"}${\r\n            verdict.rr != null ? ` | RR=${Number(verdict.rr).toFixed(2)}` : \"\"\r\n          }`\r\n        );\r\n        if (verdict.reasons?.length) lines.push(`Reasons: ${verdict.reasons.join(\" | \")}`);\r\n      }\r\n\r\n      return lines.join(\"\\n\");\r\n    },\r\n    [props.symbol, tradeMode]\r\n  );\r\n\r\n  const ask = React.useCallback(async () => {\r\n    const q = question.trim();\r\n    if (!q) return;\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n    setAnswer(null);\r\n    setTradeResult(null);\r\n    setDataWarning(null);\r\n\r\n    try {\r\n      const equityUsd = 100;\r\n\r\n      // UI guardrails\r\n      const constraints = {\r\n        maxLeverage: 10, // hard cap to match your requirement\r\n        maxRiskPct: clamp(Number(maxRiskPct), 0.25, 10),\r\n        minRR: clamp(Number(minRR), 1, 10),\r\n      };\r\n\r\n      const body: any = {\n        intent,\n        symbol: props.symbol,\n        timeframes: props.timeframes,\n        lookback: props.lookback,\n        message: q,\n        question: q,\n        accountId: props.accountId,\n\r\n        equityUsd,\r\n        aggressive: intent === \"trade\" ? aggressive : false,\r\n        constraints,\r\n\r\n        // Back-compat keys if your /api/chat expects them\r\n        tradeMode: tradeMode,\r\n        wsProbe:\r\n          intent === \"trade\"\r\n            ? { durationMs: 5000, maxMessages: 2000 }\r\n            : { durationMs: 0, maxMessages: 0 },\r\n\r\n        // LTF plan (only when LTF mode is selected)\r\n        ltfPlan:\r\n          intent === \"trade\" && tradeMode === \"LTF_ONLY\"\r\n            ? { enabled: true, timeframes: [\"4h\", \"1h\", \"15m\"], minBars: 150 }\r\n            : undefined,\r\n\r\n        // Optional RAG filters (leave null unless you implement server-side)\r\n        doc_names: null,\r\n        chunk_types: null,\r\n      };\r\n\r\n      const res = await fetch(\"/api/chat\", {\r\n        method: \"POST\",\r\n        headers: { \"content-type\": \"application/json\" },\r\n        body: JSON.stringify(body),\r\n      });\r\n\r\n      const j: ChatResponse = await res.json();\r\n      if (!res.ok) throw new Error((j as any)?.error || `HTTP ${res.status}`);\r\n\r\n      // Data health: if server reports no candle rows / missing snapshot data, surface actionable guidance.\r\n      try {\r\n        const snap: any = (j as any)?.snapshot;\r\n        const counts = snap?.counts ?? snap?.rowsByTimeframe ?? snap?.tfCounts;\n        const totalRows = Array.isArray(counts)\n          ? counts.reduce((a, c) => a + Number(c?.rows ?? c?.count ?? 0), 0)\n          : counts && typeof counts === \"object\"\n            ? Object.values(counts as Record<string, any>).reduce((a, c) => a + Number(c ?? 0), 0)\n            : undefined;\n        const msg = String((j as any)?.answer_markdown ?? (j as any)?.answer ?? \"\");\n        if (totalRows === 0 || /missing recent price data|no candle records|no candle/i.test(msg)) {\r\n          setDataWarning(\r\n            \"No recent candle data was found for the requested symbol/timeframes. Check that your streamer is running, the symbol matches exactly (e.g. BTCUSDT), and that your candles table has rows for 1h/4h/12h/1d. If rows exist but snapshots are empty, verify timeframe strings and open_time timezone / ingestion mapping.\"\r\n          );\r\n        }\r\n      } catch {}\r\n\r\n      if (intent === \"trade\") {\n        setTradeResult(j);\n      } else {\n        const answerText = j.answer_markdown ?? j.answer ?? \"(no answer)\";\n        setAnswer(answerText);\n      }\n    } catch (e: any) {\r\n      setError(e?.message || \"Unknown error\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [aggressive, intent, maxRiskPct, minRR, props.lookback, props.symbol, props.timeframes, question, tradeMode]);\r\n\r\n  const onKeyDown = React.useCallback(\r\n    (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\r\n      if ((e.ctrlKey || e.metaKey) && e.key === \"Enter\") {\r\n        e.preventDefault();\r\n        void ask();\r\n      }\r\n    },\r\n    [ask]\r\n  );\r\n\r\n  return (\r\n    <div style={{ border: \"1px solid rgba(255,255,255,0.12)\", borderRadius: 10, padding: 12 }}>\r\n      <div style={{ display: \"flex\", justifyContent: \"space-between\", gap: 12, alignItems: \"baseline\" }}>\r\n        <div style={{ fontWeight: 800 }}>Live Chat</div>\r\n        <div style={{ opacity: 0.75, fontSize: 12 }}>\r\n          {props.symbol} | {props.timeframes.join(\", \")} | lb {props.lookback}\r\n        </div>\r\n      </div>\r\n\r\n      <div style={{ display: \"flex\", gap: 12, marginTop: 10, flexWrap: \"wrap\", alignItems: \"center\" }}>\r\n        <label>\r\n          <input type=\"radio\" checked={intent === \"explain\"} onChange={() => setIntent(\"explain\")} /> Explain\r\n        </label>\r\n        <label>\r\n          <input type=\"radio\" checked={intent === \"trade\"} onChange={() => setIntent(\"trade\")} /> Trade\r\n        </label>\r\n\r\n        {intent === \"trade\" && (\r\n          <>\r\n            <span style={{ opacity: 0.7 }}>|</span>\r\n\r\n            <label>\r\n              Mode{\" \"}\r\n              <select\r\n                value={tradeMode}\r\n                onChange={(e) => setTradeMode(e.target.value as TradeMode)}\r\n                style={{ marginLeft: 6 }}\r\n              >\r\n                <option value=\"HTF\">HTF</option>\r\n                <option value=\"LTF_ONLY\">LTF (4h/1h/15m)</option>\r\n              </select>\r\n            </label>\r\n\r\n            <label style={{ display: \"flex\", alignItems: \"center\", gap: 6 }}>\r\n              <input type=\"checkbox\" checked={aggressive} onChange={(e) => setAggressive(e.target.checked)} /> Aggressive\r\n            </label>\r\n\r\n            <label style={{ display: \"flex\", alignItems: \"center\", gap: 6 }}>\r\n              Max risk %\r\n              <input\r\n                type=\"number\"\r\n                value={maxRiskPct}\r\n                onChange={(e) => setMaxRiskPct(Number(e.target.value))}\r\n                min={0.25}\r\n                max={10}\r\n                step={0.25}\r\n                style={{ width: 80 }}\r\n              />\r\n            </label>\r\n\r\n            <label style={{ display: \"flex\", alignItems: \"center\", gap: 6 }}>\r\n              Min RR\r\n              <input\r\n                type=\"number\"\r\n                value={minRR}\r\n                onChange={(e) => setMinRR(Number(e.target.value))}\r\n                min={1}\r\n                max={10}\r\n                step={0.25}\r\n                style={{ width: 80 }}\r\n              />\r\n            </label>\r\n\r\n            <div style={{ opacity: 0.75, fontSize: 12 }}>Equity: $100 (paper) | Max Lev: 10x</div>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      <textarea\r\n        value={question}\r\n        onChange={(e) => setQuestion(e.target.value)}\r\n        onKeyDown={onKeyDown}\r\n        placeholder={\r\n          intent === \"trade\"\r\n            ? \"Describe the setup or ask for a call. (Ctrl/Cmd+Enter to run)\"\r\n            : \"Ask about structure, regime, EMA/RSI, gate state, invalidations窶ｦ (Ctrl/Cmd+Enter)\"\r\n        }\r\n        rows={4}\r\n        style={{ width: \"100%\", padding: 10, borderRadius: 8, marginTop: 10 }}\r\n      />\r\n\r\n      <div style={{ display: \"flex\", gap: 8, marginTop: 8 }}>\r\n        <button onClick={() => void ask()} disabled={loading} style={{ padding: \"8px 10px\" }}>\r\n          {loading ? \"Running窶ｦ\" : intent === \"trade\" ? \"Run Trade\" : \"Ask\"}\r\n        </button>\r\n\r\n        <button\r\n          onClick={() => {\r\n            setQuestion(\"\");\r\n            setAnswer(null);\r\n            setTradeResult(null);\r\n    setDataWarning(null);\r\n            setError(null);\r\n          }}\r\n          disabled={loading}\r\n          style={{ padding: \"8px 10px\" }}\r\n        >\r\n          Clear\r\n        </button>\r\n\r\n        <div style={{ marginLeft: \"auto\", opacity: 0.7, fontSize: 12, alignSelf: \"center\" }}>\r\n          Tip: Ctrl/Cmd+Enter\r\n        </div>\r\n      </div>\r\n\r\n      {error && <div style={{ marginTop: 10, color: \"tomato\" }}>{error}</div>}\r\n\r\n      {answer && <div style={{ marginTop: 10, whiteSpace: \"pre-wrap\", opacity: 0.95 }}>{answer}</div>}\r\n\r\n      {tradeResult && (\r\n        <>\r\n          <div style={{ marginTop: 10, whiteSpace: \"pre-wrap\", opacity: 0.95 }}>\r\n            {formatTradeBrief(tradeResult)}\r\n          </div>\r\n\r\n          <details style={{ marginTop: 10 }}>\r\n            <summary style={{ cursor: \"pointer\", opacity: 0.85 }}>Show raw JSON</summary>\r\n            <pre\r\n              style={{\r\n                marginTop: 10,\r\n                padding: 10,\r\n                borderRadius: 8,\r\n                background: \"rgba(0,0,0,0.2)\",\r\n                fontSize: 12,\r\n                overflowX: \"auto\",\r\n                overflowY: \"auto\",\r\n                maxHeight: 360,\r\n                whiteSpace: \"pre-wrap\",\r\n                wordBreak: \"break-word\",\r\n              }}\r\n            >\r\n              {safeJson(tradeResult)}\r\n            </pre>\r\n          </details>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 9125, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lenovo/trader/app/live/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport LiveAnalyzer from \"./live-analyzer\";\r\nimport LiveChat from \"./live-chat\";\r\n\r\ntype PersistedUI = {\n  symbol?: string;\n  lookback?: number;\n  timeframesText?: string;\n  accountId?: string;\n};\n\r\n/**\r\n * Keep Chat aligned with Analyzer without lifting state.\r\n * Support multiple versions so UI updates don't silently break sync.\r\n */\r\nconst LS_KEYS = [\"liveAnalyzerUI:v5\", \"liveAnalyzerUI:v4\"];\r\n\r\nfunction safeJsonParse<T>(raw: string | null): T | null {\r\n  if (!raw) return null;\r\n  try {\r\n    return JSON.parse(raw) as T;\r\n  } catch {\r\n    return null;\r\n  }\r\n}\r\n\r\nfunction parseTimeframes(text: string): string[] {\r\n  const parts = text\r\n    .split(/[,\\s]+/g)\r\n    .map((s) => s.trim())\r\n    .filter(Boolean);\r\n\r\n  const seen = new Set<string>();\r\n  const out: string[] = [];\r\n  for (const p of parts) {\r\n    if (!seen.has(p)) {\r\n      seen.add(p);\r\n      out.push(p);\r\n    }\r\n  }\r\n  return out;\r\n}\r\n\r\nfunction readPersistedUI(): PersistedUI | null {\r\n  if (typeof window === \"undefined\") return null;\r\n  for (const k of LS_KEYS) {\r\n    const ui = safeJsonParse<PersistedUI>(window.localStorage.getItem(k));\r\n    if (ui) return ui;\r\n  }\r\n  return null;\r\n}\r\n\r\nexport default function LivePage() {\r\n  // Chat defaults (safe)\r\n  const [chatSymbol, setChatSymbol] = useState<string>(\"BTCUSDT\");\n  const [chatTimeframes, setChatTimeframes] = useState<string[]>([\"1h\", \"4h\", \"12h\", \"1d\"]);\n  const [chatLookback, setChatLookback] = useState<number>(300);\n  const [chatAccountId, setChatAccountId] = useState<string>(\"\");\n\r\n  const lastAppliedRef = useRef<string>(\"\");\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    let pollId: number | null = null;\r\n\r\n    const apply = (ui: PersistedUI) => {\r\n      const symbol = (ui.symbol || \"\").trim();\r\n      const lookback = Number(ui.lookback);\r\n      const tfsText = (ui.timeframesText || \"\").trim();\r\n\r\n      // Build a stable signature so we don't rerender on identical storage reads\r\n      const sig = JSON.stringify({\r\n        symbol: symbol || undefined,\r\n        lookback: Number.isFinite(lookback) && lookback > 0 ? lookback : undefined,\r\n        timeframesText: tfsText || undefined,\r\n      });\r\n\r\n      if (sig === lastAppliedRef.current) return;\r\n      lastAppliedRef.current = sig;\r\n\r\n      if (!mounted) return;\r\n\r\n      if (symbol) setChatSymbol(symbol);\n      if (Number.isFinite(lookback) && lookback > 0) setChatLookback(lookback);\n      if (tfsText) {\n        const tfs = parseTimeframes(tfsText);\n        if (tfs.length) setChatTimeframes(tfs);\n      }\n      if (ui.accountId) setChatAccountId(ui.accountId);\n    };\n\r\n    const syncFromStorage = () => {\r\n      const ui = readPersistedUI();\r\n      if (!ui) return;\r\n      apply(ui);\r\n    };\r\n\r\n    // initial\r\n    syncFromStorage();\r\n\r\n    // cross-tab changes\r\n    const onStorage = (e: StorageEvent) => {\r\n      if (!e.key) return;\r\n      if (LS_KEYS.includes(e.key)) syncFromStorage();\r\n    };\r\n    window.addEventListener(\"storage\", onStorage);\r\n\r\n    // same-tab updates: storage event does not fire in same tab, so poll\r\n    const startPoll = () => {\r\n      if (pollId != null) return;\r\n      pollId = window.setInterval(syncFromStorage, 1200);\r\n    };\r\n    const stopPoll = () => {\r\n      if (pollId == null) return;\r\n      window.clearInterval(pollId);\r\n      pollId = null;\r\n    };\r\n\r\n    // pause polling when tab is hidden (reduces useless load)\r\n    const onVis = () => {\r\n      if (document.visibilityState === \"hidden\") stopPoll();\r\n      else startPoll();\r\n    };\r\n    document.addEventListener(\"visibilitychange\", onVis);\r\n\r\n    startPoll();\r\n\r\n    return () => {\r\n      mounted = false;\r\n      window.removeEventListener(\"storage\", onStorage);\r\n      document.removeEventListener(\"visibilitychange\", onVis);\r\n      stopPoll();\r\n    };\r\n  }, []);\r\n\r\n  const chatProps = useMemo(\n    () => ({ symbol: chatSymbol, timeframes: chatTimeframes, lookback: chatLookback, accountId: chatAccountId }),\n    [chatSymbol, chatTimeframes, chatLookback, chatAccountId]\n  );\n\r\n  return (\r\n    <div className=\"page\">\r\n      <header className=\"header\">\r\n        <h1 className=\"title\">Live Analyzer</h1>\r\n        <p className=\"subtitle\">\r\n          Analyzer uses <code>/api/analyze</code>. Chat uses <code>/api/chat</code>. Chat auto-syncs from Analyzer UI\r\n          state stored in localStorage.\r\n        </p>\r\n\r\n        <div className=\"chips\">\r\n          <span className=\"chip\">\r\n            Chat symbol: <b>{chatSymbol}</b>\r\n          </span>\r\n          <span className=\"chip\">\r\n            TFs: <b>{chatTimeframes.join(\", \")}</b>\r\n          </span>\r\n          <span className=\"chip\">\r\n            Lookback: <b>{chatLookback}</b>\r\n          </span>\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"grid\">\r\n        <LiveAnalyzer />\r\n        <LiveChat {...chatProps} />\r\n      </div>\r\n\r\n      <style>{`\r\n        .page {\r\n          padding: 16px;\r\n          max-width: 1240px;\r\n          margin: 0 auto;\r\n        }\r\n        .header {\r\n          display: grid;\r\n          gap: 6px;\r\n          margin-bottom: 14px;\r\n        }\r\n        .title {\r\n          font-size: 22px;\r\n          font-weight: 900;\r\n          margin: 0;\r\n        }\r\n        .subtitle {\r\n          opacity: 0.75;\r\n          margin: 0;\r\n          line-height: 1.35;\r\n        }\r\n        .chips {\r\n          margin-top: 8px;\r\n          display: flex;\r\n          flex-wrap: wrap;\r\n          gap: 8px;\r\n          align-items: center;\r\n          opacity: 0.9;\r\n          font-size: 12px;\r\n        }\r\n        .chip {\r\n          padding: 6px 10px;\r\n          border-radius: 999px;\r\n          border: 1px solid rgba(255, 255, 255, 0.14);\r\n        }\r\n        .grid {\r\n          display: grid;\r\n          grid-template-columns: minmax(0, 1fr) 420px;\r\n          gap: 16px;\r\n          align-items: start;\r\n        }\r\n        code {\r\n          font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\",\r\n            monospace;\r\n        }\r\n        @media (max-width: 1100px) {\r\n          .grid {\r\n            grid-template-columns: 1fr;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAaA;;;CAGC,GACD,MAAM,UAAU;IAAC;IAAqB;CAAoB;AAE1D,SAAS,cAAiB,GAAkB;IAC1C,IAAI,CAAC,KAAK,OAAO;IACjB,IAAI;QACF,OAAO,KAAK,KAAK,CAAC;IACpB,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAEA,SAAS,gBAAgB,IAAY;IACnC,MAAM,QAAQ,KACX,KAAK,CAAC,WACN,GAAG,CAAC,CAAC,IAAM,EAAE,IAAI,IACjB,MAAM,CAAC;IAEV,MAAM,OAAO,IAAI;IACjB,MAAM,MAAgB,EAAE;IACxB,KAAK,MAAM,KAAK,MAAO;QACrB,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI;YAChB,KAAK,GAAG,CAAC;YACT,IAAI,IAAI,CAAC;QACX;IACF;IACA,OAAO;AACT;AAEA,SAAS;IACP,wCAAmC,OAAO;;;IACrC,MAAM;AAKb;AAEe,SAAS;IACtB,uBAAuB;IACvB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAS;IACrD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAW;QAAC;QAAM;QAAM;QAAO;KAAK;IACxF,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAS;IACzD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAS;IAE3D,MAAM,iBAAiB,IAAA,+MAAM,EAAS;IAEtC,IAAA,kNAAS,EAAC;QACR,IAAI,UAAU;QACd,IAAI,SAAwB;QAE5B,MAAM,QAAQ,CAAC;YACb,MAAM,SAAS,CAAC,GAAG,MAAM,IAAI,EAAE,EAAE,IAAI;YACrC,MAAM,WAAW,OAAO,GAAG,QAAQ;YACnC,MAAM,UAAU,CAAC,GAAG,cAAc,IAAI,EAAE,EAAE,IAAI;YAE9C,2EAA2E;YAC3E,MAAM,MAAM,KAAK,SAAS,CAAC;gBACzB,QAAQ,UAAU;gBAClB,UAAU,OAAO,QAAQ,CAAC,aAAa,WAAW,IAAI,WAAW;gBACjE,gBAAgB,WAAW;YAC7B;YAEA,IAAI,QAAQ,eAAe,OAAO,EAAE;YACpC,eAAe,OAAO,GAAG;YAEzB,IAAI,CAAC,SAAS;YAEd,IAAI,QAAQ,cAAc;YAC1B,IAAI,OAAO,QAAQ,CAAC,aAAa,WAAW,GAAG,gBAAgB;YAC/D,IAAI,SAAS;gBACX,MAAM,MAAM,gBAAgB;gBAC5B,IAAI,IAAI,MAAM,EAAE,kBAAkB;YACpC;YACA,IAAI,GAAG,SAAS,EAAE,iBAAiB,GAAG,SAAS;QACjD;QAEA,MAAM,kBAAkB;YACtB,MAAM,KAAK;YACX,IAAI,CAAC,IAAI;YACT,MAAM;QACR;QAEA,UAAU;QACV;QAEA,oBAAoB;QACpB,MAAM,YAAY,CAAC;YACjB,IAAI,CAAC,EAAE,GAAG,EAAE;YACZ,IAAI,QAAQ,QAAQ,CAAC,EAAE,GAAG,GAAG;QAC/B;QACA,OAAO,gBAAgB,CAAC,WAAW;QAEnC,qEAAqE;QACrE,MAAM,YAAY;YAChB,IAAI,UAAU,MAAM;YACpB,SAAS,OAAO,WAAW,CAAC,iBAAiB;QAC/C;QACA,MAAM,WAAW;YACf,IAAI,UAAU,MAAM;YACpB,OAAO,aAAa,CAAC;YACrB,SAAS;QACX;QAEA,0DAA0D;QAC1D,MAAM,QAAQ;YACZ,IAAI,SAAS,eAAe,KAAK,UAAU;iBACtC;QACP;QACA,SAAS,gBAAgB,CAAC,oBAAoB;QAE9C;QAEA,OAAO;YACL,UAAU;YACV,OAAO,mBAAmB,CAAC,WAAW;YACtC,SAAS,mBAAmB,CAAC,oBAAoB;YACjD;QACF;IACF,GAAG,EAAE;IAEL,MAAM,YAAY,IAAA,gNAAO,EACvB,IAAM,CAAC;YAAE,QAAQ;YAAY,YAAY;YAAgB,UAAU;YAAc,WAAW;QAAc,CAAC,GAC3G;QAAC;QAAY;QAAgB;QAAc;KAAc;IAG3D,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAO,WAAU;;kCAChB,8OAAC;wBAAG,WAAU;kCAAQ;;;;;;kCACtB,8OAAC;wBAAE,WAAU;;4BAAW;0CACR,8OAAC;0CAAK;;;;;;4BAAmB;0CAAY,8OAAC;0CAAK;;;;;;4BAAgB;;;;;;;kCAI3E,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;;oCAAO;kDACR,8OAAC;kDAAG;;;;;;;;;;;;0CAEnB,8OAAC;gCAAK,WAAU;;oCAAO;kDAChB,8OAAC;kDAAG,eAAe,IAAI,CAAC;;;;;;;;;;;;0CAE/B,8OAAC;gCAAK,WAAU;;oCAAO;kDACX,8OAAC;kDAAG;;;;;;;;;;;;;;;;;;;;;;;;0BAKpB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,2IAAY;;;;;kCACb,8OAAC,uIAAQ;wBAAE,GAAG,SAAS;;;;;;;;;;;;0BAGzB,8OAAC;0BAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAkDT,CAAC;;;;;;;;;;;;AAGP"}}]
}